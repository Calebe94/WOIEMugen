8910


[Data]
life = 1000
attack = 100 ; 110 Strenght Thor
;attack = 85 ; MVSC3 Thor
defence = 100 ; Defence Thor
;defence = 120 ; True defence Thor
fall.defence_up = 50
liedown.time = 20
airjuggle = 15
sparkno = 8510
guard.sparkno = 8550
KO.echo = 1
volume = -20
;Variables with this index and above will not have their values
;reset to 0 between rounds or matches. There are 60 int variables,
;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
;If omitted, then it defaults to 60 and 40 for integer and float
;variables repectively, meaning that none are persistent, i.e. all
;are reset. If you want your variables to persist between matches,
;you need to override state 5900 from common1.cns.
IntPersistIndex = 58
FloatPersistIndex = 40


[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 45     ;Player width (back, ground)
ground.front = 40   ;Player width (front, ground)
air.back = 30       ;Player width (back, air)
air.front = 30       ;Player width (front, air)
height = 80;62          ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = 0, -120   ;Approximate position of head
mid.pos = 10, -65    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 2.6    ;Walk forward
walk.back = -2.4     ;Walk backward
run.fwd  = 9.2, -2.4 ;8, -2.4    ;Run forward (x, y)
run.back = -4,0 ;Hop backward (x, y)
jump.neu = 0,-10    ;Neutral jumping velocity (x, y)
jump.back = -2.9    ;Jump back Speed (x, y)
jump.fwd = 2.9      ;Jump forward Speed (x, y)
runjump.back = -4,-9 ;Running jump speeds (opt)
runjump.fwd = 4,-9      ;.
airjump.neu = 0,-9      ;.
airjump.back = -3      ;Air jump speeds (opt)
airjump.fwd = 3         ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 40  ;Minimum distance from ground before you can air jump (opt)
yaccel = .57         ;Vertical acceleration
stand.friction = .89  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; Variable usage:
; var(1)  -  combo condition (updated every tick)
; var(2)  - (state 800) to remember if fwd was beingheld (remembered from state 800 through state 810).
; var(3)  -  win
; var(4)  -  intro
; var(5)  -  mjol
; var(8)  -  Flying moves
; var(9)  -  negative edge
; var(10) -  Mystic rain thunder
; var(11-12) - bifros.tb
; var(15) -  Mystic rain superarmor
; var(20) -  recovery roll
; var(25) -  aerial rave
; Var(39) -  0-Morto, 1-Primeiro, 2-Segundo
; Var(38) -  1-Lutar só, 2-Duplo Especial, 3-Um Ataque, 4-Counter
; Var(37) -  1-Primeiro, 2-Segundo
; Var(36) -  Meu ID
; Var(35) -  0-Proíbe sair de tela, 1-Permite sair de tela
; Var(34) -  Memoriza a vida
; Var(33) -  Memoriza a vida
; Var(32) -  Prevenção para especial duplo
; Var(50) -  Hit Wall codes
; Var(59) -  AI
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTT         WINPOSES          TTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; Win state decider
[Statedef 180]
type = S

[State 180, aa]            
type = VarRandom         
trigger1 = Time = 0
v = 3
range = 200

[State 180, a1]
type = PalFX
trigger1 = 1
time = 1
add = 0,0,1

[State 180, a1]
type = ChangeState
trigger1 = Time = 0
;trigger1 = var(3) = [0,40]
value = 182


;[State 180, a3]
;type = ChangeState
;trigger1 = Time = 0
;trigger1 = var(3) = [81,120]
;value = 185










;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; Win pose 2 - wind
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 181, BGPalfx]
Type = BGPalfx
Trigger1 = time = 0
Add = 1,1,1
IgnoreHitPause = 1
time = 1

[State 240, spark]
type = Explod
;trigger1 = 1
trigger1 = animelem = 3
persistent = 1
anim = 3002
ownpal = 1
sprpriority = 2
pos = -5,-148
postype = p1
scale = 1,1
bindtime = 1
ignorehitpause = 1
hitcountpersist = 1

[State 181, ab1]
type = removeExplod
trigger1 = 1
id =8700

[State 3300, rainfallre]
type = removeexplod
trigger1 = time = 0
id = 3310

[State 7777, voice]
type = stopsnd
trigger1 = time = 0
channel = 6

[State 7777, voice]
type = PlaySnd
trigger1 = time = 0
value = 300,1




[state 193, A2]
type = assertspecial
trigger1 = Time >= 0
flag = NoBarDisplay

[State 182, a1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 182,a2]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = RoundNotOver


;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT





;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTT         INTROS            TTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; PREINTRO
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, 0]; intro special vs Flash by Erradicator & Black Dragon
type = ChangeState
trigger1 = time = 0
trigger1 = p2name = "Flash" || p4name = "Flash"
value = 192

[State 190, aa]            
type = VarRandom         
trigger1 = Time = 0
v = 4
range = 200





[State 190, a3];thunders
type = ChangeState
triggerall = p2name != "Flash" || p4name != "Flash"
trigger1 = Time = 0
;trigger1 = var(4) = [81,120]
value = 191




;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; THUNDERS INTRO
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191, A0] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[state 191, A1]
type = assertspecial
trigger1 = Time >= 0
flag = NoBarDisplay

[State 191, A2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro



[State 191, A4]
type = PlaySnd
trigger1 = time = 1
value = 3500,3
channel = -1





[State 191, A3] ;Change to stand state when done
type = ChangeState
trigger1 = time = 200
value = 0

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Flash intro
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 192, A2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, A3] ;Change to stand state when done
type = ChangeState
trigger1 = time = 160
value = 0






;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT


;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTT         BASIC MOVES          TTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

; Stand Light Punch
; CNS difficulty: easy
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                     ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
facep2 = 1                      ;Change animation (Def: no change)
poweradd = 125                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
hitcountpersist =1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 200
ctrl = 1
;hitcountpersist = 1

[State 200, voz]
type = PlaySnd
trigger1 = AnimElem = 1 && random <= 700
value = 6,4
channel = 1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 0

[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA                     ;Attribute: Standing, Normal Attack
Damage = 30
animtype = medium
;Damage that move inflicts, guard damaganimtype = Light ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 12
hitcountpersist = 1
               ;Time attacker pauses, time opponent shakes
                      ;Spark anim no (Def: set above)
sparkno = Sifelse(random>500,8520,8521) 
guard.sparkno = S8550
sparkxy = -15, -90              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S5, 2                  ;Sound to play on hit
guardsound = S7, 1                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 15             ;Time that the opponent slides back
ground.hittime  = 15            ;Time opponent is in hit state
ground.velocity = -5             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.6,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 18                 ;Time before opponent regains control in air
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
hitcountpersist = 1

[state 200, dashb]
type = VelSet
trigger1 = Time = 0 && PrevStateno = 105
x = -4.5
[state 200, dashb]
type = VelSet
trigger1 = Time = 0 && PrevStateno = 100
x = 4.5

[State 250, dust]
type = Explod 
trigger1 = PrevStateno = 100 && time = 0
anim = 8730
postype = p1
pos = -20, -3
removetime = -2
sprpriority = 3
persistent = 0
hitcountpersist = 1

[State 250, dust]
type = Explod 
trigger1 = PrevStateno = 105 && time = 0
anim = 8730
postype = p1
pos = -50, -3
removetime = -2
sprpriority = 3
persistent = 0
hitcountpersist = 1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; CNS difficulty: easy
; Note the width controller. It makes KFM's push box larger, so he doesn't
; stand so close to the opponent. Hit Ctrl-C and look at the red bar at his
; feet.
; The sprpriority for this state is at -1, instead of the usual 2 for
; attacks. This makes KFM appear behind the opponent initially.
; The SprPriority controller in [State 210, 4] brings KFM to the front when
; his arm has swung over.
; To stop KFM from pausing in his swing frame, there is a ChangeAnim in
; [State 210, 3] that detects if the hit has come in contact with the
; opponent during that frame, and switches to the next animation element
; (notice the elem=6 parameter). If you don't see what I mean, try commenting
; out that controller, then hit someone with this attack.
; Standing Medium punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 2
facep2 = 1
poweradd= 150
ctrl = 0
velset = 0,0
sprpriority = -1
hitcountpersist =1

[State 777, Wd]
type = Width
trigger1 = 1
value = 20,0

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 210
ctrl = 1
hitcountpersist = 1

[State 210, voz]
type = PlaySnd
trigger1 = AnimElem = 1 && random <= 700
value = 6,5
channel = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype  = medium
damage    = 40
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = Sifelse(random>500,8500,8501) 
guard.sparkno = S8550
sparkxy = -10,-70
hitsound   = S5,3
guardsound = S7,1
airguard.velocity = -1.8,-.8    
air.type = high                  
air.velocity = -1.5,-3           
air.hittime = 20
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.5,0
ground.cornerpush.veloff = -15
air.cornerpush.veloff = -15
hitcountpersist = 1

[State 210, 3]
type = HitDef
trigger1 = AnimElem = 7
attr = S, NA
animtype  = hard
damage    = 25
guardflag = MA                 
hitflag = MAF  
pausetime = 8,8
sparkno = Sifelse(random>500,8500,8502) 
guard.sparkno = S8550
sparkxy = -3,-39
hitsound   = S5,3
guardsound = S7,1
air.type = Low                  
air.velocity = -1.5,-3           
airguard.velocity = -1.8,-.8  
air.hittime = 20
ground.type = Low               
ground.slidetime = 20            
ground.hittime  = 20             
ground.velocity = -2    
hitcountpersist = 1

;[State 210, spark]
;type = Explod 
;trigger1 = movehit
;trigger1 = animelem = 1
;persistent = 0
;anim = 8500
;ownpal = 1
;sprpriority = 6
;pos = -10, -70
;postype = p2
;scale = .6,.6
;bindtime = 1
;ignorehitpause = 1

;[State 210, spark]
;type = Explod 
;triggerall = movehit
;trigger1 = animelem = 7
;persistent = 0
;anim = 8500
;ownpal = 1
;sprpriority = 6
;pos = -3, -39
;postype = p2
;scale = .6,.6
;bindtime = 1
;ignorehitpause = 1
[state 210, dashb]
type = VelSet
trigger1 = Time = 0 && PrevStateno = 105
x = -4.5
[state 210, dashb]
type = VelSet
trigger1 = Time = 0 && PrevStateno = 100
x = 4.5

[State 250, dust]
type = Explod 
trigger1 = PrevStateno = 100 && time = 0
anim = 8730
postype = p1
pos = -20, -3
removetime = -2
sprpriority = 3
persistent = 0
hitcountpersist = 1

[State 250, dust]
type = Explod 
trigger1 = PrevStateno = 105 && time = 0
anim = 8730
postype = p1
pos = -50, -3
removetime = -2
sprpriority = 3
persistent = 0
hitcountpersist = 1

[State 210, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; Standing strong punch
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 170
facep2 = 1
ctrl = 0
velset = 0,0
sprpriority = 2
hitcountpersist = 1

[State 777, Wd]
type = Width
trigger1 = Time = [10,45]
value = 35,0




[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 220
ctrl = 1
hitcountpersist = 1

[State 220, voz]
type = PlaySnd
trigger1 = AnimElem = 1
value = 7,0
channel = 1

[State 220, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 220, 2]
type = HitDef
trigger1 =  AnimElem = 3
attr = S, NA
animtype  = Hard
damage    = 77
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = S8550
sparkxy = -10,-34
hitsound   = S5,4
guardsound = S7,1
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -2,-1
guard.velocity = -10
air.velocity = 0,0

ground.cornerpush.veloff = -25
air.cornerpush.veloff = -25
down.cornerpush.veloff = -25
guard.cornerpush.veloff = -25
airguard.cornerpush.veloff = -25
fall = 0
fall.recover = 0
fall.recovertime = 25
hitcountpersist = 1

[State 240, spark]
type = Explod 
trigger1 = movehit
;trigger1 = animelem = 4
persistent = 0
anim = 8500
ownpal = 1
sprpriority = 6
pos = -15, -40
postype = p2
scale = 1.1,1.1
bindtime = 1
ignorehitpause = 1
hitcountpersist = 1

[State 240, spark]
type = Explod 
trigger1 = movehit
;trigger1 = animelem = 4
persistent = 0
anim = 8520 
ownpal = 1
sprpriority = 7
pos = -15, -40
postype = p2
scale = 1.1,1.1
bindtime = 1
ignorehitpause = 1
hitcountpersist = 1

[state 220, dashb]
type = VelSet
trigger1 = Time = 0 && PrevStateno = 105
x = -4.5

[State 250, dust]
type = Explod 
trigger1 = PrevStateno = 100 && time = 0
anim = 8730
postype = p1
pos = -30, -3
removetime = -2
sprpriority = 3
persistent = 0
hitcountpersist = 1

[State 250, dust]
type = Explod 
trigger1 = PrevStateno = 105 && time = 0
anim = 8730
postype = p1
pos = -50, -3
removetime = -2
sprpriority = 3
persistent = 0
hitcountpersist = 1

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; Standing light kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 125
ctrl = 0
velset = 4,0
sprpriority = 2
hitcountpersist =1


[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 240
ctrl = 1
hitcountpersist = 1

[State 200, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 700
value = 6,4
channel = 1

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 0

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 8,8
sparkno = Sifelse(random>500,8520,8521) 
guard.sparkno = S8550
sparkxy = -5,-58
hitsound   = S5,2
guardsound = S7,1
ground.type = Low
ground.slidetime = 6
ground.hittime  = 11
ground.velocity = -4
air.velocity = -2.5,-3.5
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
hitcountpersist = 1

[state 200, dashb]
type = VelSet
trigger1 = Time = 0 && PrevStateno = 105
x = -4.5
[state 200, dashb]
type = VelSet
trigger1 = Time = 0 && PrevStateno = 100
x = 4.5

[State 250, dust]
type = Explod 
trigger1 = PrevStateno = 100 && time = 0
anim = 8730
postype = p1
pos = -20, -3
removetime = -2
sprpriority = 3
persistent = 0
hitcountpersist = 1

[State 250, dust]
type = Explod 
trigger1 = PrevStateno = 105 && time = 0
anim = 8730
postype = p1
pos = -50, -3
removetime = -2
sprpriority = 3
persistent = 0
hitcountpersist = 1


[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; Standing medium kick
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 150
ctrl = 0
velset = 2,0
sprpriority = 2
facep2 = 1
hitcountpersist =1

[State 777, Wd]
type = Width
trigger1 = Time = [5,35]
value = 25,0

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 230
ctrl = 1
hitcountpersist = 1

[State 240, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 700
value = 6,5
channel = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 240, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 50
guardflag = MA
pausetime = 12,8
sparkno = Sifelse(random>500,8500,8501)
guard.sparkno = S8550
sparkxy = -10,-67
hitsound   = S5,3
guardsound = S7,1
ground.type = Low
ground.slidetime = 30
ground.hittime  = 18
ground.velocity = -8
air.velocity = -2.2,-3.2
ground.cornerpush.veloff = -15
air.cornerpush.veloff = -15
hitcountpersist = 1

[state 200, dashb]
type = VelSet
trigger1 = Time = 0 && PrevStateno = 105
x = -4.5
[state 200, dashb]
type = VelSet
trigger1 = Time = 0 && PrevStateno = 100
x = 4.5

[State 250, dust]
type = Explod 
trigger1 = PrevStateno = 100 && time = 0
anim = 8730
postype = p1
pos = 65, -3
removetime = -2
sprpriority = 3
persistent = 0
[State 250, dust]
type = Explod 
trigger1 = PrevStateno = 105 && time = 0
anim = 8730
postype = p1
pos = 30, -3
removetime = -2
sprpriority = 3
persistent = 0
hitcountpersist = 1


[State 240, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; Standing strong kick
; CNS difficulty: easy
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 170
facep2 = 1
ctrl = 0
velset = 0,0
sprpriority = 2
hitcountpersist =1

[state 250,a0]
type = varset
trigger1 = Var(59) >= 1
trigger1 = movehit
var(25) = 1

[State 250, a01]
type = ChangeAnim
trigger1 = time=0 && P2BodyDist X >= 15 && prevstateno != 9000
value = 255
ctrl = 1
hitcountpersist = 1

[State 250, a02]
type = ChangeAnim
trigger1 = time=0 && P2BodyDist X <= 14 && prevstateno != 9000
value = 255
ctrl = 1
hitcountpersist = 1

[State 250, a03] 
type = ChangeState
triggerall = Var(59) >= 1
trigger1 = movehit
value = 2999
ctrl = 1
hitcountpersist = 1

[State 250, a04] 
type = ChangeState
trigger1 = command = "holdup" && movehit
value = 2999
ctrl = 1
hitcountpersist = 1


[State 250, Wd]
type = Width
triggerall = anim = 255 
trigger1 = Time = [10,45]
value = 50,0

[State 250, voz]
type = PlaySnd
trigger1 = AnimElem = 1
value = 20,2
channel = 1

[State 250, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 250, spark] 
type = Explod
trigger1 = MoveHit
persistent = 0
anim = 8540
postype = p2
pos = 0, -70
removetime = -2
sprpriority = 9
ownpal = 1
ignorehitpause = 1
hitcountpersist = 1

[State 250, spark]
type = Explod 
trigger1 = movehit
persistent = 0
anim = ifelse(random>500,8500,8501)
ownpal = 1
sprpriority = 6
pos = 8, -90
postype = p2
scale = 1.1,1.1
bindtime = 1
ignorehitpause = 1
hitcountpersist = 1

[State 250, spark]
type = Explod 
trigger1 = movehit
persistent = 0
anim = 8520
ownpal = 1
sprpriority = 7
pos = 8, -90
postype = p2
scale = 1.1,1.1
bindtime = 1
ignorehitpause = 1
hitcountpersist = 1


[State 250, 2]
type = HitDef
trigger1 = p2stateno != 5040 && time = 0
attr = S, NA                     
animtype = Up                 
guardflag = MA                  
damage = 70
hitflag = MAF                  
pausetime = 3, 4   
sparkno = -1;S8500
guard.sparkno = S8550                     
sparkxy = 8, -94              
hitsound = S5,1                  
guardsound = S7,1           
ground.type = high               
priority = 4, Hit
ground.slidetime = 20            
ground.hittime  = 20             
ground.velocity = -1,-15.3       
guard.velocity = -8
airguard.velocity = -8,-1     
air.type = high                  
air.velocity = -1,-14            
air.hittime = 20
envshake.time = 7
envshake.ampl = 4
;fall =1
;fall.recover = 1
;fall.recovertime = 40
fall.envshake.time = 7
fall.envshake.ampl = -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = -8
guard.cornerpush.veloff = -15
airguard.cornerpush.veloff = -15
;air.juggle = 15
hitcountpersist = 1
 
 
[State 250, 2x]
type = HitDef
trigger1 = p2stateno = 5040 && time = 0
attr = S, NA                     
animtype = Up                 
guardflag = MA                  
damage = 70
hitflag = MAF                  
pausetime = 8, 8   
sparkno = -1;S8500
guard.sparkno = S8550                     
sparkxy = 8, -94              
hitsound = S5,1                  
guardsound = S7,1           
ground.type = high               
priority = 4, Hit
ground.slidetime = 10            
ground.hittime  = 40             
ground.velocity = -5,-6        
guard.velocity = -8
airguard.velocity = -8,-1     
air.type = high                  
air.velocity = -5,-6            
air.hittime = 40
envshake.time = 7
envshake.ampl = 4
;fall.recovertime = 40
fall.envshake.time = 7
fall.envshake.ampl = -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = -8
guard.cornerpush.veloff = -15
airguard.cornerpush.veloff = -15
hitcountpersist = 1

[state 250, dashb]
type = VelSet
trigger1 = Time = 0 && PrevStateno = 105
x = -4.5
[state 250, dashb]
type = VelSet
trigger1 = Time = 0 && PrevStateno = 100
x = 4.5

[State 250, dust]
type = Explod 
triggerall = anim = 255
trigger1 = PrevStateno = 100 && time = 0
anim = 8730
postype = p1
pos = 65, -3
removetime = -2
sprpriority = 3
persistent = 0
hitcountpersist = 1

[State 250, dust]
type = Explod 
triggerall = anim = 250
trigger1 = PrevStateno = 100 && time = 0
anim = 8730
postype = p1
pos = -20, -3
removetime = -2
sprpriority = 3
persistent = 0
hitcountpersist = 1

[State 250, dust]
type = Explod 
trigger1 = PrevStateno = 105 && time = 0
anim = 8730
postype = p1
pos = 30, -3
removetime = -2
sprpriority = 3
persistent = 0
hitcountpersist = 1


[State 250, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTT  BASIC CROUCH MOVES    TTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

;Crouching light punch
; CNS difficulty: easy
; Description: Simple crouching attack. The HitDef's guardflag parameter
;     is set to "L", meaning that the move can only be guarded low
;     (crouching), and not by standing or jumping opponents.
;     Like for all light attacks, it's a good idea to keep the slidetime
;     and hittime parameters at a smaller number, so the opponent isn't
;     stunned for too long. For all crouching attacks you have to
;     remember to set the attr parameter to indicate that it is crouching
;     attack. In this case, "C, NA" stands for "crouching, normal attack".
;     The HitDef's priority is set at 3, instead of the default of 4,
;     so this attack has a lower priority than most others, meaning
;     KFM will get hit instead of trading hits with his opponent if
;     their attack collision boxes (Clsn1) intersect each other's Clsn2
;     boxes at the same time.
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 225
ctrl = 0
sprpriority = 2
hitcountpersist =1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 400
ctrl = 1
hitcountpersist = 1

[State 400, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 500
value = 6,4
channel = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 30
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = Sifelse(random>500,8520,8521) 
guard.sparkno = S8550
sparkxy = -5,-50
hitsound   = S5,2
guardsound = s7,1
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
hitcountpersist = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; CNS difficulty: easy
; Description: This is a 2-hit move. It is done by having two HitDefs
;     triggered, one for each frame of animation that hits.
;     Notice how the first hit cannot be guarded by an opponent in the
;     air, because of the "M" in the guardflag, meaning it can only
;     be guarded "middle". The second hit has an "MA" guardflag, so
;     it can be guarded both on the ground and in the air.
;---------------------------------------------------------------------------
;Crouching medium punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 2
poweradd= 150
ctrl = 0
sprpriority = 2
facep2 = 1
hitcountpersist =1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 410
ctrl = 1
hitcountpersist = 1

[State 777, Wd]
type = Width
trigger1 = 1
value = 20,0

[State 410, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 500
value = 20,5
channel = 1

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 50
animtype  = Medium
hitflag = MAFD
guardflag = L
pausetime = 8,8
sparkno = Sifelse(random>500,8500,8501)
guard.sparkno = S8550
sparkxy = -10,-50
hitsound   = S5,3
guardsound = S7,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4
ground.cornerpush.veloff = -15
air.cornerpush.veloff = -15
hitcountpersist = 1



[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Crouching strong punch
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 3
poweradd= 170
facep2 = 1
ctrl = 0
velset = 4,0
sprpriority = 2
hitcountpersist =1




[State 777, Wd]
type = Width
trigger1 = Time = [5,40]
value = 25,0

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 420
ctrl = 1
hitcountpersist = 1



[State 420, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 2

[State 420, Mjolnir]
type = PlaySnd
trigger1 = animelem = 3
value = 20,7
channel = -1

[State 420, 2]
type = HitDef
trigger1 = AnimElem = 1 || AnimElem = 10 || AnimElem = 14
attr = C, NA
damage    = 25
animtype  = hard
air.animtype = back
hitflag = MAF
guardflag = MA
fall.animtype = hard
priority = 4
pausetime = 8,8
sparkno = Sifelse(random>500,8500,8501)
guard.sparkno = S8550
sparkxy = -19,-80
hitsound   = S5,4
air.type = low
guardsound = S7,1
ground.type = high
numhits = 1
ground.slidetime = 4
ground.hittime  = 4
air.hittime = 4
ground.velocity = -6, -4
guard.velocity = -6
air.velocity = -6, -4
airguard.velocity = -4, -4
fall = 1
fall.recover = 1
fall.recovertime = 30
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
down.cornerpush.veloff = -8
guard.cornerpush.veloff = -8
airguard.cornerpush.veloff = -8
hitcountpersist = 1

[State 420, 2x]
type = HitDef
trigger1 = AnimElem = 9 || AnimElem = 13 || AnimElem = 16
attr = C, NA
damage    = 25
animtype  = hard
air.animtype = back
hitflag = MAF
guardflag = MA
fall.animtype = hard
priority = 4
pausetime = 8,8
sparkno = Sifelse(random>500,8500,8501)
guard.sparkno = S8550
sparkxy = -11,-106
hitsound   = S5,4
air.type = high
guardsound = S7,1
ground.type = high
numhits = 1
ground.slidetime = 4
ground.hittime  = 4
air.hittime = 4
ground.velocity = -6, -4
guard.velocity = -6
air.velocity = -6, -4
airguard.velocity = -4, -4
fall = 1
fall.recover = 1
fall.recovertime = 30
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
down.cornerpush.veloff = -8
guard.cornerpush.veloff = -8
airguard.cornerpush.veloff = -8
hitcountpersist = 1




[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Crouching light kick
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 125
facep2 = 1
ctrl = 0
sprpriority = 2
hitcountpersist =1

[State 777, Wd]
type = Width
trigger1 = 1
value = 10,0

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 430
ctrl = 1
hitcountpersist = 1

[State 200, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 500
value = 6,4
channel = 1

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 30
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 8,8
sparkno = Sifelse(random>500,8520,8521) 
guard.sparkno = S8550
sparkxy = -10,-2
hitsound   = s5,2
guardsound = s7,1
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
hitcountpersist = 1


[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Crouching medium kick
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 2
poweradd= 150
facep2 = 1
ctrl = 0
sprpriority = 2
hitcountpersist =1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 440
ctrl = 1
hitcountpersist = 1

[State 777, Wd]
type = Width
trigger1 = 1
value = 10,0

[State 440, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 500
value = 6,5
channel = 1

[State 440, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 440, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 50
animtype  = medium
hitflag = MAF
guardflag = MA
pausetime = 8,8
sparkno = Sifelse(random>500,8500,8501)
guard.sparkno = S8550
sparkxy = -10,-40
hitsound   = S5,3
guardsound = S7,1
ground.type = high
ground.slidetime = 6
ground.hittime  = 20
ground.velocity = -5
air.velocity = -2,-3
air.hittime  = 20
ground.cornerpush.veloff = -15
air.cornerpush.veloff = -15
hitcountpersist = 1

[State 440, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Crouch Strong Kick
; CNS difficulty: easy
; Description: This move uses "Trip" for the "ground.type" parameter in
;     its HitDef. It's a special type that puts the opponent in a tripped
;     animation as he falls. Also, the hitflag parameter in the HitDef
;     is set to "MAFD". The "D" indicates that a downed opponent can be
;     hit by the attack.
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 170
facep2 = 1
ctrl = 0
sprpriority = -2
hitcountpersist =1

[State 777, Wd]
type = Width
trigger1 = Time = [8,40]
value = 38,0

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 450
ctrl = 1
hitcountpersist = 1

[State 450, voz]
type = PlaySnd
trigger1 = AnimElem = 1
value = 20,8
channel = 1

[State 450, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 450, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 70
sprpriority = 6
p1sprpriority = 6
hitflag = MAFD
guardflag = L
pausetime = 13,8
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,1
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0,-4
air.velocity = 0,-3
guard.velocity = -5
fall = 1
envshake.time = 7
envshake.ampl = 4
fall.envshake.time = 7
fall.envshake.ampl = -4
ground.cornerpush.veloff = -15
air.cornerpush.veloff = -15
hitcountpersist = 1

[State 240, spark]
type = Explod 
trigger1 = movehit
persistent = 0
anim = 8500
ownpal = 1
sprpriority = 6
pos = -10, -25
postype = p2
scale = 1.1,1.1
bindtime = 1
ignorehitpause = 1
hitcountpersist = 1

[State 240, spark]
type = Explod 
trigger1 = movehit
persistent = 0
anim = 8520
ownpal = 1
sprpriority = 7
pos = -10, -25
postype = p2
scale = 1.1,1.1
bindtime = 1
ignorehitpause = 1
hitcountpersist = 1


[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
hitcountpersist = 1


;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTT  BASIC JUMP MOVES    TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 225
ctrl = 0
sprpriority = 2
hitcountpersist =1

[State 77,pa ]
type = Pause
trigger1 = prevstateno = 2999 && movecontact
time =1
ignorehitpause = 1
persistent= 0

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 600
ctrl = 1
hitcountpersist = 1

[State 600, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 500
value = 6,4
channel = 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 30
hitflag = MAF
guardflag = HA
priority = 3
pausetime = 6,6
sparkno = Sifelse(random>500,8520,8521) 
guard.sparkno = S8550
sparkxy = -10,-90
hitsound   = S5,2
guardsound = S7,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -4
ground.cornerpush.veloff = -8
air.velocity = 0,-9;-8
air.hittime  = 20
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
airguard.velocity = -3,-3
hitcountpersist = 1

[State 600, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1
hitcountpersist = 1


;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Jump Medium Punch
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 150
ctrl = 0
sprpriority = 2
hitcountpersist =1

[State 77,pa ]
type = Pause
trigger1 = prevstateno = 600 && movecontact
trigger2 = prevstateno = 630 && movecontact
trigger3 = prevstateno = 2999&& movecontact
time =1
ignorehitpause = 1
persistent= 0

[State 777, a1] ;Gravity
type = VelAdd
trigger1 = prevstateno = 600 
trigger2 = prevstateno = 630 
y = -.2

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 610
ctrl = 1
hitcountpersist = 1

[State 610, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 500
value = 6,5
channel = 1

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = Medium
damage = ifelse((prevstateno = [600,650]),35,45)
hitflag = MAF
guardflag = HA
priority = 4
pausetime = 6,6
sparkno = Sifelse(random>500,8500,8501)
guard.sparkno = S8550
sparkxy = -8,-86
hitsound   = S5,3
guardsound = S7,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -5
air.velocity = 0,-8
air.hittime  = 25
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -8
guard.cornerpush.veloff = -8
airguard.velocity = -3,-3
hitcountpersist = 1

[State 610, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Jump Medium Punch 2
[Statedef 615]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 150
ctrl = 0
sprpriority = 2
hitcountpersist =1

[State 77,pa ]
type = Pause
trigger1 = prevstateno = 610 && movecontact
time =1
ignorehitpause = 1
persistent= 0

[State 777, a1] ;Gravity
type = VelAdd
trigger1 = prevstateno = 610 
y = -.2

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 615
ctrl = 1
hitcountpersist = 1

[State 615, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 500
value = 6,5
channel = 1

[State 615, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 615, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = Medium
damage = 35
hitflag = MAF
guardflag = HA
priority = 4
pausetime = 6,6
sparkno = Sifelse(random>500,8500,8501)
guard.sparkno = S8550
sparkxy = -8,-86
hitsound   = S5,3
guardsound = S7,1
air.type = low
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = 0,1
air.hittime  = 25
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -8
guard.cornerpush.veloff = -8
airguard.velocity = -3,-3
hitcountpersist = 1

[State 615, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Jump Strong Punch
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 170
ctrl = 0
sprpriority = 2
hitcountpersist =1

[State 650, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = hard
damage    = ifelse((prevstateno = [600,650]),50,70)
guardflag = MA
hitflag = MAF
priority = 4
pausetime = ifelse((prevstateno = [600,650]),3,8),ifelse((prevstateno = [600,650]),9,8)
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,1
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -11,5
air.hittime  = 20
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1



[State 777, a1] ;Gravity
type = VelAdd
trigger1 = prevstateno = 600 
trigger2 = prevstateno = 630 
trigger3 = prevstateno = 610 
trigger4 = prevstateno = 640 
trigger5 = prevstateno = 615 
y = -.3

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 620
ctrl = 1
hitcountpersist = 1

[State 200, voz]
type = PlaySnd
trigger1 = AnimElem = 1
value = 20,8
channel = 1

[State 620, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 620, Mjolnir]
type = PlaySnd
trigger1 = animelem = 6
value = 6, 4
channel = -1



[State 620, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1
hitcountpersist = 1


;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Jump Light Kick
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 135
ctrl = 0
sprpriority = 2
hitcountpersist =1

[State 77,pa ]
type = Pause
trigger1 = prevstateno = 2999 && movecontact
time =1
ignorehitpause = 1
persistent= 0

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 630
ctrl = 1
hitcountpersist = 1

[State 200, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 500
value = 6,4
channel = 1

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = light
damage = 30
hitflag = MAF
guardflag = HA
priority = 3
pausetime = 6,6
sparkno = Sifelse(random>500,8520,8521) 
guard.sparkno = S8550
sparkxy = -5,-35
hitsound   = S5,2
guardsound = S7,1
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -6
ground.cornerpush.veloff = -8
air.type = low
air.velocity = 0,-8
air.hittime  = 20
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
hitcountpersist = 1

[State 630, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1
hitcountpersist = 1


;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Jump Medium kick
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 150
ctrl = 0
sprpriority = 2
hitcountpersist =1

[State 77,pa ]
type = Pause
trigger1 = prevstateno = 630 && movecontact
trigger2 = prevstateno = 2999&& movecontact
trigger3 = prevstateno = 600 && movecontact
trigger4 = prevstateno = 610 && movecontact
trigger5 = prevstateno = 615 && movecontact
time =1
ignorehitpause = 1
persistent= 0

[State 777, a1] ;Gravity
type = VelAdd
Trigger1 = prevstateno = 630 
trigger2= prevstateno = 600 
trigger3 = prevstateno = 610 
trigger4 = prevstateno = 615 
y = -.2

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 640
ctrl = 1

[State 640, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 500
value = 6,5
channel = 1

[State 640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 640, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = ifelse((prevstateno = [600,650]),35,50)
hitflag = MAF
guardflag = HA
priority = 4
pausetime = 6,6
sparkno = Sifelse(random>500,8500,8501)
guard.sparkno = S8550
sparkxy = -10,-40
hitsound   = S5,3
guardsound = S7,1
animtype = medium
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -6,-4
ground.cornerpush.veloff = -8
air.velocity = 0,-4
air.hittime  = 20
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
hitcountpersist = 1

[State 640, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Jump Strong Kick
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 170
ctrl = 0
sprpriority = 2
hitcountpersist =1

[State 77,pa ]
type = Pause
trigger1 = prevstateno = 640 && movecontact
trigger2 = prevstateno = 2999&& movecontact
trigger3 = prevstateno = 600 && movecontact
trigger4 = prevstateno = 630 && movecontact
trigger5 = prevstateno = 610 && movecontact
trigger6 = prevstateno = 615 && movecontact
time =1
ignorehitpause = 1
persistent= 0

[State 777, a1] ;Gravity
type = VelAdd
trigger1 = prevstateno = 640 && movecontact
trigger2 = prevstateno = 600 && movecontact
trigger3 = prevstateno = 630 && movecontact
trigger4 = prevstateno = 610 && movecontact
trigger5 = prevstateno = 615 && movecontact
y = -.3

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 650
ctrl = 1
hitcountpersist = 1

[State 650, voz]
type = PlaySnd
trigger1 = AnimElem = 1
value = 20,8
channel = 1

[State 650, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 650, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = hard
damage    = ifelse((prevstateno = [600,650]),50,70)
guardflag = MA                  
hitflag = MAF  
priority = 4
pausetime = ifelse((prevstateno = [600,650]),3,8),ifelse((prevstateno = [600,650]),9,8)
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,1
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -11,5
air.hittime  = 20
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1


[State 240, spark]
type = Explod 
trigger1 = movehit
persistent = 0
anim = 8500
ownpal = 1
sprpriority = 6
pos = -12, ifelse(p2statetype=A,-30,-90)
postype = p2
scale = 1.1,1.1
bindtime = 1
ignorehitpause = 1
hitcountpersist = 1

[State 240, spark]
type = Explod 
trigger1 = movehit
persistent = 0
anim = 8520
ownpal = 1
sprpriority = 7
pos = -12, ifelse(p2statetype=A,-30,-90)
postype = p2
scale = 1.1,1.1
bindtime = 1
ignorehitpause = 1
hitcountpersist = 1


[State 650, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTT        THROWS    TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

; CNS difficulty: medium-advanced
; Description: Throws are not difficult to make, although then can be
;     tedious at times. Throw attempt states have a HitDef of a
;     special format. The key parameters in a throw are p1stateno
;     and p2stateno. If the HitDef successfully connects, then
;     the attacker will change to the state number specified by
;     p1stateno, and the opponent will be change to the state
;     number assigned to p2stateno. The special thing about p2stateno
;     is that the opponent will be temporarily brought into the
;     attacker's state file. In this case, no matter who the
;     opponent is, he will be taken to state 820 of this file (kfm.cns)
;     and remain here until the end of the throw (look at his debug
;     information when he is being thrown; the text changes to yellow
;     to mean that he is in another player's state file).

;---------------------------------------------------------------------------
; Throws
;---------------------------------------------------------------------------
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

; Notes: The '-' symbol in the hitflag field means that it only affects
;   players who are not in a hit state. This prevents KFM from combo-ing
;   into the throw. The priority should be set to a low number, such as
;   1 or 2, so that the throw does not take precedence over normal attacks.
;   The type of priority must always be set to "Miss" or "Dodge" for throws,
;   otherwise strange behavior can result.
[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face KFM
p1stateno = 810       ;On success, KFM changes to state 810
p2stateno = 0      ;If hit, p2 changes to state 820 in KFM's cns
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kung Fu Throw - Throwing the opponent
; Description: In this state, KFM throws the opponent by binding him to
;     various offsets based on his current frame of animation. For
;     example, [State 810, Bind 1] binds the opponent to an offset of
;     28 pixels in front of KFM. That puts him around where KFM's hand
;     is at. Is is important to keep the opponent bound using a
;     TargetBind controller at all times, until you let him go. This
;     is especially important if your player has a Clsn2 box that
;     allows him to get hit while throwing someone. Each time a player
;     gets hit, all his bound targets will be set to a fall state. If
;     the opponent is not bound, then he may get stuck in his thrown
;     state when his attacker is knocked out of the throw halfway.
; Notes: There is a TargetLifeAdd controller to decrease the opponent's
;     life, and a TargetState controller to change his state to a
;     falling state when KFM lets go of him.
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 60

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 200,1
volume = 0
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan =
;ignorehitpause =
;persistent =



; Here a variable, var(2), is used to remember whether or not the
; player was holding forward at the start of the state. This variable
; is checked later on to turn KFM around if necessary.


[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,4

[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 300,6

[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 300,7

[State 220, HitDef]
type = HitDef
trigger1 = 1
attr = S, NA
animtype  = Hard
damage    = 20
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = s8002
sparkxy = -15,-79
guard.sparkno = s8001
hitsound = s8000,0
guardsound = 6,0
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,-7
guard.velocity = -10
air.velocity = -1,-4
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 4
envshake.freq = 27
envshake.ampl = -6
ground.cornerpush.veloff = -25
air.cornerpush.veloff = -25
down.cornerpush.veloff = -25
guard.cornerpush.veloff = -25
airguard.cornerpush.veloff = -25
fall = 1
fall.recover = 1
fall.recovertime = 25
;hitcountpersist = 1


[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Thrown by Kung Fu Throw
; (a custom gethit state)
; Description: This is the state that the opponent changes to after being
;     hit by KFM's throw HitDef. The important thing here is to use a
;     ChangeAnim2 controller. The difference between ChangeAnim2 and
;     ChangeAnim is that ChangeAnim2 changes the player's animation to
;     an action in the AIR file of the attacker (in this case, kfm.air),
;     whereas ChangeAnim always changes the player to an action in his
;     own AIR file. Look at Action 820 in kfm.air for some extra
;     comments.
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

;In case attacker loses binding on player for any reason, this controller
;guarantees that the player will never get stuck in this thrown state.
[State 820, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

;---------------------------------------------------------------------------
;Thrown by Kung Fu Throw - thrown into the air
; (a custom gethit state)
; Description: This state has the opponent flying through the air and
;     falling down onto the ground. The SelfState controller sets the
;     opponent back using to his own state file when he his the ground.
;     Controllers 821,2 and 821,3 allow the opponent to recover by
;     hitting his recovery command when he is falling.
[Statedef 821]
type    = A
movetype= H
physics = N
velset = 2.8,-7
poweradd = 40

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 821, 2] ; Recover near ground (use ChangeState)
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 821, 3] ; Recover in mid air (use SelfState)
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground
;END


;[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[
;[[[[[[[[[[[[[[  SPECIALS [[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[
;[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[













;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTT   MJOLNIR LAUNCH TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

;TTTTTTTTTTTTTTTT MJOLNIR INIT TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
[Statedef 1009]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 5
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 1009
ctrl = 1
hitcountpersist = 1

[state 7777, bi]
type = varset
trigger1 = time = 0
var(5) = 0

[State 1009, aa] 
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1009, a1]
type = Width
trigger1 = 1
edge = 0,50

[State 1009, a2]
type = HitDef
trigger1 = AnimElem = 1 || AnimElem = 6 || AnimElem = 10
attr = S, SA
damage    = 50,5
animtype  = hard
hitflag = MAF
guardflag = MA
priority = 4
pausetime = 8,8
sparkno = S8500
guard.sparkno = S8550
sparkxy = -19,-80
hitsound   = S5,4
air.type = low
guardsound = S7,1
ground.type = high
ground.slidetime = 4
ground.hittime  = 8
air.hittime = 8
guard.dist = 10
ground.velocity = 7, -8
air.velocity = 7, -8
airguard.velocity = 7, -8
fall = 1
fall.recover = 1
fall.recovertime = 30
hitcountpersist = 1

[State 1009, bb] 
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1009, cc]
type = PlaySnd
trigger1 = time = 0
value = 6, 3
channel = 0
loop = 1
ignorehitpause = 1



[State 1009, dd]
type = PlaySnd
triggerall = NumExplod(8650)
trigger1 = time%14 = 0
value = 20, 0
channel = 6
;loop = 1
ignorehitpause = 1
volume = 250

[State 1009, re]
type = removeexplod
trigger1 = command != "mjolnirspin" 
id = 8650

[State 1009, ee]
type = PlaySnd
trigger1 = time = 35
value = 20, 2
channel = -1

[State 1009, aa1]
type = Explod 
trigger1 = time = 50
sprpriority = 7
id = 8650
anim = 8650
postype = P1
pos = 62, 24
removeongethit = 1
scale = 1.8,1.5
bindtime = -1
ownpal = 1
removetime = -1
hitcountpersist = 1

[State 1009, aa2]
type = Explod 
trigger1 = time = 50
sprpriority = 7
id = 8651
anim = 8651
postype = P1
pos = 0, 0
removeongethit = 1
bindtime = -1
ownpal = 1
removetime = -1
hitcountpersist = 1

[State 1009, cc1] 
type = ChangeAnim
trigger1 = command = "mjolnirspin"
trigger1 = time = 0
value = 1009
hitcountpersist = 1

[State 1009, dd1]
type = ChangeState
trigger1 = !NumExplod(8650) 
trigger1 = command != "mjolnirspin" 
value = 1000
ctrl = 0
hitcountpersist = 1

[State 1009, dd2]
type = ChangeState
triggerall = NumExplod(8650)
trigger1 = time = 90
value = 1200
ctrl = 0
hitcountpersist = 1

[Statedef 10091]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 5
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 1009
ctrl = 1
hitcountpersist = 1

[state 7777, bi]
type = varset
trigger1 = time = 0
var(5) = 0

[State 10091, aa] 
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 10091, a1]
type = Width
trigger1 = 1
edge = 0,50

[State 10091, a2]
type = HitDef
trigger1 = AnimElem = 1 || AnimElem = 6 || AnimElem = 10
attr = S, SA
damage    = 50,5
animtype  = hard
hitflag = MAF
guardflag = MA
priority = 4
pausetime = 8,8
sparkno = S8500
guard.sparkno = S8550
sparkxy = -19,-80
hitsound   = S5,4
air.type = low
guardsound = S7,1
guard.dist = 5
ground.type = high
ground.slidetime = 4
ground.hittime  = 8
air.hittime = 8
ground.velocity = 7, -8
air.velocity = 7, -8
airguard.velocity = 7, -8
fall = 1
fall.recover = 1
fall.recovertime = 30
hitcountpersist = 1

[State 10091, bb] 
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 10091, cc]
type = PlaySnd
trigger1 = time = 0
value = 6, 3
channel = 0
loop = 1
ignorehitpause = 1

[State 10091, dd]
type = PlaySnd
triggerall = NumExplod(8650)
trigger1 = time%14 = 0
value = 20, 0
channel = 6
;loop = 1
ignorehitpause = 1
volume = 250

[State 10091, ee]
type = PlaySnd
trigger1 = time = 25
value = 20, 2
channel = -1

[State 10091, aa1]
type = Explod 
trigger1 = time = 20
sprpriority = 7
id = 8650
anim = 8650
postype = P1
pos = 62, 24
removeongethit = 1
scale = 1.8,1.5
bindtime = -1
ownpal = 1
removetime = -1
hitcountpersist = 1

[State 10091, aa2]
type = Explod 
trigger1 = time = 20
sprpriority = 7
id = 8651
anim = 8651
postype = P1
pos = 0, 0
removeongethit = 1
bindtime = -1
ownpal = 1
removetime = -1
hitcountpersist = 1

[State 10091, dd2]
type = ChangeState
trigger1 = p2bodydist X <= 35
value = 1000
ctrl = 0
hitcountpersist = 1

[State 10091, dd2]
type = ChangeState
triggerall = NumExplod(8650)
trigger1 = time = 60
value = 1200
ctrl = 0
hitcountpersist = 1


;TTTTTTTTTTTTTTTTT luger NORMAL TTTTTTTTTTTTTTTTTTTTTTTTTTTT


; Special 1 - Lugar Pistol Spray
[StateDef 1000]
type = S
movetype = A
physics = S
anim = 1000
ctrl = 0
velset = 0,0


; voice
[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,3
channel = 1
volume = 100




; sfx
[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S6,3
; sfx


[State 1000, fireball]
type = hitdef
trigger1 = AnimElem =5
ProjID = 1002
projanim = 1002
projhitanim = 8520
projremanim = 1002
projcancelanim = 1002
velocity = 5,0
offset = 60,-90
; HitDef
attr = S,SP
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = medium
priority = 4,Hit   ;Hit,Miss,Dodge
damage = 20,5
pausetime = 4,4
sparkno = S1002
sparkxy = 0,-90
guard.sparkno = 0
hitsound = S60,4
guardsound = S3,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -6,0
air.velocity = -2,-2


[State 1000, fireball]
type = hitdef
trigger1 = AnimElem = 6
ProjID = 1002
projanim = 1002
projhitanim = 8520
projremanim = 1002
projcancelanim = 1002
velocity = 5,0
offset = 40,-90
; HitDef
attr = S,SP
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = medium
priority = 4,Hit   ;Hit,Miss,Dodge
damage = 20,5
pausetime = 4,4
sparkno = S1002
sparkxy = 0,-90
guard.sparkno = 0
hitsound = S60,4
guardsound = S3,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -6,0
air.velocity = -2,-2

[State 1000, fireball]
type = hitdef
trigger1 = AnimElem = 7
ProjID = 1002
projanim = 1002
projhitanim = 8520
projremanim = 1002
projcancelanim = 1002
velocity = 5,0
offset = 30,-90
; HitDef
attr = S,SP
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = medium
priority = 4,Hit   ;Hit,Miss,Dodge
damage = 20,5
pausetime = 4,4
sparkno = S1002
sparkxy = 0,-90
guard.sparkno = 0
hitsound = S60,4
guardsound = S3,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -6,0
air.velocity = -2,-2



[State 1000, changestate]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1







;TTTTTTTTTTTTTTTTT LazerLash TTTTTTTTTTTTTTTTTTTTTTTTTTTT


; Special 2 - LazerLash
[StateDef 1012]
type = S
movetype = A
physics = S
anim = 1012
ctrl = 0
velset = 0,0


[State 9031, Vel Y]
type = VelSet
trigger1 = Time = 0
x = 2

[State 9031, Vel X]
type = VelSet
trigger1 = Time = 6
x = -7.6


[State 9031, Vel X]
type = VelSet
trigger1 = Time = 10
x = 6

[State 9031, Vel X]
type = VelSet
trigger1 = Time = 14
x = -2

[State 9031, Vel X]
type = VelSet
trigger1 = Time = 18
x = 14






[State 650, 3]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
animtype = hard
damage    = 25,45
guardflag = MA
hitflag = MAF
priority = 4
pausetime = ifelse((prevstateno = [600,650]),3,8),ifelse((prevstateno = [600,650]),9,8)
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,1
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 2
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -11,5
air.hittime  = 20
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1

[State 650, 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
animtype = hard
damage    = 25,45
guardflag = MA
hitflag = MAF
priority = 4
pausetime = ifelse((prevstateno = [600,650]),3,8),ifelse((prevstateno = [600,650]),9,8)
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,1
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 2
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -11,5
air.hittime  = 20
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1

[State 650, 3]
type = HitDef
trigger1 = animelem = 5
attr = A, NA
animtype = hard
damage    = 25,45
guardflag = MA
hitflag = MAF
priority = 4
pausetime = ifelse((prevstateno = [600,650]),3,8),ifelse((prevstateno = [600,650]),9,8)
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,1
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 2
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -11,5
air.hittime  = 20
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1


[State 650, 3]
type = HitDef
trigger1 = animelem = 6
attr = A, NA
animtype = hard
damage    = 25,45
guardflag = MA
hitflag = MAF
priority = 4
pausetime = ifelse((prevstateno = [600,650]),3,8),ifelse((prevstateno = [600,650]),9,8)
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,1
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 2
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -11,5
air.hittime  = 20
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1


[State 650, 3]
type = HitDef
trigger1 = animelem = 7
attr = A, NA
animtype = hard
damage    = 25,45
guardflag = MA
hitflag = MAF
priority = 4
pausetime = ifelse((prevstateno = [600,650]),3,8),ifelse((prevstateno = [600,650]),9,8)
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,1
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 2
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -11,5
air.hittime  = 20
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1


[State 650, 3]
type = HitDef
trigger1 = animelem = 8
attr = A, NA
animtype = hard
damage    = 25,45
guardflag = MA
hitflag = MAF
priority = 4
pausetime = ifelse((prevstateno = [600,650]),3,8),ifelse((prevstateno = [600,650]),9,8)
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,1
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 2
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -11,5
air.hittime  = 20
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1


[State 650, 3]
type = HitDef
trigger1 = animelem = 9
attr = A, NA
animtype = hard
damage    = 25,45
guardflag = MA
hitflag = MAF
priority = 4
pausetime = ifelse((prevstateno = [600,650]),3,8),ifelse((prevstateno = [600,650]),9,8)
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,1
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 2
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -11,5
air.hittime  = 20
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1

[State 650, 3]
type = HitDef
trigger1 = animelem = 10
attr = A, NA
animtype = hard
damage    = 25,45
guardflag = MA
hitflag = MAF
priority = 4
pausetime = ifelse((prevstateno = [600,650]),3,8),ifelse((prevstateno = [600,650]),9,8)
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,1
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 2
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -11,5
air.hittime  = 20
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1

[State 650, 3]
type = HitDef
trigger1 = animelem = 11
attr = A, NA
animtype = hard
damage    = 25,45
guardflag = MA
hitflag = MAF
priority = 4
pausetime = ifelse((prevstateno = [600,650]),3,8),ifelse((prevstateno = [600,650]),9,8)
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,1
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 2
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -11,5
air.hittime  = 20
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1


[State 650, 3]
type = HitDef
trigger1 = animelem = 12
attr = A, NA
animtype = hard
damage    = 25,45
guardflag = MA
hitflag = MAF
priority = 4
pausetime = ifelse((prevstateno = [600,650]),3,8),ifelse((prevstateno = [600,650]),9,8)
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,1
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 2
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -11,5
air.hittime  = 20
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1


[State 650, 3]
type = HitDef
trigger1 = animelem = 13
attr = A, NA
animtype = hard
damage    = 25,45
guardflag = MA
hitflag = MAF
priority = 4
pausetime = ifelse((prevstateno = [600,650]),3,8),ifelse((prevstateno = [600,650]),9,8)
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,1
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 2
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -11,5
air.hittime  = 20
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1


[State 650, 3]
type = HitDef
trigger1 = animelem = 14
attr = A, NA
animtype = hard
damage    = 25,45
guardflag = MA
hitflag = MAF
priority = 4
pausetime = ifelse((prevstateno = [600,650]),3,8),ifelse((prevstateno = [600,650]),9,8)
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,1
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 2
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -11,5
air.hittime  = 20
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1


; voice
[State 1000, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = 200,4
channel = -1
volume = 100






; voice
[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 20,4
channel = 1
volume = 100



[State 1000, changestate]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1








;TTTTTTTTTTTTTTTTT Cosmic Smash TTTTTTTTTTTTTTTTTTTTTTTTTTTT


; Special 3 - Cosmic Smash
[StateDef 1010]
anim = 1010
ctrl = 0
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 30

[State 2500, dust]
type = Explod
trigger1 = Time = 0
anim = 8580
supermove = 1
ontop = 1
removeongethit = 1

[State 2500, "catch!"]
type = PlaySnd
trigger1 = AnimElem = 1
value = 50,2

[State 2500, "catch!"]
type = PlaySnd
trigger1 = AnimElem = 1
value = 50,5

[State 2500, "catch!"]
type = PlaySnd
trigger1 = AnimElem = 5
value = 60,0

[State 2500, Helper]
type = Helper
trigger1 = AnimElem = 5
helpertype = normal ;player
;name = "Frag Grenade"
ID = 25
stateno = 2510
pos = 95,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.ground.back = 9
size.ground.front = 11
size.air.back = 9
size.air.front = 11
size.height = 20
size.mid.pos = 9,9

[State 2500, back to normal]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Grenade: thrown & falling
[StateDef 2510]
type    = S
MoveType= A
physics = N
ctrl = 0
anim = 1011
VelSet = 4,0
sprpriority = -1



[State 2510, 0]
type = VelAdd
trigger1 = (Time >= 4) && (Pos Y <= 0)
x = .35

[State 2510, 0a]
type = NotHitBy
trigger1 = IsHelper
value = SCA



[State 2510, 1]
type = HitDef
trigger1 = time = 0
attr = S,SP
hitflag = MAFD
guardflag = MA
;affectteam = E
priority = 2,Hit
sprpriority = 2
p1stateno = 2525


[State 18190, RemoveExplod]
type = RemoveExplod
trigger1 = movecontact = 0
ID = 25






; Grenade: exploding state
[StateDef 2525]
type    = S
MoveType= A
physics = N
ctrl = 0
;anim = 2521
VelSet = 0,0
sprpriority = 4

[State 2525, 0]
type = AssertSpecial
trigger1 = IsHelper
flag = noshadow

[State 2525, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S60,1
volume = 100



[State 2525, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S,SP
hitflag = MAFD
guardflag = MA
animtype = Up
sparkno = 8570
guard.sparkno = 0
sparkxy = 0,0
;affectteam = B
priority = 2,Hit
sprpriority = 2
damage = 100,30
pausetime = 1,8
ground.type = Low
ground.slidetime = 2
ground.hittime = 5
ground.velocity = 3, -4
air.velocity = -4, -5
fall = 1
fall.recover = 0
down.bounce = 1
kill = 1
;palfx.time = 20
;palfx.add = 64,32,0
;palfx.mul = 512,384,256
p2stateno = 7697


[State 0, Explod]
type = Explod
trigger1 = movecontact
ctrl = 0
anim = 8570
VelSet = 0,0
sprpriority = 4


[State 2525, 1]
type = EnvShake
trigger1 = (!Time)
time = 30
freq = 50
ampl = -5
phase = 90




[State 2525, 0]
type = DestroySelf
trigger1 = AnimTime = 0


; Burned by grenade - custom P2 state
[Statedef 7697]
type    = A
physics = N
movetype = H
ctrl = 0
anim = 5002

[State 7696, 5]
type = VelSet
trigger1 = Time = 0
x = -3
y = -4


[State 2525, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S300,3
volume = 100

[State 7697, changeAnim]
type = ChangeAnim
trigger1 = AnimExist(7697) && Anim != 7697
value = 7697

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = Time = 0
time = 25
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 0

[State 7696, gravity]
type = VelAdd
trigger1 = Time > 2
y = 0.45

[State 7696, 6]
type = SelfState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100









;Special 7 - Teleport




[Statedef 1003]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 225
ctrl = 0
sprpriority = 2
hitcountpersist =1

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
x = 1.5
y = 0
;ignorehitpause =
;persistent =


[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 1003
ctrl = 1
hitcountpersist = 1

[State 400, voz]
type = PlaySnd
trigger1 = animtime = 0
value = 300,4
channel = -1

[State 400, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 3500, 0

[State 400, 2]
type = HitDef
trigger1 = animelem = 1
attr = C, NA
damage    = 30
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = Sifelse(random>500,8520,8521)
guard.sparkno = S8550
sparkxy = -5,-50
hitsound   = S5,2
guardsound = s7,1
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
hitcountpersist = 1

[State 400, 2]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
damage    = 30
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = Sifelse(random>500,8520,8521)
guard.sparkno = S8550
sparkxy = -5,-50
hitsound   = S5,2
guardsound = s7,1
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
hitcountpersist = 1


 [State 400, 2]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
damage    = 30
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = Sifelse(random>500,8520,8521)
guard.sparkno = S8550
sparkxy = -5,-50
hitsound   = S5,2
guardsound = s7,1
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
hitcountpersist = 1

[State 400, 2]
type = HitDef
trigger1 = animelem = 4
attr = C, NA
damage    = 30
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = Sifelse(random>500,8520,8521)
guard.sparkno = S8550
sparkxy = -5,-50
hitsound   = S5,2
guardsound = s7,1
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
hitcountpersist = 1

[State 400, 2]
type = HitDef
trigger1 = animelem = 5
attr = C, NA
damage    = 30
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = Sifelse(random>500,8520,8521)
guard.sparkno = S8550
sparkxy = -5,-50
hitsound   = S5,2
guardsound = s7,1
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
hitcountpersist = 1


[State 400, 2]
type = HitDef
trigger1 = animelem = 6
attr = C, NA
damage    = 30
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = Sifelse(random>500,8520,8521)
guard.sparkno = S8550
sparkxy = -5,-50
hitsound   = S5,2
guardsound = s7,1
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
hitcountpersist = 1


[State 400, 2]
type = HitDef
trigger1 = animelem = 7
attr = C, NA
damage    = 30
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = Sifelse(random>500,8520,8521)
guard.sparkno = S8550
sparkxy = -5,-50
hitsound   = S5,2
guardsound = s7,1
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
hitcountpersist = 1



[State 400, 2]
type = HitDef
trigger1 = animelem = 8
attr = C, NA
damage    = 30
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = Sifelse(random>500,8520,8521)
guard.sparkno = S8550
sparkxy = -5,-50
hitsound   = S5,2
guardsound = s7,1
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
hitcountpersist = 1













[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
hitcountpersist = 1













;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTT   SPECIAL THUNDER STRIKE  TTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

[Statedef 1100]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
juggle = 6
poweradd = 220
hitcountpersist =1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 1100
ctrl = 1
hitcountpersist = 1

[State 1100, aa]
type = Helper
trigger1 = animelem = 4
name = "thunderstrike"
ID = 1101
pos = -10,0
stateno = 1101
ownpal = 1
removeongethit = 1
hitcountpersist = 1

[State 1100, a1]
type = Explod 
trigger1 = time = 0
sprpriority = 7
anim = 8580
pos = 0, -10
removeongethit = 1
scale = .846,.846
bindtime = -1
hitcountpersist = 1

[State 1100, a2]
type = Explod 
trigger1 = time = 0
sprpriority = 7
id = 1101
anim = 1101
postype = p1
pos = 0, 0
removeongethit = 1
bindtime = -1
hitcountpersist = 1

[State 1100, thunderstrike]
type = PlaySnd
trigger1 = time = 0
value = 70, 1
channel = 0
;loop = 1
IgnoreHitPause = 1
volume = 150
hitcountpersist = 1

[State 1103, a1]
type = playsnd
trigger1 = time%38 = 0
value = 70,3
channel = 6
volume = -20
hitcountpersist = 1

[State 1100, b2]
type = PlayerPush
trigger1 = 1
value = 0

[State 1100, ab]
type = MakeDust
trigger1 = animelem = 4
pos = 40, -15
spacing = 3
sprpriority = 4
hitcountpersist = 1

[State 1100, cc]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = hard
damage    = 13,2
priority = 2, Hit
sprpriority = 2
hitflag = MAFP
guardflag = MA
pausetime = 0,7
sparkno = S8570
guard.sparkno = S8550
sparkxy = -10,-34
hitsound   = S5,3
guardsound = S7,1
guard.dist = 320
ground.type = High
ground.slidetime = 12
ground.hittime  = 45
ground.velocity = -9,-4
air.velocity = -9,-4
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 6
envshake.freq = 127
envshake.ampl = -5
hitcountpersist = 1

[State 1100, c1]
type = ChangeState
trigger1 = AnimTime = 0
value = 1103
ctrl = 1
hitcountpersist = 1

[Statedef 1103];-----------
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
hitcountpersist = 1

[State 1103, ab1]
type = removeExplod
trigger1 = 1
id =1101
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 1103
ctrl = 1
hitcountpersist = 1

[State 1103, c1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1

[Statedef 1101];--------------
type = S 
movetype = A
sprpriority = 7
physics = S ;N
anim = 8600
juggle = 5
hitcountpersist =1


[State 1101, a1]
type = BindToRoot
trigger1 = 1
pos = 15, 0
time = -1
ignorehitpause = 1
hitcountpersist = 1

[state 1101, a3]
type = assertspecial
trigger1 = 1
flag = noshadow
hitcountpersist = 1

[State 1101, b2]
type = PlayerPush
trigger1 = 1
value = 0

[State 1101, ff]
type = HitDef
triggerall = p2stateno != 17696
trigger1 = AnimElem = 1 || AnimElem = 6 || AnimElem = 10 || AnimElem = 14 || AnimElem = 18;Time % 4 = 3
attr = S, SP
hitflag = MAFP
guardflag = MA
animtype = medium
priority = 6, Hit
sprpriority = 7
damage = 15,2
pausetime = 0,4 ;10
sparkno = -1;S8570
guard.sparkno = S8550
sparkxy = 0,-70  
hitsound = S20,1
guardsound = S7,1
ground.type = high ;low               
ground.slidetime = 10; 40
ground.hittime  = 20             
ground.velocity = -3 
guard.dist = 320
air.velocity = -3,-2
airguard.velocity = -5     
guard.velocity = -5 
air.type = Low                  
air.hittime = 20
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0 
;fall = 1
;air.fall = 1
envshake.time = 7
envshake.freq = 40
envshake.ampl = -5
p2stateno = 1105
hitcountpersist = 1


[State 1101, 0]
type = Explod 
triggerall = movehit
trigger1 = AnimElem = 1 || AnimElem = 6 || AnimElem = 10 || AnimElem = 14 || AnimElem = 18
sprpriority = 7
anim = 8570
postype = P2
pos = 0, -70
random = 40,40
removeongethit = 1
hitcountpersist = 1

[State 1103, a3]
type = PlaySnd 
triggerall = p2stateno = 17696
trigger1 = AnimElem = 1 || AnimElem = 6 || AnimElem = 10 || AnimElem = 14 || AnimElem = 18
value = 20,1
channel = 1
volume = 100
hitcountpersist = 1

[State 17696, a2]
type = hitadd 
triggerall = p2stateno = 17696
trigger1 = AnimElem = 1 || AnimElem = 6 || AnimElem = 10 || AnimElem = 14 || AnimElem = 18
value = 1
hitcountpersist = 1

[State 1101, ee]
type = Destroyself
triggerall = numhelper(1101)
trigger1 = parent, MoveType = H 
trigger2 = animtime = 0
trigger3= parent,stateno=2000||parent,stateno=3100||parent,stateno=3200||parent,stateno=3400
trigger4= parent,stateno=1300||parent,stateno=1310||parent,stateno=1320
trigger5= parent,stateno=1400||parent,stateno=1410||parent,stateno=1420
trigger6 = parent, statetype = A 
trigger7 = parent, statetype = C
trigger8 = parent, stateno = 3500
hitcountpersist = 1

[State 1101, eg]
type = AfterImage
trigger1 = Time = 1
time = 15
length = 18
timegap = 2
framegap = 1
trans = add
paladd = 0,0,0
hitcountpersist = 1

[State 1101, g1]
type = NotHitBy
trigger1 = 1
value = SCA, NA, SA, HA, NT, ST, HT, NP
ignorehitpause = 1
hitcountpersist = 1

[State 1101, g2]
type = HitOverride
trigger1 = 1
attr = SCA,SP,HP
stateno = 1102
slot = 0
time = -1
hitcountpersist = 1

[State 1101, g3]
type = HitBy
trigger1 = 1
value = SCA, SP, HP
ignorehitpause = 1
hitcountpersist = 1

[Statedef 1102]
type = A
movetype = A
sprpriority = -1
physics = N
hitcountpersist = 1

[State 1102, ab1]
type = removeExplod
trigger1 = 1
id =1101
hitcountpersist = 1

[State 1102, aa]
type = Destroyself
trigger1 = 1
hitcountpersist = 1

;------------thunderstrike Shocked

[Statedef 1105]
type    = A
movetype = H
physics = N
anim = 5000
hitcountpersist = 1

[State 1105, a1]
type = Velset
trigger1 = time = 0
y = 0
x = 0

[State 1105, a3]
type = ChangeAnim
trigger1 = AnimExist(7696)
value = 7696
persistent = 0
hitcountpersist = 1

[State 1105, a4]
type = SelfState
trigger1 = Anim != 7696
trigger1 = time = 5
value = 5000
hitcountpersist = 1

[State 1105, a5]
type = ChangeState
trigger1 = Anim = 7696
value = 17696
hitcountpersist = 1

[Statedef 17696];-----------sho
type    = A                     
movetype= H                      
physics = N 
anim = 7696
hitcountpersist = 1

[State 17696, a1]
type = lifeadd
trigger1 = time = 16
trigger2 = time = 24
trigger3 = time = 32
trigger4 = time = 38
trigger5 = time = 46
value = -13
hitcountpersist = 1

[State 17696, a2]
type = PalFX
trigger1 = time = 32
time = 33
add = -90,0,140
sinadd = 100,100,100,10
hitcountpersist = 1

[State 17696, a3]
type = Velset
trigger1 = time = 0 
trigger2 = time = 10
trigger3 = time = 20
trigger4 = time = 30
trigger5 = time = 40
trigger6 = time = 50
trigger7 = time = 60
x = -2
hitcountpersist = 1

[State 17696, a4]
type = Velset
trigger1 = time = 5 
trigger2 = time = 15
trigger3 = time = 25
trigger4 = time = 35
trigger5 = time = 45
trigger6 = time = 55
trigger7 = time = 65
x = 0
hitcountpersist = 1

[State 17696, a5]
type = Veladd
trigger1 = time = 0
y = -.1
hitcountpersist = 1


[State 17696, a6]
type = EnvShake
trigger1 = time = 0 
trigger2 = time = 10
trigger3 = time = 20
trigger4 = time = 30
trigger5 = time = 40
trigger6 = time = 50
trigger7 = time = 60
time = 5
ampl = -4
freq = 40
hitcountpersist = 1

[State 17696, a7]
type = changestate;SelfState
trigger1 = p2stateno != 1100
value = 17697
hitcountpersist = 1

[State 17696, a8]
type = SelfState
trigger1 = p2movetype = H
value = 5030
hitcountpersist = 1

[Statedef 17697];---shockend cancel for hypers
type    = A                     
movetype= H                      
physics = N 
anim = 7696
hitcountpersist = 1

[State 17697, a1]
type = ChangeAnim
trigger1 = time = 10
value = 5030
hitcountpersist = 1

[State 17697, a2]
type = SelfState
trigger1 = time = 15
value = 5030
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTT   SPECIAL Rising hero/Mighty Mjolnir TTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;weak
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 6
velset = 0,0
sprpriority = 4
ctrl = 0
poweradd = 220
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 1300
ctrl = 1
hitcountpersist = 1

[State 1101, ee]
type = Destroyself
triggerall = numhelper(1101)
trigger1 = 1
id = 1101
hitcountpersist = 1

[State 1300, a1]
type = removeExplod 
trigger1 = 1
id = 1101
hitcountpersist = 1

[State 1300, a1]
type = Explod 
trigger1 = time = 0
sprpriority = 7
anim = 8580
pos = -52, -10
removeongethit = 1
scale = .846,.846
bindtime = 1
hitcountpersist = 1

[State 1300, a2]
type = StateTypeSet
trigger1 = animelem = 17
statetype = A
movetype = A
physics = A
hitcountpersist = 1

[State 1300, b1]
type = PlaySnd
trigger1 = time = 0
value = 6, 4
channel = 7
loop = 1
removeongethit = 1

[State 1300, b2]
type = Stopsnd
trigger1 = animelem = 25
channel = 7

[State 7777, voice]
type = PlaySnd
trigger1 = time = 0
value = 60,1
channel = 0
removeongethit = 1

[State 1300, b2]
type = Stopsnd
trigger1 = time = 50
channel = 6

[State 1300, b4]
type = PlaySnd
trigger1 = time = 10
value = 300,1
channel = 3


[State 1300, cc]
type = NotHitBy
trigger1 = time = [0,15]
value = SCA

[State 1300, dd]
type = velset
trigger1 = animelem = 17
x = 5;2.5
y = -8.6
hitcountpersist = 1

[State 1300, dd]
type = velset
trigger1 = animelem = 21
x = 2.5

[State 1300, d1]
type = velset
trigger1 = animelem = 27
x = 0
hitcountpersist = 1

[State 1300, d2]
type = veladd
trigger1 = animelem = 17
y = .20
hitcountpersist = 1

[State 1320, 1x]
type = MakeDust
trigger1 = Time = [0,20]
pos = 0,-2
spacing = 4
hitcountpersist = 1

[State 1320, 1x]
type = MakeDust
trigger1 = Time = [0,20]
pos = 10,6
spacing = 3
hitcountpersist = 1


[State 1300, ee]
type = HitDef
trigger1 = AnimElem = 10 || AnimElem = 15  
attr = S, SA
animtype  = hard
damage    = 15, 3
priority  = 6, hit
hitflag = MAFP 
guardflag = MA
pausetime = 3,3;2,1
sparkno = S8520
guard.sparkno = S8550
sparkxy = -10,-100
hitsound   = -1
guardsound = S7,1
ground.type = high
fall = 0
air.type = high
ground.slidetime = 12
ground.hittime  = 12
air.hittime  = 20
ground.velocity = 0,-12
air.velocity = 0,-12
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
hitcountpersist = 1

[State 1300, ee]
type = HitDef
trigger1 = AnimElem = 19 
attr = S, SA
animtype  = hard
damage    = 80, 3
priority  = 6, hit
hitflag = MAFP 
guardflag = MA
pausetime = 3,3;2,1
sparkno = S8500
guard.sparkno = S8550
sparkxy = -10,-100
hitsound   = -1
guardsound = S7,1
ground.type = high
air.type = high
ground.slidetime = 12
ground.hittime  = 10
air.hittime  = 40
ground.velocity = -9,ifelse(FrontEdgeBodyDist < 100, -5, -15)
air.velocity = -9,ifelse(FrontEdgeBodyDist < 100, -5, -12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
hitcountpersist = 1

[State 1300, hit]
type = PlaySnd 
trigger1 = animelem = 10&& movehit
trigger2 = animelem = 15&& movehit
trigger3 = animelem = 19&& movehit
trigger4 = animelem = 21 && movehit
trigger5 = animelem = 23 && movehit
value = 5,2
channel = 1
hitcountpersist = 1

[State 1300, hit]
type = PlaySnd 
trigger1 = animelem = 25&& movehit
trigger2 = animelem = 27 && movehit
value = 5,1
channel = 1
hitcountpersist = 1

[State 400, 4]
type = ChangeState
trigger1 = Time = 100
value = 51
hitcountpersist = 1




;MEDIUM TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
[Statedef 1310]
type    = S
movetype= A
physics = S
juggle  = 6
velset = 0,0
sprpriority = 4
ctrl = 0
poweradd = 230
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 1300
ctrl = 1
hitcountpersist = 1

[State 1101, ee]
type = Destroyself
triggerall = numhelper(1101)
trigger1 = 1
id = 1101
hitcountpersist = 1

[State 1300, a1]
type = removeExplod 
trigger1 = 1
id = 1101
hitcountpersist = 1

[State 1310, a1]
type = Explod 
trigger1 = time = 0
sprpriority = 7
anim = 8580
pos = -52, -10
removeongethit = 1
scale = .846,.846
bindtime = 1
hitcountpersist = 1

[State 1310, a2]
type = StateTypeSet
trigger1 = animelem = 17
statetype = A
movetype = A
physics = A
hitcountpersist = 1

[State 1310, b1]
type = PlaySnd
trigger1 = time = 0
value = 6, 4
channel = 7
loop = 1
removeongethit = 1
hitcountpersist = 1

[State 1310, b2]
type = Stopsnd
trigger1 = animelem = 25
channel = 7

[State 7777, voice]
type = PlaySnd
trigger1 = time = 0
value = 60,1
channel = 0
removeongethit = 1
hitcountpersist = 1


[State 1300, b2]
type = Stopsnd
trigger1 = time = 50
channel = 6

[State 1310, b4]
type = PlaySnd
trigger1 = time = 10
value = 300,1
channel = 3



[State 1310, cc]
type = NotHitBy
trigger1 = time = [0,15]
value = SCA
hitcountpersist = 1

[State 1310, dd]
type = velset
trigger1 = animelem = 17
x = 7.4;3.7
y = -11.3

[State 1310, dd]
type = velset
trigger1 = animelem = 21
x = 3.7
hitcountpersist = 1


[State 1310, d1]
type = velset
trigger1 = animelem = 27
x = 0
hitcountpersist = 1

[State 1310, d2]
type = veladd
trigger1 = animelem = 17
y = .20
hitcountpersist = 1

[State 1320, 1x]
type = MakeDust
trigger1 = Time = [0,25]
pos = 0,-2
spacing = 4
hitcountpersist = 1

[State 1320, 1x]
type = MakeDust
trigger1 = Time = [0,22]
pos = 10,6
spacing = 3
hitcountpersist = 1

[State 1310, ee]
type = HitDef
trigger1 = AnimElem = 10 || AnimElem = 12 || AnimElem = 16
attr = S, SA
animtype  = hard
damage    = 15, 3
numhits = 1
priority  = 6, hit
hitflag = MAFP 
guardflag = MA
pausetime = 3,3
sparkno = S8520
guard.sparkno = S8550
sparkxy = -10,-100
hitsound   = -1
guardsound = S7,1
ground.type = high
fall = 0
air.type = high
ground.slidetime = 12
ground.hittime  = 12
air.hittime  = 20
ground.velocity = 0,-12
air.velocity = 0,-12
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
hitcountpersist = 1

[State 1310, ee]
type = HitDef
trigger1 = AnimElem = 19 
attr = S, SA
animtype  = hard
damage    = 80, 3
priority  = 6, hit
hitflag = MAFP 
guardflag = MA
pausetime = 3,3
sparkno = S8500
guard.sparkno = S8550
sparkxy = -10,-100
hitsound   = -1
guardsound = S7,1
ground.type = high
air.type = high
ground.slidetime = 12
ground.hittime  = 10
air.hittime  = 40
ground.velocity = -9,ifelse(FrontEdgeBodyDist < 100, -5, -15)
air.velocity = -9,ifelse(FrontEdgeBodyDist < 100, -5, -12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
hitcountpersist = 1

[State 1300, hit]
type = PlaySnd 
trigger1 = animelem = 10&& movehit
trigger2 = animelem = 12&& movehit
trigger3 = animelem = 16&& movehit
trigger4 = animelem = 19&& movehit
trigger5 = animelem = 21 && movehit
trigger6 = animelem = 23 && movehit
value = 5,2
channel = 1
hitcountpersist = 1

[State 1300, hit]
type = PlaySnd 
trigger1 = animelem = 25&& movehit
trigger2 = animelem = 27 && movehit
value = 5,1
channel = 1
hitcountpersist = 1


[State 400, 4]
type = ChangeState
trigger1 = Time = 100
value = 51
hitcountpersist = 1


;STRONG TTTTTTTTTTTTTTTTTTTTTTTTT
[Statedef 1320]
type    = S
movetype= A
physics = S
juggle  = 6
velset = 0,0
sprpriority = 4
ctrl = 0
poweradd = 240
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 1300
ctrl = 1
hitcountpersist = 1

[State 1101, ee]
type = Destroyself
triggerall = numhelper(1101)
trigger1 = 1
id = 1101
hitcountpersist = 1

[State 1300, a1]
type = removeExplod 
trigger1 = 1
id = 1101
hitcountpersist = 1

[State 1320, a1]
type = Explod 
trigger1 = time = 0
sprpriority = 7
anim = 8580
pos = -52, -10
removeongethit = 1
scale = .846,.846
bindtime = 1
hitcountpersist = 1

[State 1320, a2]
type = StateTypeSet
trigger1 = animelem = 17
statetype = A
movetype = A
physics = A
hitcountpersist = 1

[State 1320, b1]
type = PlaySnd
trigger1 = time = 0
value = 6, 4
channel = 7
loop = 1
removeongethit = 1
hitcountpersist = 1

[State 1320, b2]
type = Stopsnd
trigger1 = animelem = 25
channel = 7

[State 7777, voice]
type = PlaySnd
trigger1 = time = 0
value = 60,1
channel = 0
removeongethit = 1

[State 1300, b2]
type = Stopsnd
trigger1 = time = 50
channel = 6

[State 1320, b4]
type = PlaySnd
trigger1 = time = 10
value = 300,1
channel = 3


[State 1320, cc]
type = NotHitBy
trigger1 = time = [0,15]
value = SCA
hitcountpersist = 1

[State 1320, dd]
type = velset
trigger1 = animelem = 17
x = 8.5;4.2
y = -13.8
hitcountpersist = 1

[State 1320, dd]
type = velset
trigger1 = animelem = 21
x = 4.2
hitcountpersist = 1

[State 1320, d1]
type = velset
trigger1 = animelem = 29
x = 0
hitcountpersist = 1

[State 1320, d2]
type = veladd
trigger1 = animelem = 17
y = .10
hitcountpersist = 1

[State 1320, 1x]
type = MakeDust
trigger1 = Time = [0,28]
pos = 0,-2
spacing = 4
hitcountpersist = 1

[State 1320, 1x]
type = MakeDust
trigger1 = Time = [0,25]
pos = 10,6
spacing = 3
hitcountpersist = 1

[State 1320, ee]
type = HitDef
trigger1 = AnimElem = 10 || AnimElem = 13 || AnimElem = 15 ||AnimElem = 17 
attr = S, SA
animtype  = hard
damage    = 15, 3
numhits = 2
priority  = 6, hit
hitflag = MAFP 
guardflag = MA
pausetime = 3,3;2,1
sparkno = S8520
guard.sparkno = S8550
sparkxy = -10,-100
hitsound   = -1
guardsound = S7,1
ground.type = high
fall = 0
air.type = high
ground.slidetime = 12
ground.hittime  = 12
air.hittime  = 20
ground.velocity = 0,-12
air.velocity = 0,-12
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
hitcountpersist = 1

[State 1320, ee]
type = HitDef
trigger1 = AnimElem = 19 
attr = S, SA
animtype  = hard
damage    = 80, 3
priority  = 6, hit
hitflag = MAFP 
guardflag = MA
pausetime = 3,3;2,1
sparkno = S8500
guard.sparkno = S8550
sparkxy = -10,-100
hitsound   = -1
guardsound = S7,1
ground.type = high
air.type = high
ground.slidetime = 12
ground.hittime  = 10
air.hittime  = 40
ground.velocity = -9,ifelse(FrontEdgeBodyDist < 100, -5, -15)
air.velocity = -9,ifelse(FrontEdgeBodyDist < 100, -5, -12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
hitcountpersist = 1

[State 1300, hit]
type = PlaySnd 
trigger1 = animelem = 10 && movehit
trigger2 = animelem = 13 && movehit
trigger3 = animelem = 15 && movehit
trigger4 = animelem = 17&& movehit
trigger5 = animelem = 19&& movehit
trigger6 = animelem = 21 && movehit
trigger7 = animelem = 23 && movehit
value = 5,2
channel = 1
hitcountpersist = 1

[State 1300, hit]
type = PlaySnd 
trigger1 = animelem = 25&& movehit
trigger2 = animelem = 27 && movehit
value = 5,1
channel = 1
hitcountpersist = 1


[State 400, 4]
type = ChangeState
trigger1 = Time = 100
value = 51
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 
;TTTTTTTTT BIFROST BREAK (Asgardian thunderbolt)   TTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

; CLOSE TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
[Statedef 1400]
type    = C
movetype= A
physics = C
juggle  = 5
velset = 0,0
sprpriority = 4
ctrl = 0
poweradd = 220
hitcountpersist = 1

[State 777, Wd]
type = Width
trigger1 = Time = [10,50]
value = 15,0
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 1400
ctrl = 1
hitcountpersist = 1

[State 1400, b2]
type = PlayerPush
trigger1 = 1
value = 0

[State 1400, thunderout]
type = Stopsnd
trigger1 = time = 0
channel = 7

[State 1400, a1]
type = Explod 
trigger1 = time = 0
sprpriority = 7
anim = 8580
pos = -30, -10
removeongethit = 1
scale = .846,.846
bindtime = 1
hitcountpersist = 1


[State 1400, a0]
type = removeExplod 
trigger1 = 1
id = 1101
hitcountpersist = 1

[State 1400, aa1]
type = Explod 
trigger1 = AnimElem = 8
sprpriority = 5
id = 8425
anim = 8425
postype = P1
pos =  50,-50
removeongethit = 1
bindtime = -1
ownpal = 1
hitcountpersist = 1

[State 1400, A1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 7,0
channel = 0
volume = 50
hitcountpersist = 1

[State 1400, A1]
type = PlaySnd
trigger1 = time = 0
value = 300,2
channel = 2
hitcountpersist = 1

[State 1400, A2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1

[State 7777, voice]
type = PlaySnd
trigger1 = time = 0
value = 60,0
channel = 1
IgnoreHitPause = 1
hitcountpersist = 1

[State 1400, b1]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = hard
damage    = 35,5
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,4
sparkno = S8500
guard.sparkno = S8550
sparkxy = -10,-34
hitsound   = S5,4
guardsound = S7,1
ground.type = low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-2
air.velocity = -6,-2
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 6
envshake.freq = 127
envshake.ampl = -5
ground.cornerpush.veloff = -18
air.cornerpush.veloff = -18
down.cornerpush.veloff = -18
guard.cornerpush.veloff = -18
airguard.cornerpush.veloff = -18
hitcountpersist = 1

[State 1400, A3]
type = Helper
trigger1 = animelem = 4
ID = 1401
name = "boltclose"
StateNo = 1401
postype = p1
pos = 100, 0
ownpal = 1
hitcountpersist = 1

[state 7777, bi]
type = varset
trigger1 = time = 0
var(11) = 0
[state 7777, bi]
type = varset
trigger1 = time = 0
var(12) = 0
hitcountpersist = 1



;---------------- CLOSE
[Statedef 1401]
type    = A
movetype= A
physics = N
anim = 1450
juggle  = 5
velset = 0,0
ctrl = 0
hitcountpersist = 1

[state 7777, bi]
type = parentvarset
trigger1 = movecontact
var(11) = 1
hitcountpersist = 1

[state 7777, bi]
type = parentvarset
trigger1 = movecontact
var(12) = 1
hitcountpersist = 1

[State 1401, Width]
type = Width
trigger1 = 1
player = -25,-25
hitcountpersist = 1

[state 7777, a0]
type = assertspecial
trigger1 = 1
flag = noshadow
hitcountpersist = 1

[State 1401, A1]
type = PlaySnd
trigger1 = time = 0
value = 20,4
channel = 0
hitcountpersist = 1

[State 1401, A2]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage    = 45,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,-4
air.velocity = -3,-3
guard.velocity = -5
fall = 1
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0 
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1

[State 1401, A3]
type = Explod 
triggerall = movehit
trigger1 = AnimElem = 1 || AnimElem = 6 || AnimElem = 9 || AnimElem = 14 
sprpriority = 7
anim = 8570
postype = P2
pos = 0, -70
random = 40,40
removeongethit = 1
hitcountpersist = 1

[State 1401, A4]
type = PlaySnd
triggerall = movehit
trigger1 = AnimElem = 1 || AnimElem = 6 || AnimElem = 9 || AnimElem = 14 
value = 20,1
hitcountpersist = 1

[State 1401, A5]
type = EnvShake
trigger1 = animelem = 4
time = 15
ampl = -4
hitcountpersist = 1

[State 1400, X0]
type = PlayerPush
trigger1 = 1
value = 0

[State 1400, X1]
type = NotHitBy
trigger1 = 1
value = SCA 
time = 3
ignorehitpause = 1

[State 1401, A6]
type = DestroySelf
trigger1 = animtime = 0 

[Statedef 1403];------- shock
type    = A
physics = N
movetype = H
anim = 5000
hitcountpersist = 1

[State 1403, a2]
type = ChangeAnim
trigger1 = AnimExist(7696)
value = 7696
persistent = 0
hitcountpersist = 1

[State 1403, a3]
type = SelfState
trigger1 = time = 12
value = 5070
hitcountpersist = 1

; MID TTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
[Statedef 1410]
type    = C
movetype= A
physics = C
juggle  = 5
velset = 0,0
sprpriority = 4
ctrl = 0
poweradd = 230
hitcountpersist = 1

[State 777, Wd]
type = Width
trigger1 = Time = [10,45]
value = 15,0
hitcountpersist = 1


[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 1400
ctrl = 1
hitcountpersist = 1

[State 1400, b2]
type = PlayerPush
trigger1 = 1
value = 0


[State 1400, a1]
type = Explod 
trigger1 = time = 0
sprpriority = 7
anim = 8580
pos = -30, -10
removeongethit = 1
scale = .846,.846
bindtime = 1
hitcountpersist = 1

[State 1400, thunderout]
type = Stopsnd
trigger1 = time = 0
channel = 7
hitcountpersist = 1

[State 1400, A1]
type = PlaySnd
trigger1 = time = 0
value = 300,2
channel = 2
hitcountpersist = 1

[State 7777, voice]
type = PlaySnd
trigger1 = time = 0
value = 60,0
channel = 1
IgnoreHitPause = 1
hitcountpersist = 1

[State 1400, a0]
type = removeExplod 
trigger1 = 1
id = 1101
hitcountpersist = 1

[State 1400, aa1]
type = Explod 
trigger1 = AnimElem = 8
sprpriority = 5
id = 8425
anim = 8425
postype = P1
pos =  50,-50
removeongethit = 1
bindtime = -1
ownpal = 1
hitcountpersist = 1

[State 1410, A1]
type = PlaySnd
trigger1 = AnimElem = 5 
value = 7,0
channel = 0
volume = 50
hitcountpersist = 1

[State 1410, A2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1

[State 1410, b1]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = hard
damage    = 35,5
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,4
sparkno = S8500
guard.sparkno = S8550
sparkxy = -10,-34
hitsound   = S5,4
guardsound = S7,1
ground.type = low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-4
air.velocity = -6,-4
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 6
envshake.freq = 127
envshake.ampl = -5
ground.cornerpush.veloff = -18
air.cornerpush.veloff = -18
down.cornerpush.veloff = -18
guard.cornerpush.veloff = -18
airguard.cornerpush.veloff = -18
hitcountpersist = 1


[State 1410, A3]
type = Helper
trigger1 = animelem = 4
ID = 1411
name = "boltmid"
StateNo = 1411
postype = p1
pos = 170, 0
ownpal = 1
removeongethit = 1
hitcountpersist = 1

[state 7777, bi]
type = varset
trigger1 = time = 0
var(11) = 0
[state 7777, bi]
type = varset
trigger1 = time = 0
var(12) = 0




;---------------- MID
[Statedef 1411]
type    = A
movetype= A
physics = N
anim = 1450
juggle  = 5
velset = 0,0
ctrl = 0
hitcountpersist = 1

[state 7777,bi]
type = parentvarset
trigger1 = movecontact
var(12) = 1

[state 7777, a0]
type = assertspecial
trigger1 = 1
flag = noshadow


[State 1411, Width]
type = Width
trigger1 = 1
player = -25,-25

[State 1411, A1]
type = PlaySnd
trigger1 = time = 0
value = 20,4
channel = 0

[State 1411, A2]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage    = 45,5
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,-4
air.velocity = -3,-3
guard.velocity = -5
fall = 1
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0 
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1

[State 1411, A3]
type = Explod 
triggerall = movehit
trigger1 = AnimElem = 1 || AnimElem = 6 || AnimElem = 9 || AnimElem = 14 
sprpriority = 7
anim = 8570
postype = P2
pos = 0, -70
random = 40,40
removeongethit = 1
hitcountpersist = 1

[State 1411, A4]
type = PlaySnd
triggerall = movehit
trigger1 = AnimElem = 1 || AnimElem = 6 || AnimElem = 9 || AnimElem = 14 
value = 20,1
hitcountpersist = 1

[State 1411, A5]
type = EnvShake
trigger1 = animelem = 4
time = 15
ampl = -4
hitcountpersist = 1

[State 1400, X0]
type = PlayerPush
trigger1 = 1
value = 0

[State 1400, X1]
type = NotHitBy
trigger1 = 1
value = SCA 
time = 3
ignorehitpause = 1
hitcountpersist = 1

[State 1411, A6]
type = DestroySelf
trigger1 = animtime = 0
hitcountpersist = 1


; FAR TTTTTTTTTTTTTTTTTTTTTT
[Statedef 1420]
type    = C
movetype= A
physics = C
juggle  = 5
velset = 0,0
sprpriority = 4
ctrl = 0
poweradd = 240
hitcountpersist = 1

[State 777, Wd]
type = Width
trigger1 = Time = [10,50]
value = 15,0

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 1400
ctrl = 1
hitcountpersist = 1

[State 1400, b2]
type = PlayerPush
trigger1 = 1
value = 0

[State 1101, thunderout]
type = Stopsnd
trigger1 = time = 0
channel = 7

[State 7777, voice]
type = PlaySnd
trigger1 = time = 0
value = 60,0
channel = 1
IgnoreHitPause = 1

[State 1400, a1]
type = Explod 
trigger1 = time = 0
sprpriority = 7
anim = 8580
pos = -30, -10
removeongethit = 1
scale = .846,.846
bindtime = 1
hitcountpersist = 1

[State 1400, A1]
type = PlaySnd
trigger1 = time = 0
value = 300,2
channel = 2

[State 1400, a0]
type = removeExplod 
trigger1 = 1
id = 1101
hitcountpersist = 1

[State 1400, aa1]
type = Explod 
trigger1 = AnimElem = 8
sprpriority = 5
id = 8425
anim = 8425
postype = P1
pos =  50,-50
removeongethit = 1
bindtime = -1
ownpal = 1
hitcountpersist = 1

[State 1420, A1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 7,0
channel = 0
volume = 50
hitcountpersist = 1

[State 1420, A2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1

[State 1420, b1]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = hard
damage    = 35,5
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,4
sparkno = S8500
guard.sparkno = S8550
sparkxy = -10,-34
hitsound   = S5,4
guardsound = S7,1
ground.type = low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(P2BodyDist X <= 15,-8,-6),-6
air.velocity = -7,-4
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 6
envshake.freq = 127
envshake.ampl = -5
ground.cornerpush.veloff = -18
air.cornerpush.veloff = -18
down.cornerpush.veloff = -18
guard.cornerpush.veloff = -18
airguard.cornerpush.veloff = -18
guard.dist = 320
hitcountpersist = 1

[state 7777, bi]
type = varset
trigger1 = time = 0
var(11) = 0
hitcountpersist = 1

[state 7777, bi]
type = varset
trigger1 = time = 0
var(12) = 0
hitcountpersist = 1

[State 1420, A3]
type = Helper
trigger1 = animelem = 6
ID = 1421
name = "boltfar"
StateNo = 1421
postype = p1
pos = 150, 0
ownpal = 1
hitcountpersist = 1

;---------------- far
[Statedef 1421]
type    = A
movetype= A
physics = N
anim = 1470
juggle  = 5
velset = 0,0
ctrl = 0
hitcountpersist = 1

[state 7777, a0]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1421, Width]
type = Width
trigger1 = 1
player = -25,-25

[State 1421, A1]
type = PlaySnd
trigger1 = time = 0
value = 20,5
channel = 0

[State 1421, A2]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage    = 45,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0 
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1

[State 1421, A3]
type = Explod 
triggerall = movehit
trigger1 = AnimElem = 1 || AnimElem = 6 || AnimElem = 9 || AnimElem = 14 || AnimElem = 18 
sprpriority = 7
anim = 8570
postype = P2
pos = 0, -70
random = 40,40
removeongethit = 1
hitcountpersist = 1


[State 1421, A4]
type = PlaySnd
triggerall = movehit
trigger1 = AnimElem = 1 || AnimElem = 6 || AnimElem = 9 || AnimElem = 14 || AnimElem = 18 
value = 20,1
hitcountpersist = 1

[State 1421, A5]
type = EnvShake
trigger1 = animelem = 9
time = 15
ampl = -4

[State 1400, X0]
type = PlayerPush
trigger1 = 1
value = 0

[State 1400, X1]
type = NotHitBy
trigger1 = 1
value = SCA 
time = 3
ignorehitpause = 1
hitcountpersist = 1

[State 1421, A6]
type = DestroySelf
trigger1 = animtime = 0 
hitcountpersist = 1





;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTT    HYPER/SUPER MOVES    TTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT


;---------------------------------------------------------------------------
;
;charge up
[Statedef 3000]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3500
poweradd= -3000
ctrl = 0
sprpriority = 2
facep2 = 1
hitcountpersist = 1


[State 3090, portraitBG]
type = Explod
trigger1 = AnimElem = 2
anim = 8900
ID = 8900
pos = 0,0
postype = back
bindtime = 999
removetime = 40
supermove = 40
pausemovetime = 40
sprpriority = -2
ownpal = 1
hitcountpersist = 1



[State 3400, Super Portrait] ;SuperPort
type = Explod
trigger1 = time = 0
anim = 8950
postype = back
pos = 0,0
ownpal = 1
ignorehitpause = 1
sprpriority = -1
supermovetime = -1
pausemovetime = -1
removeongethit = 1
bindtime = -1
hitcountpersist = 1

[State 3400, a5] ; Superpause
type = SuperPause
trigger1 = time = 0;20
darken = 1
anim = S8401
sound = S100, 2
pos = 0, -100
movetime = 70
poweradd = -3000
bindtime = -1
sprpriority = 4
Time = 70;45
p2defmul = 2
removeongethit = 1
hitcountpersist = 1

[State 3400, a5] ; Superpause
type = SuperPause
trigger1 = time = 0;20
darken = 1
anim = S8400
sound = S100, 2
pos = 0, -100
movetime = 70
poweradd = -3000
bindtime = -1
sprpriority = 4
Time = 70;45
p2defmul = 2
removeongethit = 1
hitcountpersist = 1

[State 3090]
type = SuperPause
trigger1 = Time = 17
anim = -1
sound = -1
time = 60
movetime = 60
unhittable = 1
darken = 0
hitcountpersist = 1


;about 8 ticks before 3110
;[State 3000]
;type = Helper
;trigger1 = Time = 18
;stateno = 33117
;supermovetime = 9999
;pausemovetime = 9999
;pos = 0,-200
;ownpal = 1
;postype = back
;size.xscale = 1
;size.yscale = 1

;[State 3000]
;type = Helper
;trigger1 = Time = 26
;stateno = 33110
;id = 33110
;supermovetime = 9999
;pausemovetime = 9999
;pos = 22,-97
;ownpal = 1

 [State 3090]
type = PlaySnd
trigger1 = Time = 1
value = 50,4



[State 3090]
type = PlaySnd
trigger1 = Time = 7
value = 100,2




[State 3090]
type = ChangeState
trigger1 = Time = 77
value = 3001
ctrl = 0
hitcountpersist = 1


;---------------------------------------------------------------------------
;cosmicccall
;hyper use
[Statedef 3001]
type    = S
movetype= A
physics = N
juggle  = 2
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2
facep2 = 1
hitcountpersist = 1

 [State 3090]
type = PlaySnd
trigger1 = Time = 30
value = 20,10

[State 3000, a1]
type = Explod
trigger1 = animelem = 2
sprpriority = 7
anim = 30000
pos = 0, 0
removeongethit = 1
scale = 1,1
bindtime = -1
supermovetime = -1
pausemovetime = -1
hitcountpersist = 1













[State 1421, A2]
type = HitDef
trigger1 = animelem = 5
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1

[State 1421, A2]
type = HitDef
trigger1 = animelem = 6
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1



 [State 1421, A2]
type = HitDef
trigger1 = animelem = 7
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1



[State 1421, A2]
type = HitDef
trigger1 = animelem = 8
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1





[State 1421, A2]
type = HitDef
trigger1 = animelem = 9
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1




  [State 1421, A2]
type = HitDef
trigger1 = animelem = 10
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1




[State 1421, A2]
type = HitDef
trigger1 = animelem = 11
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1



[State 1421, A2]
type = HitDef
trigger1 = animelem = 13
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1


[State 1421, A2]
type = HitDef
trigger1 = animelem = 14
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1


[State 1421, A2]
type = HitDef
trigger1 = animelem = 15
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1

[State 1421, A2]
type = HitDef
trigger1 = animelem = 16
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1



[State 1421, A2]
type = HitDef
trigger1 = animelem = 17
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1


[State 1421, A2]
type = HitDef
trigger1 = animelem = 18
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1



[State 1421, A2]
type = HitDef
trigger1 = animelem = 19
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1



[State 1421, A2]
type = HitDef
trigger1 = animelem = 20
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1



[State 1421, A2]
type = HitDef
trigger1 = animelem = 21
attr = A, SP
damage    = 10,5
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -10,-25
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-3
guard.velocity = -5
fall = 1
guard.dist = 320
palfx.time = 33
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1403
hitcountpersist = 1




[State 7777, a2]
type = PlaySnd
trigger1 = time = 100
value = 300,6
channel = 1
IgnoreHitPause = 1
hitcountpersist = 1





[State 3003]
type = ChangeState
trigger1 = time = 157
value = 0
ctrl = 1
hitcountpersist = 1

























;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTT Dust of Death    TTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

[Statedef 3100]
type    = S
movetype= A
physics = S
juggle  = 8
velset = 0,0
ctrl = 0
sprpriority = 6
hitcountpersist =1
poweradd = -3000

[State 777, a1]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 3005
ctrl = 0
hitcountpersist = 1
;removeongethit = 0
sprpriority = 7

;[State 0, ScreenBound]
;type = ScreenBound
;trigger1 = 1
;value = 0
;movecamera = 0,0
;ignorehitpause =
;persistent =


[State 3100, a1]
type = Stopsnd
trigger1 = time = 0
channel = 0
[State 3100, a1]
type = Stopsnd
trigger1 = time = 0
channel = 6
[State 3100, a1]
type = Stopsnd
trigger1 = time = 0
channel = 7
hitcountpersist = 1







[State 3200, a3]
type = removeExplod
trigger1 = 1
id = 1101
hitcountpersist = 1

[State 3200, a4]
type = removeExplod
trigger1 = 1
id = 1116
hitcountpersist = 1

[State 3200, a5]
type = PlaySnd
trigger1 = time = 0
value = 3500,1
channel = -1
;loop = 1
removeongethit = 0
hitcountpersist = 1
IgnoreHitPause = 1


[State 3200, a5]
type = PlaySnd
trigger1 = animelem = 7
value = 3500,2
channel = -1
;loop = 1
removeongethit = 0
hitcountpersist = 1
IgnoreHitPause = 1


[State 3200, a7]
type = PlaySnd
trigger1 = animelem = 5
value = 100, 3
channel = 3
removeongethit = 1
hitcountpersist = 1

[State 7777, a8]
type = PlaySnd
trigger1 = animelem = 30
value = 200,5
channel = 1
IgnoreHitPause = 1
hitcountpersist = 1


[State 3200, a9]
type = PlaySnd
trigger1 = animelem = 30
value = 300, 2
channel = 6
loop = 1
volume = -100
hitcountpersist = 1

[State 3200, b1]
type = Width
trigger1 = 1
value = -25,-25
hitcountpersist = 1

[State 3200, b2]
type = PlayerPush
trigger1 = 1
value = 0
hitcountpersist = 1

[State 3400, a5] ; Superpause
type = SuperPause
trigger1 = time = 0;20
darken = 1
anim = S8401
sound = S100, 2
pos = -50, -100
movetime = 70
poweradd = -3000
bindtime = -1
sprpriority = 4
Time = 70;45
p2defmul = 2
removeongethit = 1
hitcountpersist = 1

[State 3200, b3] ; Superpause
type = SuperPause
trigger1 = time = 0;20
darken = 1
anim = S8400
sound = S100, 2
pos = 25, -145
movetime = 77
poweradd = -3000
bindtime = -1
sprpriority = 4
Time = 77;45
p2defmul = 2
removeongethit = 1
hitcountpersist = 1

[State 3200, b4]
type = Explod
trigger1 = time = 0
sprpriority = 7
anim = 8580
pos = 0, -10
removeongethit = 1
scale = .846,.846
bindtime = 1
supermovetime = -1
pausemovetime = -1
hitcountpersist = 1

[State 3200, b5]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
ignorehitpause = 1
hitcountpersist = 1

[State 3200, b6]
Type = BGPalfx
triggerall = !NumExplod(3310)
Trigger1 = time = [0, 800]
Add = -70,-70,-90
IgnoreHitPause = 1
time = 1
hitcountpersist = 1

;[State 3200, Super Portrait] ;SuperPort
;type = Explod
;trigger1 = time = 0
;anim = 8950
;postype = back
;pos = 0,0
;ownpal = 1
;ignorehitpause = 1
;sprpriority = -1
;supermovetime = -1
;pausemovetime = -1
;removeongethit = 1
;bindtime = -1
;hitcountpersist = 1

[State 3200, superBG]
type = Explod
trigger1 = time = 0 ;AnimElem = 2
anim = 8900
ownpal = 1
pos = 0,0
postype = back
;facing = 1
bindtime = -1
supermovetime = -1
sprpriority = -5
removetime = 75
scale = 1,1
removeongethit = 1
hitcountpersist = 1



[State 1100, aa]
type = Helper
trigger1 = animelem = 3
name = "ragnarok"
ID = 3201
pos = 0,0
stateno = 3201
ownpal = 1
removeongethit = 1
hitcountpersist = 1

[State 3200, FX]
type = Explod
trigger1 = animelem = 35
anim = 3260
id = 3260
ownpal = 1
;velset = 0,3
sprpriority = 5
pos = 0, 40
postype = p1
bindtime = -1
removeongethit = 1
;supermovetime = -1
hitcountpersist = 1
;scale = 3,1.5
;scale = 1.2,1.1
 scale = 1.5,1

 [State 3200, FX]
type = Explod
trigger1 = animelem = 35
anim = 3260
id = 3260
ownpal = 1
;velset = 0,3
sprpriority = 5
pos = 0, 20
postype = p1
bindtime = -1
removeongethit = 1
;supermovetime = -1
hitcountpersist = 1
;scale = 3,1.5
;scale = 1.2,1.1
 scale = 1,1

[State 3200, FX]
type = Explod
trigger1 = animelem = 35
anim = 3201
id = 3201
ownpal = 1
;velset = 0,3
sprpriority = 6
pos = 0, 0
postype = p1
bindtime = 1
removeongethit = 1
;supermovetime = -1
hitcountpersist = 1
;scale = 3,1.5
;scale = 1.2,1.1
ontop = 1
persistent = 1
ignorehitpause = 1

;---------------------
[State 3416, b1] ;explod
type = Explod
;trigger1 = animelem = 3 || AnimElem = 11 || AnimElem = 19|| AnimElem = 27
trigger1 = animelem = 35 || AnimElem = 43 || AnimElem = 51|| AnimElem = 59
anim = 2150
id = 3450
postype = p1
pos = 0, 20
sprpriority = 7
removetime = -2
hitcountpersist = 1

[State 3416, b2] ;explod
type = Explod
;trigger1 =  AnimElem = 8 || AnimElem = 16|| AnimElem = 24
trigger1 = animelem = 32 || AnimElem = 40 || AnimElem = 48|| AnimElem = 56
anim = 2160
id = 3450
postype = p1
pos = 0, 20
sprpriority = 7
removetime = -2
hitcountpersist = 1

[State 3416, c1] ;explodback
type = Explod
;trigger1 = animelem = 5 || AnimElem = 13 || AnimElem = 21|| AnimElem = 29
trigger1 = animelem = 37 || AnimElem = 45 || AnimElem = 53|| AnimElem = 61
anim = 2150
id = 3450
postype = p1
pos = 0, -30
sprpriority = -3
removetime = -2
scale = .6,.6
hitcountpersist = 1

[State 3416, c2] ;explodback
type = Explod
;trigger1 = animelem = 7 || AnimElem = 15 || AnimElem = 23|| AnimElem = 31
trigger1 = animelem = 39 || AnimElem = 47 || AnimElem = 55|| AnimElem = 63
anim = 2160
id = 3450
postype = p1
pos = 0, -30
sprpriority = -3
removetime = -2
scale = .6,.6
hitcountpersist = 1








[State 3200, b8]
type = HitBy
trigger1 = 1
value = SCA, SA,HA,SP,HP
hitcountpersist = 1

[State 3200, b4]
type = Explod
trigger1 = animelem = 7
sprpriority = 7
anim = 3006
pos = 130, -70
removeongethit = 1
scale = 1,1
bindtime = -1
supermovetime = -1
pausemovetime = -1
hitcountpersist = 1

[State 3200, atack1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HP
animtype  = hard
damage    = 3,1
priority = 7, Hit
p1sprpriority = -3
hitflag = MAFP
guardflag = MA
pausetime = 0,8
sparkno = S3350
guard.sparkno = S3350
sparkxy = -10,-34
hitsound   = S5,3
guardsound = S7,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 40
air.hittime = 40
ground.velocity = 2,-1
air.velocity = 2,-3
envshake.time = 6
envshake.freq = 127
envshake.ampl = -5

ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
kill = 0
hitcountpersist = 1
;p2stateno = 7699

[State 3200, atack1]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HP
animtype  = hard
damage    = 5,1
priority = 7, Hit
p1sprpriority = -3
hitflag = MAFP
guardflag = MA
pausetime = 3,3
sparkno = S3350
guard.sparkno = S3350
sparkxy = -10,-80
hitsound   = -1
guardsound = S7,1
ground.type = High
guard.dist = 250
ground.slidetime = 12
ground.hittime  = 40
air.hittime  = 40
ground.velocity = -2,-.5
air.velocity = -2,-4
envshake.time = 6
envshake.freq = 127
envshake.ampl = -5

ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
kill = 0
;p2stateno = 7699
hitcountpersist = 1


[State 3200, snd]
type = PlaySnd
trigger1 = animelem = 30&& movehit
trigger2 = animelem = 40&& movehit
trigger3 = animelem = 50&& movehit
trigger4 = animelem = 60&& movehit
value = 300,3
channel = 4
hitcountpersist = 1

[State 3200, snd]
type = PlaySnd
trigger1 = animelem = 33&& movehit
trigger2 = animelem = 43&& movehit
trigger3 = animelem = 53&& movehit
trigger4 = animelem = 63&& movehit
value = 300,2
channel = 5
hitcountpersist = 1

[State 3200, atack2]
type = HitDef
trigger1 = AnimElem = 7
attr = S, HP
animtype  = hard
damage    = 4,1
priority = 7, Hit
p1sprpriority = -3
hitflag = MAFP
guardflag = MA
pausetime = 3,3
sparkno = S3350
guard.sparkno = S3350
sparkxy = -10,-50
hitsound   = -1
guardsound = S7,1
ground.type = low
guard.dist = 250
ground.slidetime = 12
ground.hittime  = 40
air.hittime  = 40
ground.velocity = 2,-.5
air.velocity = 2,-.5
envshake.time = 6
envshake.freq = 127
envshake.ampl = -5

ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
kill = 0
hitcountpersist = 1
;p2stateno = 7699


[State 3200, atackend]
type = HitDef
trigger1 = AnimElem = 8
attr = S, HP
animtype  = hard
damage    = 160,5
priority = 7, Hit
p1sprpriority = -3
hitflag = MAFP
guardflag = MA
pausetime = 0,0
sparkno = S3350
guard.sparkno = S3350
sparkxy = -10,-34
hitsound   = S20,8
guardsound = S7,1
ground.type = High
guard.dist = 100
ground.slidetime = 8
ground.hittime  = 8
air.hittime  = 5
ground.velocity = 0,0
air.velocity = 5,5
guard.velocity = -27
airguard.velocity = -16
fall.envshake.time = 9
fall.envshake.ampl = -5
envshake.time = 6
envshake.freq = 127
envshake.ampl = -5
palbright=230,0,230
palcontrast=256,0,256
;palpostbright=0,0,0
paladd=230,0,230
palmul=1,1,1
fall = 1
air.fall = 0
fall.recover=0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
hitcountpersist = 1


[State 3200, som]
type = PlaySnd
trigger1 = animelem = 5
value = 200,7
channel = 0
ignorehitpause = 1
hitcountpersist = 1

[State 3100, a1]
type = Stopsnd
trigger1 = animelem = 70
channel = 6
hitcountpersist = 1

[State 3200, som]
type = PlaySnd
trigger1 = animelem = 72
value = 0, 2
channel = 1
ignorehitpause =1
hitcountpersist = 1

[State 3200, a0]
type = removeExplod
trigger1 = Animelem = 75
id = 3260
hitcountpersist = 1

[State 3200, c4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1

;-----------------shocked
[Statedef 3233]
type    = A
physics = N
movetype = H
anim = 7699
hitcountpersist = 1

[State 1105, a1]
type = Velset
trigger1 = time = 0
y = -.3
hitcountpersist = 1

[State 3233, a2]
type = ChangeAnim
trigger1 = AnimExist(7699)
value = 7699
persistent = 0
hitcountpersist = 1

[State 3233, a3]
type = SelfState
trigger1 = time = 5
value = 7699
hitcountpersist = 1

[Statedef 3201];giro p2jump bug fix
type = S
movetype = I
physics = N
anim = 3250
sprpriority = 7
hitcountpersist = 1

;[State 3201, ab1]
;type = removeExplod
;trigger1 = parent, stateno != 3200
;id =3250

;[State 3201, FX2]
;type = Explod
;trigger1 = time = 0
;anim = 3250
;id = 3250
;ownpal = 1
;sprpriority = 7
;pos = 3, 0
;postype = p1
;bindtime = -1
;removeongethit = 1
;ignorehitpause = 1

[State 3201, a1]
type = BindToRoot
trigger1 = 1
pos = 0, 0
time = -1
ignorehitpause = 1
hitcountpersist = 1

[state 3201, a3]
type = assertspecial
trigger1 = 1
flag = noshadow
hitcountpersist = 1

[State 3201, a1]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 3201, a5]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
hitcountpersist = 1

[State 3201, a6]
type = DestroySelf
trigger1 = animtime = 0
trigger2= parent,stateno=2000||parent,stateno=3100||parent,stateno=3400||parent,stateno=3500
trigger3 = parent, movetype = H
trigger4 = parent, alive = 0
hitcountpersist = 1






































;DeathRay
[Statedef 3333]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3500
poweradd= -3000
ctrl = 0
sprpriority = 2
facep2 = 1
hitcountpersist = 1




[State 3090, portraitBG]
type = Explod
trigger1 = AnimElem = 2
anim = 8900
ID = 8900
pos = 0,0
postype = back
bindtime = 999
removetime = 40
supermove = 40
pausemovetime = 40
sprpriority = -2
ownpal = 1
hitcountpersist = 1



[State 3400, Super Portrait] ;SuperPort
type = Explod
trigger1 = time = 0
anim = 8950
postype = back
pos = 0,0
ownpal = 1
ignorehitpause = 1
sprpriority = -1
supermovetime = -1
pausemovetime = -1
removeongethit = 1
bindtime = -1
hitcountpersist = 1

[State 3400, a5] ; Superpause
type = SuperPause
trigger1 = time = 0;20
darken = 1
anim = S8401
sound = S100, 2
pos = 0, -100
movetime = 70
poweradd = -3000
bindtime = -1
sprpriority = 4
Time = 70;45
p2defmul = 2
removeongethit = 1
hitcountpersist = 1

[State 3400, a5] ; Superpause
type = SuperPause
trigger1 = time = 0;20
darken = 1
anim = S8400
sound = S100, 2
pos = 0, -100
movetime = 70
poweradd = -3000
bindtime = -1
sprpriority = 4
Time = 70;45
p2defmul = 2
removeongethit = 1
hitcountpersist = 1

[State 3090]
type = SuperPause
trigger1 = Time = 17
anim = -1
sound = -1
time = 60
movetime = 60
unhittable = 1
darken = 0
hitcountpersist = 1


; voice
[State 1000, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 200,6
channel = 1
volume = 100

;about 8 ticks before 3110
;[State 3000]
;type = Helper
;trigger1 = Time = 18
;stateno = 33117
;supermovetime = 9999
;pausemovetime = 9999
;pos = 0,-200
;ownpal = 1
;postype = back
;size.xscale = 1
;size.yscale = 1

;[State 3000]
;type = Helper
;trigger1 = Time = 26
;stateno = 33110
;id = 33110
;supermovetime = 9999
;pausemovetime = 9999
;pos = 22,-97
;ownpal = 1








[State 3090]
type = ChangeState
trigger1 = Time = 77
value = 3335
ctrl = 0
hitcountpersist = 1

;---------------------------------------------------------------------------
; Optic Blast X
[Statedef 3335]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 170
facep2 = 1
ctrl = 0
velset = 0,0
sprpriority = 2
hitcountpersist = 1

[State 777, Wd]
type = Width
trigger1 = Time = [10,45]
value = 35,0

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 3333
ctrl = 1
hitcountpersist = 1

[State 3200, som]
type = PlaySnd
trigger1 = time = 5
value = s0,2
channel = 1
ignorehitpause =1
hitcountpersist = 1



[State 0, BGPalFX]
type = BGPalFX
trigger1 = movecontact = 1
time = 10
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,10
invertall = 0
color = 256
;ignorehitpause =
;persistent =


[State 220, 2]
type = HitDef
trigger1 =  AnimElem = 3
attr = S, NA
animtype  = Hard
damage    = 150
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,20
sparkno = -1
guard.sparkno = S8550
sparkxy = -10,-34
hitsound   = S7,4
guardsound = S7,1
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -9,-7
guard.velocity = -10
air.velocity = -9,-4
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 12
envshake.freq = 127
envshake.ampl = -6
ground.cornerpush.veloff = -25
air.cornerpush.veloff = -25
down.cornerpush.veloff = -25
guard.cornerpush.veloff = -25
airguard.cornerpush.veloff = -25
fall = 1
fall.recover = 1
fall.recovertime = 25
hitcountpersist = 1

[State 240, spark]
type = Explod
trigger1 = movehit
;trigger1 = animelem = 4
persistent = 0
anim = 8500
ownpal = 1
sprpriority = 6
pos = -15, -40
postype = p2
scale = 1.1,1.1
bindtime = 1
ignorehitpause = 1
hitcountpersist = 1

[State 240, spark]
type = Explod
trigger1 = movehit
;trigger1 = animelem = 4
persistent = 0
anim = 8520
ownpal = 1
sprpriority = 7
pos = -15, -40
postype = p2
scale = 1.1,1.1
bindtime = 1
ignorehitpause = 1
hitcountpersist = 1

[state 220, dashb]
type = VelSet
trigger1 = Time = 0 && PrevStateno = 105
x = -4.5

[State 250, dust]
type = Explod
trigger1 = PrevStateno = 100 && time = 0
anim = 8730
postype = p1
pos = -30, -3
removetime = -2
sprpriority = 3
persistent = 0
hitcountpersist = 1

[State 250, dust]
type = Explod
trigger1 = PrevStateno = 105 && time = 0
anim = 8730
postype = p1
pos = -50, -3
removetime = -2
sprpriority = 3
persistent = 0
hitcountpersist = 1

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1


[State 220, 3]
type = ChangeState
trigger1 = movecontact = 1
value = 3336
ctrl = 1
hitcountpersist = 1





; Optic Blast X
[Statedef 3336]
type    = S
movetype= I
physics = S
juggle  = 3
anim = 33333
;poweradd= 170
facep2 = 1
ctrl = 0
velset = 0,0
sprpriority = 2
hitcountpersist = 1



[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 3334
;ID =
pos = 8,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,2
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
persistent=0

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 3334
;ID =
pos = 10,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,4
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
persistent=0

; voice
[State 1000, PlaySnd]
type = PlaySnd
trigger1 = Time = 50
value = 3500,0
channel = 1
volume = 100

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1





































;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 
;TTTTT TEAR OF THE SKY - hyper thunderstrike   TTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

[Statedef 2000];2000 for tagbattle
type    = S                      
movetype= A                      
physics = S
juggle  = 8
velset = 0,0
ctrl = 0
sprpriority = 2
hitcountpersist =1
poweradd = -3000








[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 1115
ctrl = 1
hitcountpersist = 1

[State 3000, aa0]
type = removeExplod 
trigger1 = 1
id = 1101
hitcountpersist = 1

[State 3000, aa1]
type = removeExplod 
trigger1 = 1
id = 3250
hitcountpersist = 1

[State 3000, aa2]
type = removeExplod 
trigger1 = 1
id = 3260
hitcountpersist = 1

[State 7777, voice]
type = PlaySnd
trigger1 = time = 0
value = 70,0
channel = 6
IgnoreHitPause = 1
hitcountpersist = 1

[State 3000, aa2]
type = PlaySnd
trigger1 = animelem = 3
value = 70, 1
channel = 6
;loop = 1
IgnoreHitPause = 1
volume = 150
hitcountpersist = 1

[State 3000, c1]
type = PlaySnd
trigger1 = animelem = 1
value = 20, 4
channel = 0
IgnoreHitPause = 1
volume = 200
hitcountpersist = 1

[State 3400, a5] ; Superpause
type = SuperPause
trigger1 = time = 0;20
darken = 1
anim = S8401
sound = S100, 2
pos = -50, -100
movetime = 70
poweradd = -3000
bindtime = -1
sprpriority = 4
Time = 70;45
p2defmul = 2
removeongethit = 1
hitcountpersist = 1

[State 3000, a0] ; Superpause
type = SuperPause
trigger1 = time = 0;20
darken = 1
anim = S8400
sound = S100, 2
pos = 25, -145
movetime = 75
poweradd = -3000
bindtime = -1
sprpriority = 4
Time = 75;45
p2defmul = 2
removeongethit = 1
hitcountpersist = 1

[State 3000, a1]
type = Explod
trigger1 = time = 0
sprpriority = 7
anim = 8580
pos = 0, -10
removeongethit = 1
scale = .846,.846
bindtime = 1
supermovetime = -1
pausemovetime = -1
hitcountpersist = 1

[State 3000, a2]
type = Explod
trigger1 = animelem = 4
sprpriority = 7
anim = 1116
id = 1116
pos = 0, 0
removeongethit = 1
bindtime = -1
hitcountpersist = 1

[State 3000, aa]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
ignorehitpause = 1
hitcountpersist = 1

[State 3000, BGPalfx]
Type = BGPalfx
triggerall = !NumExplod(3310)
Trigger1 = 1 ;time = [0, 170]
Add = -70,-70,-90
IgnoreHitPause = 1
time = 1
hitcountpersist = 1

[State 3000, Super Portrait] ;SuperPort
type = Explod
trigger1 = time = 0
anim = 8950
postype = back
pos = 0,0
ownpal = 1
ignorehitpause = 1
sprpriority = -1
supermovetime = -1
pausemovetime = -1
removeongethit = 1
bindtime = -1
hitcountpersist = 1

[State 3000, superBG]
type = Explod
trigger1 = time = 0 ;AnimElem = 2
anim = 8900
ownpal = 1
pos = 0,0
postype = back
;facing = 1
bindtime = -1
supermovetime = -1
sprpriority = -5
removetime = 75
scale = 1,1
removeongethit = 1
hitcountpersist = 1



[State 3000, aa]
type = Helper
trigger1 = animelem = 4
name = "Hthunderstrike"
ID = 3001
pos = -10,0
stateno = 3001
ownpal = 1
removeongethit=1
hitcountpersist = 1

[State 3000, cc]
type = HitDef
trigger1 = time = 0
attr = S, HA
animtype  = hard
damage    = 50,3
priority = 7, Hit
sprpriority = 2
hitflag = MAFP
guardflag = MA
pausetime = 0,7
sparkno = S8570
guard.sparkno = S8550
sparkxy = -10,-34
hitsound   = S5,3
guardsound = S7,1
ground.type = High
guard.dist = 320
ground.slidetime = 30
ground.hittime  = 45
ground.velocity = -12,-5
air.velocity = -12,-4
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 6
envshake.freq = 127
envshake.ampl = -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
hitcountpersist = 1

[State 3000, b2]
type = PlayerPush
trigger1 = 1
value = 0
hitcountpersist = 1

;[State 3001, tag]
;type = PalFX
;trigger1 = animelem = 20
;time = 1

[State 3000, a0] ; tagbattle bug color fix
type = SuperPause
trigger1 = animelem = 15
anim = -1
movetime = 1
Time = 1
removeongethit = 1
hitcountpersist = 1

[State 3000, c4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1
;--------------------
[Statedef 3001]
type = A
movetype = A
sprpriority = 7
physics = N
anim = 8610
hitcountpersist =1

;[State 3000, a1]
;type = playsnd
;triggerall = animelem = 4
;trigger1 = time%38 = 0
;value = 70,3
;channel = 7

[State 3001, a]
type = BindToRoot
trigger1 = 1
pos = 15, 0
time = -1
ignorehitpause = 1
hitcountpersist = 1

[State 3001, a2]
type = PlayerPush
trigger1 = 1
value = 0

[state 3001, a3]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 3001, ff]
type = HitDef
triggerall = p2stateno != 37696 
triggerall = p2stateno !=37697
trigger1 = Time % 4 = 0;AnimElem = 1 || AnimElem = 6 || AnimElem = 10 || AnimElem = 14 || AnimElem = 18
attr = S, HP
hitflag = MAFD
guardflag = MA
animtype = hard
priority = 7, Hit
sprpriority = 7
damage = 13,2;15,3
pausetime = 0,1
sparkno = -1;S8570
guard.sparkno = S8550
sparkxy = 0,-70  
hitsound = -1;S20,1
guardsound = S7,1
guard.dist = 320
ground.slidetime = 40
ground.hittime  = 40             
ground.velocity = -1,-.5
air.velocity = -1,-.5
guard.velocity = -3
airguard.velocity = -3
ground.type = high
air.type = Low                  
air.hittime = 40
palfx.time = 40
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0 
envshake.time = 6
envshake.freq = 50
envshake.ampl = -6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
kill = 0
P2stateno = 3003
hitcountpersist = 1

[State 3001, ff]
type = HitDef
trigger1 = AnimElem = 36 
attr = S, HP
hitflag = MAFD
guardflag = MA
animtype = hard
priority = 7, Hit
sprpriority = 7
damage = 12,2
pausetime = 0,1
sparkno = -1;S8570
guard.sparkno = S8550
sparkxy = 0,-70  
hitsound = -1;S20,1
guardsound = S7,1
ground.type = high               
guard.dist = 320
ground.slidetime = 40
ground.hittime  = 20             
ground.velocity = -15,-6
air.velocity = -15,-6
guard.velocity = -15
airguard.velocity = -15
air.type = high                  
air.hittime = 20
palfx.time = 40
palfx.add  = -90,0,140
palfx.sinadd = 100,100,100,10
Palfx.color = 0 
fall.envshake.time = 7
fall.envshake.ampl = -4
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 6
envshake.freq = 50
envshake.ampl = -6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
hitcountpersist = 1

[State 3001, g]
type = Explod 
triggerall = movehit 
trigger1 = AnimElem = 5 || AnimElem = 10 || AnimElem = 15 || AnimElem = 20 || AnimElem = 25
trigger2 = AnimElem = 8 || AnimElem = 13 || AnimElem = 18 || AnimElem = 23 || AnimElem = 29
trigger3 = AnimElem = 2 || AnimElem = 7 || AnimElem = 35 || AnimElem = 40 || AnimElem = 45
sprpriority = 7
anim = 8570
postype = P2
pos = 0, -60
random = 50,50
removeongethit = 1
ownpal = 1
hitcountpersist = 1

[State 3001, ga1]
type = PlaySnd 
triggerall = p2stateno = 37696
trigger1 = time%4 = 0
value = 20,9
channel = 8
volume = 100
hitcountpersist = 1

[State 3001, ga1]
type = PlaySnd 
triggerall = p2stateno = 3003
trigger1 = time%4 = 0
value = 20,9
channel = 8
volume = 100
hitcountpersist = 1

[State 17696, ga2]
type = hitadd 
triggerall = p2stateno = 37696
trigger1 = time%4 = 0
value = 1
hitcountpersist = 1

[State 3001, h]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1
hitcountpersist = 1

[State 3001, a00]
type = TargetState
triggerall = !var(50)
triggerall = NumTarget > 0
triggerall = target(0), StateNo != 9020
triggerall = target(0), vel X < -7
trigger1 = target(0), BackEdgeBodyDist <= 20
trigger1 = var(50) :=1
trigger2 = target(0), FrontEdgeBodyDist <= 20
trigger2 = var(50) :=1
trigger3 = roundstate > 2
trigger3 = enemy(0),  StateNo != 9020
trigger3 = enemy(0), vel X < -7
trigger3 = enemy(0), BackEdgeBodyDist <= 20 || enemy( 0), FrontEdgeBodyDist <= 20
trigger3 = var(50) := 1
value = 9020
ID = 0
persistent = 0
ignorehitpause = 1
hitcountpersist = 1

[State 3001, a01] ;
type = Explod
trigger1 = NumTarget > 0
trigger1 = target(0), StateNo = 9020
trigger1 = target(0), Time = 0
anim = 8720
scale = 1.05,1.05
pos = floor(ifelse(Target(0), pos X <= 0, 135, 185) + target(0), pos x), floor(target(0), screenpos y - 50)
postype = left
sprpriority = 3
ownpal = 1
facing = ifelse(Target, Pos X >= 0,1,-1) 
ignorehitpause = 1
bindtime = -1
hitcountpersist = 1

[State 3001, a02];
type = PlaySnd
trigger1 = NumTarget > 0
trigger1 = target(0), StateNo = 9020
trigger1 = target(0), Time = 1
value = 40, 2
volume = -100
ignorehitpause = 1
supermovetime = -1
hitcountpersist = 1

[State 3001, i]
type = Destroyself
triggerall = numhelper(3001)
trigger1 = parent, MoveType = H
trigger2 = animtime = 0
trigger3 = parent, stateno = 3100  
trigger4 = parent, stateno = 3200
trigger5 = parent, stateno = 3300
trigger6 = parent, stateno = 3400
hitcountpersist = 1


;------------Hthunderstrike Shocked

[Statedef 3003]
type    = A
movetype = H
physics = N
anim = 5002
hitcountpersist = 1

[State 1105, a1]
type = Velset
trigger1 = time = 0
y = -.3
x = 0
hitcountpersist = 1

[State 1105, a3]
type = ChangeAnim
trigger1 = AnimExist(7696)
value = 7696
persistent = 0
hitcountpersist = 1

[State 1105, a4]
type = SelfState
trigger1 = Anim != 7696
trigger1 = time = 5
value = 5070
hitcountpersist = 1

[State 1105, a5]
type = ChangeState
trigger1 = Anim = 7696
value = 37696
hitcountpersist = 1

[Statedef 37696];----- for no colision animations
type    = A                     
movetype= H                      
physics = N 
anim = 7696
hitcountpersist = 1

[State 17696, a1]
type = lifeadd
trigger1 = Time % 4 = 0
value = -12
hitcountpersist = 1

[State 17696, a2]
type = PalFX
trigger1 = time = 45
time = 55
add = -90,0,140
sinadd = 100,100,100,10
hitcountpersist = 1

[State 17696, a4]
type = Velset
trigger1 = time = 0 
x = -.1

[State 17696, a5]
type = Velset
trigger1 = time = 0
y = -.4

[State 17696, a6]
type = EnvShake
trigger1 = time%4 = 0 
time = 5
ampl = -5
freq = 50
hitcountpersist = 1

[State 17696, a7]
type = changestate
trigger1 = time = 65
value = 37697
hitcountpersist = 1

[State 17696, a7]
type = changestate;SelfState
trigger1 = p2stateno != 2000
value = 37697;17697
hitcountpersist = 1

[State 17696, a8]
type = SelfState
trigger1 = p2movetype = H
value = 5050
hitcountpersist = 1

[Statedef 37697];---shockend cancel for hypers
type    = A                     
movetype= H                      
physics = N 
anim = 7696
hitcountpersist = 1

[State 17697, a1]
type = ChangeAnim
trigger1 = time = 2
value = 5030
hitcountpersist = 1

[State 17697, a2]
type = SelfState
trigger1 = time = 15
value = 5050
hitcountpersist = 1




;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 
;TTTTTTTT NORDIC RAGE    TTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

[Statedef 3400]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 4                     
velset = 0,0                     
ctrl = 0                                                                 
sprpriority = 2
hitcountpersist =1
poweradd = -3000

[State 777, a1]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 3400
ctrl = 1
hitcountpersist = 1

[State 7777, a2]
type = PlaySnd
trigger1 = time = 0
value = 70,0
channel = 1
IgnoreHitPause = 1

[State 3100, a0]
type = removeExplod 
trigger1 = 1
id = 3250
hitcountpersist = 1

[State 3100, a01]
type = removeExplod 
trigger1 = 1
id = 3260
hitcountpersist = 1

[State 3100, a02]
type = removeExplod 
trigger1 = 1
id = 1101
hitcountpersist = 1

[State 3100, aa0]
type = removeExplod 
trigger1 = 1
id = 1116
hitcountpersist = 1

[State 3100, a1]
type = Stopsnd
trigger1 = time = 0
channel = 7

[State 3100, a2]
type = Stopsnd
trigger1 = time = 0
channel = 6

[State 3100, a1]
type = Stopsnd
trigger1 = time = 0
channel = 0

[State 3400, a5] ; Superpause
type = SuperPause
trigger1 = time = 0;20
darken = 1
anim = S8401
sound = S100, 2
pos = -50, -100
movetime = 70
poweradd = -3000
bindtime = -1
sprpriority = 4
Time = 70;45
p2defmul = 2
removeongethit = 1
hitcountpersist = 1

[State 3400, a5] ; Superpause
type = SuperPause
trigger1 = time = 0;20
darken = 1
anim = S8400
sound = S100, 2
pos = 10, -60
movetime = 70
poweradd = -3000
bindtime = -1
sprpriority = 4
Time = 70;45
p2defmul = 2
removeongethit = 1
hitcountpersist = 1

[State 3400, a6]
type = Explod 
trigger1 = animelem = 3
sprpriority = 7
anim = 8580
pos = 0, -10
removeongethit = 1
scale = .846,.846
bindtime = 1
supermovetime = -1
pausemovetime = -1
hitcountpersist = 1

[State 3400, a7]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
ignorehitpause = 1
hitcountpersist = 1

[State 3400, a8]
Type = BGPalfx
triggerall = !NumExplod(3310)
Trigger1 = time = [0, 800]
Add = -70,-70,-90
IgnoreHitPause = 1
time = 1
hitcountpersist = 1

[State 3400, Super Portrait] ;SuperPort
type = Explod
trigger1 = time = 0
anim = 8950
postype = back
pos = 0,0
ownpal = 1
ignorehitpause = 1
sprpriority = -1
supermovetime = -1
pausemovetime = -1
removeongethit = 1
bindtime = -1
hitcountpersist = 1



[State 3400, superBG] 
type = Explod
trigger1 = time = 0 ;AnimElem = 2 
anim = 8900
ownpal = 1
pos = 0,0
postype = back
bindtime = -1
supermovetime = -1
sprpriority = -5
removetime = 75
scale = 1,1
removeongethit = 1
hitcountpersist = 1



[State 3405, a3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 2
hitcountpersist = 1

[State 3400, 1]
type = hitdef
trigger1 = animelem = 3
attr = S, HT
damage = 150,10
hitflag = MAF
guardflag = M
priority = 3, hit
pausetime = 0,0
guard.pausetime = 18,18
sparkno = -1
guard.sparkno = S8550                     
sparkxy = 8, -94              
hitsound = S1,1                 
guardsound = S7,1  
p2facing = 1
p1stateno = 3405
p2stateno = 3410
sprpriority = -1
p1spriority = -1
kill = 0
hitcountpersist = 1

[State 3400, a9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1
;---------------------------------
[Statedef 3405]
type    = S
movetype= A
physics = N
anim = 3405
hitcountpersist = 1

[State 3400, a1]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
hitcountpersist = 1

[State 3405, a2]
type = ScreenBound
trigger1 = 1
movecamera = 0, 0
value = 1
hitcountpersist = 1

[State 3405, a4 ];ventohit
type = PlaySnd
trigger1 = animelem = 2 || AnimElem = 7 || AnimElem = 12|| AnimElem = 17
trigger2 = animelem = 22 || AnimElem = 27 || AnimElem = 32|| AnimElem = 37
value = 300, 2
channel = 0
hitcountpersist = 1

[State 3405, a5 ];hit
type = PlaySnd
trigger1 = animelem = 5 || AnimElem = 10 || AnimElem = 15|| AnimElem = 20
trigger2 = animelem = 25 || AnimElem = 30 || AnimElem = 35|| AnimElem = 40
value = 5, 3
channel = 1
hitcountpersist = 1

[State 3405,a6]
type = EnvShake
trigger1 = animelem = 5 || AnimElem = 10 || AnimElem = 15|| AnimElem = 20
trigger2 = animelem = 25 || AnimElem = 30 || AnimElem = 35|| AnimElem = 40
time = 15
ampl = 7
freq = 60
hitcountpersist = 1

[State 3405, a7]
type = HitAdd
trigger1 = animelem = 5 || AnimElem = 10 || AnimElem = 15|| AnimElem = 20
trigger2 = animelem = 25 || AnimElem = 30 || AnimElem = 35|| AnimElem = 40
value = 1
hitcountpersist = 1

[State 3405, a9]
type = Explod
trigger1 = animelem = 5 || AnimElem = 10 || AnimElem = 15|| AnimElem = 20
trigger2 = animelem = 25 || AnimElem = 30 || AnimElem = 35|| AnimElem = 40
anim = 8500
ownpal = 1
sprpriority = 6
pos = 15, -70
postype = p2
bindtime = 1
ignorehitpause = 1
hitcountpersist = 1

[State 3405, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1 
pos = 95, 0
hitcountpersist = 1

[State 3405, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2 
pos = 55, 0
[State 3405, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3 
pos = 45, 0
[State 3405, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4 
pos =  45, 0
[State 3405, Bind 5];hit
type = TargetBind
trigger1 = AnimElem = 5 
pos = 50, 0 
[State 3405, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6 
pos = 45, 0
;--------------------------------
[State 3405, Bind 2]
type = TargetBind
trigger1 = AnimElem = 7 
pos = 55, 0
[State 3405, Bind 3]
type = TargetBind
trigger1 = AnimElem = 8 
pos = 45, 0
[State 3405, Bind 4]
type = TargetBind
trigger1 = AnimElem = 9 
pos =  45, 0
[State 3405, Bind 5];hit
type = TargetBind
trigger1 = AnimElem = 10 
pos = 50, 0 
[State 3405, Bind 6]
type = TargetBind
trigger1 = AnimElem = 11 
pos = 45, 0
;--------------------------------2
[State 3405, Bind 2]
type = TargetBind
trigger1 = AnimElem = 12 
pos = 55, 0
[State 3405, Bind 3]
type = TargetBind
trigger1 = AnimElem = 13 
pos = 45, 0
[State 3405, Bind 4]
type = TargetBind
trigger1 = AnimElem = 14 
pos =  45, 0
[State 3405, Bind 5];hit
type = TargetBind
trigger1 = AnimElem = 15 
pos = 50, 0 
[State 3405, Bind 6]
type = TargetBind
trigger1 = AnimElem = 16 
pos = 45, 0
;--------------------------------3
[State 3405, Bind 2]
type = TargetBind
trigger1 = AnimElem = 17 
pos = 55, 0
[State 3405, Bind 3]
type = TargetBind
trigger1 = AnimElem = 18 
pos = 45, 0
[State 3405, Bind 4]
type = TargetBind
trigger1 = AnimElem = 19
pos =  45, 0
[State 3405, Bind 5];hit
type = TargetBind
trigger1 = AnimElem = 20 
pos = 50, 0 
[State 3405, Bind 6]
type = TargetBind
trigger1 = AnimElem = 21 
pos = 45, 0
;--------------------------------4
[State 3405, Bind 2]
type = TargetBind
trigger1 = AnimElem = 22 
pos = 55, 0
[State 3405, Bind 3]
type = TargetBind
trigger1 = AnimElem = 23 
pos = 45, 0
[State 3405, Bind 4]
type = TargetBind
trigger1 = AnimElem = 24 
pos =  45, 0
[State 3405, Bind 5];hit
type = TargetBind
trigger1 = AnimElem = 25 
pos = 50, 0 
[State 3405, Bind 6]
type = TargetBind
trigger1 = AnimElem = 26 
pos = 45, 0
;--------------------------------5
[State 3405, Bind 2]
type = TargetBind
trigger1 = AnimElem = 27 
pos = 55, 0
[State 3405, Bind 3]
type = TargetBind
trigger1 = AnimElem = 28 
pos = 45, 0
[State 3405, Bind 4]
type = TargetBind
trigger1 = AnimElem = 29 
pos =  45, 0
[State 3405, Bind 5];hit
type = TargetBind
trigger1 = AnimElem = 30 
pos = 50, 0 
[State 3405, Bind 6]
type = TargetBind
trigger1 = AnimElem = 31 
pos = 45, 0
;--------------------------------6
[State 3405, Bind 2]
type = TargetBind
trigger1 = AnimElem = 32 
pos = 55, 0
[State 3405, Bind 3]
type = TargetBind
trigger1 = AnimElem = 33 
pos = 45, 0
[State 3405, Bind 4]
type = TargetBind
trigger1 = AnimElem = 34 
pos =  45, 0
[State 3405, Bind 5];hit
type = TargetBind
trigger1 = AnimElem = 35 
pos = 50, 0 
[State 3405, Bind 6]
type = TargetBind
trigger1 = AnimElem = 36 
pos = 45, 0
;--------------------------------7
[State 3405, Bind 2]
type = TargetBind
trigger1 = AnimElem = 37 
pos = 55, 0
[State 3405, Bind 3]
type = TargetBind
trigger1 = AnimElem = 38 
pos = 45, 0
[State 3405, Bind 4]
type = TargetBind
trigger1 = AnimElem = 39 
pos =  45, 0
[State 3405, Bind 5];hit
type = TargetBind
trigger1 = AnimElem = 40 
pos = 50, 0 
[State 3405, Bind 6]
type = TargetBind
trigger1 = AnimElem = 41 
pos = 45, 0

[State 3405, b1]
Type = BGPalfx
triggerall = !NumExplod(3310)
Trigger1 = time = [0, 800]
Add = -70,-70,-90
IgnoreHitPause = 1
time = 1
hitcountpersist = 1

[State 3405, b2]
type = ChangeState
trigger1 = AnimTime = 0
value = 3416
hitcountpersist = 1

[Statedef 3416]
type    = S
movetype= A
physics = N
anim = 3416
hitcountpersist = 1

[State 3416, a1]
Type = BGPalfx
triggerall = !NumExplod(3310)
Trigger1 = time = [0, 800]
Add = -70,-70,-90
IgnoreHitPause = 1
time = 1
hitcountpersist = 1

[State 3416, a2]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
ignorehitpause = 1
hitcountpersist = 1


[State 3416, a3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 1
hitcountpersist = 1

[State 3416, a4]
type = PlaySnd
trigger1 = AnimElem = 67
value = 300, 2
hitcountpersist = 1

[State 3416, a5 ];ventohit
type = PlaySnd
trigger1 = animelem = 3 || AnimElem = 11 || AnimElem = 19|| AnimElem = 27
trigger2 = animelem = 35 || AnimElem = 43 || AnimElem = 51|| AnimElem = 59
value = 0, 2
channel = 0
hitcountpersist = 1

[State 3416, a6]
type = sprpriority
trigger1 = animelem = 1 ||animelem = 2 || AnimElem = 3 || AnimElem = 4
trigger2 = animelem = 9 ||animelem = 10 || AnimElem = 11 || AnimElem = 12
trigger3 =  AnimElem = 17 || AnimElem = 18 ||animelem = 19 || AnimElem = 20
trigger4 =  AnimElem = 25 || AnimElem = 26 ||animelem = 27 || AnimElem = 28
trigger5 =  AnimElem = 33 || AnimElem = 34 ||animelem = 35 || AnimElem = 36
trigger6 =  AnimElem = 41 || AnimElem = 42 ||animelem = 43 || AnimElem = 44
trigger7 = animelem = 49 ||animelem = 50 || AnimElem = 51 || AnimElem = 52
trigger8 =  AnimElem = 57 || AnimElem = 58 ||animelem = 59 || AnimElem = 60
trigger9 = animelem = 65 || AnimElem = 66 || AnimElem = 67 ||animelem = 68 || AnimElem = 69
value = -3
hitcountpersist = 1

[State 3416, a7]
type = sprpriority
trigger1 =  AnimElem = 5 || AnimElem = 6 ||animelem = 7 || AnimElem = 8
trigger2 =  AnimElem = 13 || AnimElem = 14 ||animelem = 15 || AnimElem = 16
trigger3 =  AnimElem = 21 || AnimElem = 22 ||animelem = 23 || AnimElem = 24
trigger4 =  AnimElem = 29 || AnimElem = 30 ||animelem = 31 || AnimElem = 32
trigger5 =  AnimElem = 37 || AnimElem = 38 ||animelem = 39 || AnimElem = 40
trigger6 =  AnimElem = 45 || AnimElem = 46 ||animelem = 47 || AnimElem = 48
trigger7 =  AnimElem = 53 || AnimElem = 54 ||animelem = 55 || AnimElem = 56
trigger8 =  AnimElem = 61 || AnimElem = 62 ||animelem = 63 || AnimElem = 64
value = 6
hitcountpersist = 1

[State 3416, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1 
pos = 35, 0
[State 3416, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2 
pos = 7, 7
[State 3416, Bind 3];som
type = TargetBind
trigger1 = AnimElem = 3 
pos = 5, 0
[State 3416, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4 
pos =  -7, 0
[State 3416, Bind 5]
type = TargetBind
trigger1 = AnimElem = 5 
pos = -22, -12 
[State 3416, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6 
pos = -9, 0
[State 3416, Bind 7]
type = TargetBind
trigger1 = AnimElem = 7 
pos = -11, 0 
[State 3416, Bind 8]
type = TargetBind
trigger1 = AnimElem = 8 
pos = 12, 0 
;---------------------2
[State 3416, Bind 1]
type = TargetBind
trigger1 = AnimElem = 9 
pos = 35, 0
[State 3416, Bind 2]
type = TargetBind
trigger1 = AnimElem = 10 
pos = 7, 7
[State 3416, Bind 3];som
type = TargetBind
trigger1 = AnimElem = 11 
pos = 5, 0
[State 3416, Bind 4]
type = TargetBind
trigger1 = AnimElem = 12 
pos =  -7, 0
[State 3416, Bind 5]
type = TargetBind
trigger1 = AnimElem = 13 
pos = -22, -8 
[State 3416, Bind 6]
type = TargetBind
trigger1 = AnimElem = 14 
pos = -9, 0
[State 3416, Bind 7]
type = TargetBind
trigger1 = AnimElem = 15 
pos = -11, 0 
[State 3416, Bind 8]
type = TargetBind
trigger1 = AnimElem = 16
pos = 12, 0 
;---------------------3
[State 3416, Bind 1]
type = TargetBind
trigger1 = AnimElem = 17 
pos = 35, 0
[State 3416, Bind 2]
type = TargetBind
trigger1 = AnimElem = 18 
pos = 7, 7
[State 3416, Bind 3];som
type = TargetBind
trigger1 = AnimElem = 19 
pos = 5, 0
[State 3416, Bind 4]
type = TargetBind
trigger1 = AnimElem = 20 
pos =  -7, 0
[State 3416, Bind 5]
type = TargetBind
trigger1 = AnimElem = 21 
pos = -22, -12 
[State 3416, Bind 6]
type = TargetBind
trigger1 = AnimElem = 22 
pos = -9, 0
[State 3416, Bind 7]
type = TargetBind
trigger1 = AnimElem = 23 
pos = -11, 0 
[State 3416, Bind 8]
type = TargetBind
trigger1 = AnimElem = 24 
pos = 12, 0 
;---------------------4
[State 3416, Bind 1]
type = TargetBind
trigger1 = AnimElem = 25 
pos = 35, 0
[State 3416, Bind 2]
type = TargetBind
trigger1 = AnimElem = 26 
pos = 7, 7
[State 3416, Bind 3];som
type = TargetBind
trigger1 = AnimElem = 27 
pos = 5, 0
[State 3416, Bind 4]
type = TargetBind
trigger1 = AnimElem = 28 
pos =  -7, 0
[State 3416, Bind 5]
type = TargetBind
trigger1 = AnimElem = 29 
pos = -22, -8 
[State 3416, Bind 6]
type = TargetBind
trigger1 = AnimElem = 30 
pos = -9, 0
[State 3416, Bind 7]
type = TargetBind
trigger1 = AnimElem = 31 
pos = -11, 0 
[State 3416, Bind 8]
type = TargetBind
trigger1 = AnimElem = 32
pos = 12, 0 
;---------------------5
[State 3416, Bind 1]
type = TargetBind
trigger1 = AnimElem = 33 
pos = 35, 0
[State 3416, Bind 2]
type = TargetBind
trigger1 = AnimElem = 34 
pos = 7, 7
[State 3416, Bind 3];som
type = TargetBind
trigger1 = AnimElem = 35 
pos = 5, 0
[State 3416, Bind 4]
type = TargetBind
trigger1 = AnimElem = 36 
pos =  -7, 0
[State 3416, Bind 5]
type = TargetBind
trigger1 = AnimElem = 37 
pos = -22, -12 
[State 3416, Bind 6]
type = TargetBind
trigger1 = AnimElem = 38 
pos = -9, 0
[State 3416, Bind 7]
type = TargetBind
trigger1 = AnimElem = 39 
pos = -11, 0 
[State 3416, Bind 8]
type = TargetBind
trigger1 = AnimElem = 40 
pos = 12, 0 
;---------------------6
[State 3416, Bind 1]
type = TargetBind
trigger1 = AnimElem = 41 
pos = 35, 0
[State 3416, Bind 2]
type = TargetBind
trigger1 = AnimElem = 42 
pos = 7, 7
[State 3416, Bind 3];som
type = TargetBind
trigger1 = AnimElem = 43 
pos = 5, 0
[State 3416, Bind 4]
type = TargetBind
trigger1 = AnimElem = 44 
pos =  -7, 0
[State 3416, Bind 5]
type = TargetBind
trigger1 = AnimElem = 45 
pos = -22, -8 
[State 3416, Bind 6]
type = TargetBind
trigger1 = AnimElem = 46 
pos = -9, 0
[State 3416, Bind 7]
type = TargetBind
trigger1 = AnimElem = 47 
pos = -11, 0 
[State 3416, Bind 8]
type = TargetBind
trigger1 = AnimElem = 48
pos = 12, 0 
;---------------------7
[State 3416, Bind 1]
type = TargetBind
trigger1 = AnimElem = 49 
pos = 35, 0
[State 3416, Bind 2]
type = TargetBind
trigger1 = AnimElem = 50 
pos = 7, 7
[State 3416, Bind 3];som
type = TargetBind
trigger1 = AnimElem = 51 
pos = 5, 0
[State 3416, Bind 4]
type = TargetBind
trigger1 = AnimElem = 52 
pos =  -7, 0
[State 3416, Bind 5]
type = TargetBind
trigger1 = AnimElem = 53 
pos = -22, -12 
[State 3416, Bind 6]
type = TargetBind
trigger1 = AnimElem = 54 
pos = -9, 0
[State 3416, Bind 7]
type = TargetBind
trigger1 = AnimElem = 55 
pos = -11, 0 
[State 3416, Bind 8]
type = TargetBind
trigger1 = AnimElem = 56 
pos = 12, 0 
;---------------------8
[State 3416, Bind 1]
type = TargetBind
trigger1 = AnimElem = 57 
pos = 35, 0
[State 3416, Bind 2]
type = TargetBind
trigger1 = AnimElem = 58 
pos = 7, 7
[State 3416, Bind 3];som
type = TargetBind
trigger1 = AnimElem = 59 
pos = 5, 0
[State 3416, Bind 4]
type = TargetBind
trigger1 = AnimElem = 60 
pos =  -7, 0
[State 3416, Bind 5]
type = TargetBind
trigger1 = AnimElem = 61 
pos = -22, -8 
[State 3416, Bind 6]
type = TargetBind
trigger1 = AnimElem = 62 
pos = -9, 0
[State 3416, Bind 7]
type = TargetBind
trigger1 = AnimElem = 63 
pos = -11, 0 
[State 3416, Bind 8]
type = TargetBind
trigger1 = AnimElem = 64
pos = 12, 0 
;---------------------
[State 3416, b1] ;explod
type = Explod
trigger1 = animelem = 3 || AnimElem = 11 || AnimElem = 19|| AnimElem = 27
trigger2 = animelem = 35 || AnimElem = 43 || AnimElem = 51|| AnimElem = 59
anim = 2150
id = 3450
postype = p1
pos = 0, 20
sprpriority = 7
removetime = -2
hitcountpersist = 1

[State 3416, b2] ;explod
type = Explod
trigger1 =  AnimElem = 8 || AnimElem = 16|| AnimElem = 24
trigger2 = animelem = 32 || AnimElem = 40 || AnimElem = 48|| AnimElem = 56
anim = 2160
id = 3450
postype = p1
pos = 0, 20
sprpriority = 7
removetime = -2
hitcountpersist = 1

[State 3416, c1] ;explodback
type = Explod
trigger1 = animelem = 5 || AnimElem = 13 || AnimElem = 21|| AnimElem = 29
trigger2 = animelem = 37 || AnimElem = 45 || AnimElem = 53|| AnimElem = 61
anim = 2150
id = 3450
postype = p1
pos = 0, -30
sprpriority = -3
removetime = -2
scale = .6,.6
hitcountpersist = 1

[State 3416, c2] ;explodback
type = Explod
trigger1 = animelem = 7 || AnimElem = 15 || AnimElem = 23|| AnimElem = 31
trigger2 = animelem = 39 || AnimElem = 47 || AnimElem = 55|| AnimElem = 63
anim = 2160
id = 3450
postype = p1
pos = 0, -30
sprpriority = -3
removetime = -2
scale = .6,.6
hitcountpersist = 1


;-------------saida
[State 3416, Bind 1]
type = TargetBind
trigger1 = AnimElem = 65 
pos = 35, 0
[State 3416, Bind 2]
type = TargetBind
trigger1 = AnimElem = 66 
pos = 7, 7
[State 3416, Bind 1]
type = TargetBind
trigger1 = AnimElem = 67 
pos = -20, 0
[State 3416, Bind 2]
type = TargetBind
trigger1 = AnimElem = 68 
pos = -30, 3
[State 3416, Bind 1]
type = TargetBind
trigger1 = AnimElem = 69 
pos = -100, 0

[State 3416, b3]
type = TargetLifeAdd
trigger1 = p2stateno = 5050
value = -20
persistent = 0

[State 3416 , b4]
type = PlaySnd
trigger1 = AnimElem = 65
value = 50,2
channel = 0
volume = 200

[State 3416 , b5]
type = PlaySnd
trigger1 = AnimElem = 69
value = 300,1

[State 3416 , b5]
type = PlaySnd
trigger1 = AnimElem = 70
value = 300,4

[State 3416, b6]
type = removeExplod
trigger1 = animelem = 65
id =3450

[State 3416, b7] 
type = targetState   
trigger1 = AnimElem = 69
value = 3450

[State 3450, a3]
type = EnvShake
trigger1 = p2stateno = 5050
time = 60
ampl = -7
persistent = 0

[State 3450, b1x] ;explod
type = Explod
trigger1 = p2stateno = 5050
anim = 8676
postype = p2
pos = 14, 5
sprpriority = 7
removetime = -2
persistent = 0
hitcountpersist = 1

[State 3450, b1y] ;explod
type = Explod
trigger1 = p2stateno = 5050
anim = 8675
postype = p2
pos = 0, 0
sprpriority = -3
removetime = -2
persistent = 0
hitcountpersist = 1

[State 3450, b1y] ;explod
type = removeExplod
trigger1 = 1
id = 8695
[State 3450, b1y] ;explod
type = removeExplod
trigger1 = 1
id = 8690

[State 3416, a5] ;Hit ground
type = playsnd
trigger1 = p2stateno = 5050
value= 300,5
volume = 250
persistent = 0

[State 3416, a5] ;Hit ground
type = hitadd
trigger1 = p2stateno = 5050
value = 1
persistent = 0

[State 3416, a6] ;If was holding fwd before, turn now
type = Turn
trigger1 = animelem = 80

[State 3416, b8]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = BackEdgeBodyDist > -1
value = 0
ctrl = 1
hitcountpersist = 1

[State 3416, sai]
type = ScreenBound
trigger1 = P2MoveType = H || BackEdgeBodyDist < -1
value = 0
movecamera = 0,0
hitcountpersist = 1

[State 3416, 1]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = BackEdgeBodyDist <= -1
value = 3418
ctrl = 0
hitcountpersist = 1

;-------;by SodonHid from Mgbr coding archive forum

[Statedef 3418]
type = S
physics = S
anim = 106
sprpriority = 1
ctrl = 0
hitcountpersist = 1

[State 3418, 0]
type = VelSet
trigger1 = 1
x = 30

[State 3418, 0]
type = ScreenBound 
trigger1 = 1
value = 0

[State 3418, 1]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 3418, 2]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 3418, 3]
type = ChangeState
trigger1 = p2bodydist x <= 430
value = 100
ctrl = 0
hitcountpersist = 1






;---------------------------------
[Statedef 3410]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 4
hitcountpersist = 1

[State 3410, a1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3410
hitcountpersist = 1

[State 3410, a2]
type = ScreenBound
trigger1 = 1
movecamera = 0, 0
value = 1

;In case attacker loses binding on player for any reason, this controller
;guarantees that the player will never get stuck in this thrown state.
[State 3410, a3]
type = SelfState
trigger1 = time = 900 ;!gethitvar(isbound)
value = 5050
hitcountpersist = 1

[State 820, saf]
type = SelfState
trigger1 = p2movetype = H
value = 5050
hitcountpersist = 1

[Statedef 3450]
type    = A
movetype= H
physics = N
velset = 12;,-30 ;2.8,-7
hitcountpersist = 1

[State 3450, a1]
type = VelSet
trigger1 = time = 0 
y = -20

[State 3450, a2]
type = VelSet
trigger1 = time = 8 
y = -14

[State 3450, a3]
type = VelSet
trigger1 = time = 14 
y = -10

[State 3450, a4]
type = VelSet
trigger1 = time = 24 
y = 4

[State 3450, a5]
type = VelAdd
trigger1 = time = 24
x = -9

[State 3450, a6]
type = VelSet
trigger1 = time = 28 
y = 6

[State 3450, a7]
type = VelSet
trigger1 = time = 33 
y = 10

[State 3450, a8]
type = VelAdd
trigger1 = time = 0
y = 2

[State 3450, a9]
type = VelAdd
trigger1 = time = 24
x = 6

[State 3450, b1] 
type = changeanim;SelfState
trigger1 = time = 20
value = 5070 
hitcountpersist = 1

[State 3450, b2]
type = Turn
trigger1 = anim = 5070
persistent = 0

[State 3450, b3] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5050 
hitcountpersist = 1


;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTT  WARRIORS OF ASGARD - Vollstagg, Fandral, Hogun TTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

[Statedef 3500]
type    = S                      
movetype= A                      
physics = N                      
juggle  = 8                      
velset = 0,0                     
ctrl = 0                         
sprpriority = 2
hitcountpersist = 1
poweradd = -3000

[State 7777, voice]
type = stopsnd
trigger1 = time = 0
channel = 7
[State 7777, voice]
type = stopsnd
trigger1 = time = 0
channel = 6
[State 7777, voice]
type = stopsnd
trigger1 = time = 0
channel = 0

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 3500
ctrl = 1
hitcountpersist = 1

[State 3500, a0]
type = Width
trigger1 = 1
player = -25,-25

[State 7777, voice]
type = PlaySnd
trigger1 = time = 0
value = 70,0
channel = 1
IgnoreHitPause = 1

[State 3500, BGPalfx]
Type = BGPalfx
Trigger1 = time = [0, 500]
Add = -70,-70,-90
IgnoreHitPause = 1
time = 1

[State 3500, a0]
type = removeExplod 
trigger1 = 1
id = 1101

[State 3500, A1]
type = NotHitBy 
trigger1 = Time >= 0 
time = 1 
value = SCA 

[State 3500, A2]
type = VelSet 
trigger1 = AnimElem = 4 
x = 9

[State 3500, A3]
type = VelSet 
trigger1 = movecontact
x = 0

[State 3500, b1]
type = MakeDust
trigger1 = Time >= 0
pos = 40,-2
spacing = 4

[State 3500, b2]
type = PlaySnd
trigger1 = animelem = 4
value = 300, 4
channel = 9

[State 3400, a5] ; Superpause
type = SuperPause
trigger1 = time = 0;20
darken = 1
anim = S8401
sound = S100, 2
pos = -50, -100
movetime = 70
poweradd = -3000
bindtime = -1
sprpriority = 4
Time = 70;45
p2defmul = 2
removeongethit = 1
hitcountpersist = 1

[State 3500, a4] ; Superpause
type = SuperPause
trigger1 = time = 0;20
darken = 1
anim = S8400
sound = S100, 2
pos = 25, -145
movetime = 70
poweradd = -3000
bindtime = -1
sprpriority = 4
Time = 70;45
p2defmul = 2
removeongethit = 1
hitcountpersist = 1

[State 3500, a5]
type = Explod 
trigger1 = time = 0
sprpriority = 7
anim = 8580
pos = 0, -10
removeongethit = 1
scale = .846,.846
bindtime = 1
supermovetime = -1
pausemovetime = -1
hitcountpersist = 1


[State 3500, a6]
type = AssertSpecial
trigger1 = time = [0, 500]
flag = nobardisplay
ignorehitpause = 1

[State 3500, Super Portrait] ;SuperPort
type = Explod
trigger1 = time = 0
anim = 8950
postype = back
pos = 0,0
ownpal = 1
ignorehitpause = 1
sprpriority = -1
supermovetime = -1
pausemovetime = -1
removeongethit = 1
bindtime = -1
hitcountpersist = 1

[State 3500, superBG] 
type = Explod
trigger1 = time = 0 ;AnimElem = 2 
anim = 8900
ownpal = 1
pos = 0,0
postype = back
;facing = 1 
bindtime = -1
supermovetime = -1
sprpriority = -5
removetime = 75
scale = 1,1
removeongethit = 1
hitcountpersist = 1




;[State 3105, a7]
;type = ChangeAnim
;Trigger1 = movehit
;value = 800

[State 3500, a8]
type = HitDef
Trigger1 = Time = 0
attr = S, HA
hitflag = MAF          
priority = 1, Miss    
sparkno = -1          
p1sprpriority = 1     
hitsound = S1, 1                   
p1facing = 1
p2facing = 1          
p1stateno = 3810       
p2stateno = 3820       
guard.dist = 0        
;fall = 1
hitcountpersist = 1

[State 3500, a9]
type = Changestate 
;trigger1 = Moveguarded 
trigger1 = Frontedgebodydist <= 0 
trigger2 = Time = 150 
value = 105 
hitcountpersist = 1

;------------------- gotcha you
[Statedef 3810]
type    = S
movetype= A
physics = N
anim = 3819
hitcountpersist = 1

[State 3810, a00]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3810, BGPalfx]
Type = BGPalfx
Trigger1 = time = [0, 500]
Add = -70,-70,-90
IgnoreHitPause = 1
time = 1

[State 3810, a0]
type = AssertSpecial
trigger1 = time = [0, 500]
flag = nobardisplay
ignorehitpause = 1

[State 3810, a1] 
type = velset
trigger1 = animelem = 3
x = 0

[State 3810, a2] 
type = velset
trigger1 = Frontedgebodydist < 30 
x = 0

[State 3820, a3]
type = ScreenBound
trigger1 = 1
value = 1

[State 3810, a4]
type = PlaySnd
trigger1 = time = 190
value = 0, 2

[State 3810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1 
pos = 68, -73
time = 200

[State 3810, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2 
pos = 84, -97

[State 3810, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3 
pos = 31, -121

[State 3810, Bind a]
type = TargetBind
trigger1 = AnimElem = 4 
pos = -69, -129

[State 3810, Bind b]
type = TargetBind
trigger1 = AnimElem = 5 
pos = -69, -127
[State 3810, Bind a]
type = TargetBind
trigger1 = AnimElem = 6 
pos = -69, -129

[State 3810, Bind b]
type = TargetBind
trigger1 = AnimElem = 7 
pos = -69, -127
[State 3810, Bind a]
type = TargetBind
trigger1 = AnimElem = 8 
pos = -69, -129

[State 3810, Bind b]
type = TargetBind
trigger1 = AnimElem = 9 
pos = -69, -127
[State 3810, Bind a]
type = TargetBind
trigger1 = AnimElem = 10 
pos = -69, -129

[State 3810, Bind b]
type = TargetBind
trigger1 = AnimElem = 11 
pos = -69, -127
[State 3810, Bind a]
type = TargetBind
trigger1 = AnimElem = 12 
pos = -69, -129

[State 3810, Bind b]
type = TargetBind
trigger1 = AnimElem = 13 
pos = -69, -127
[State 3810, Bind a]
type = TargetBind
trigger1 = AnimElem = 14 
pos = -69, -129

[State 3810, Bind b]
type = TargetBind
trigger1 = AnimElem = 15 
pos = -69, -127

[State 3810, Bind a]
type = TargetBind
trigger1 = AnimElem = 16 
pos = -69, -129

[State 3810, Bind b]
type = TargetBind
trigger1 = AnimElem = 17 
pos = -69, -127

[State 3810, Bind a]
type = TargetBind
trigger1 = AnimElem = 18 
pos = -69, -129

[State 3810, Bind b]
type = TargetBind
trigger1 = AnimElem = 19 
pos = -69, -127

[State 3810, Bind a]
type = TargetBind
trigger1 = AnimElem = 20 
pos = -69, -129

[State 3810, Bind b]
type = TargetBind
trigger1 = AnimElem = 21 
pos = -69, -127

[State 3810, Bind a]
type = TargetBind
trigger1 = AnimElem = 22 
pos = -69, -129

[State 3810, Bind b]
type = TargetBind
trigger1 = AnimElem = 23 
pos = -69, -127

[State 3810, Bind a]
type = TargetBind
trigger1 = AnimElem = 24 
pos = -69, -129

[State 3810, Bind b]
type = TargetBind
trigger1 = AnimElem = 25 
pos = -69, -127

[State 3810, Bind a]
type = TargetBind
trigger1 = AnimElem = 26 
pos = -69, -129

[State 3810, Bind b]
type = TargetBind
trigger1 = AnimElem = 27 
pos = -69, -127

[State 3810, Bind a]
type = TargetBind
trigger1 = AnimElem = 28 
pos = -69, -129

[State 3810, b1]
type = PlaySnd
trigger1 = time = 35 || time = 90 || time = 145 
value = 20,4
channel = 1

[State 3810, b2]
type = Explod 
trigger1 = time = 30 || time = 80 || time = 135 
sprpriority = 7
anim = 1450
postype = P2
pos = 0, 0
removeongethit = 1
hitcountpersist = 1

[State 3810, b3]
type = TargetLifeAdd
trigger1 = time = 25 || time = 80 || time = 135 
value = -100
kill = 0

[State 3810, 4]
type = HitAdd
trigger1 = time = 35 || time = 90 || time = 145 
value = 1

[State 3810, b4]
type = EnvShake
trigger1 = time = 35 || time = 90 || time = 145 
time = 20
ampl = -6

[State 3810, b5]
type = Explod 
trigger1 = time = 35 || time = 90 || time = 145 
sprpriority = 7
anim = 8460
postype = P2
pos = 0, 0
removeongethit = 1
hitcountpersist = 1

[State 3810, Bind 5]
type = TargetBind
trigger1 = AnimElem = 29 
pos = -38, -124

[State 3810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 30 
pos = 25, -128

[State 3810, Bind 7]
type = TargetBind
trigger1 = AnimElem = 31
pos = 94, -100;-119

[State 3810, Bind 8]
type = TargetBind
trigger1 = AnimElem = 32
pos = 110, -40;-98 ;94, -119

[State 7777, voice]
type = PlaySnd
trigger1 = time = 0
value = 200,9
channel = 0
IgnoreHitPause = 1

[State 3810, a7] 
type = Turn
triggerall = facing = 1
trigger1 = screenpos X =[160,320] 
trigger1 = AnimElem = 3;9

[State 3810, a8] 
type = TargetFacing
triggerall = facing = 1
trigger1 = screenpos X =[0,160] 
trigger1 = AnimElem = 3;9
value = 1

[State 3810, a9] 
type = Turn
triggerall = facing = -1
trigger1 = screenpos X =[0,160] 
trigger1 = AnimElem = 3;9

[State 3810, b1]
type = TargetState
trigger1 = AnimElem = 32;800-10
value = 3821
hitcountpersist = 1

[State 3810, b2] 
type = Explod
trigger1 = Time = 198
anim = 8676
postype = p2
pos = 14, 5
sprpriority = -3
removetime = -2
persistent = 0
hitcountpersist = 1

[State 3810, b3] ;explod
type = Explod
trigger1 = Time = 198
anim = 8675
postype = p2
pos = 0, 0
sprpriority = 7
removetime = -2
persistent = 0
hitcountpersist = 1

[State 3810, b4]
type = EnvShake
trigger1 = time = 198
time = 20
ampl = -6

[State 3810, b5]
type = PlaySnd
trigger1 = time = 198
value = 5, 5
channel = 5

[State 3810, b6]
type = ChangeState
trigger1 = AnimTime = 0
value = 3501
hitcountpersist = 1

;------------------------vortex
[Statedef 3501]
type    = S                      
movetype= A                      
physics = N                                            
velset = 0,0                     
ctrl = 0                         
anim = 3501                      
sprpriority = -3
hitcountpersist =1

[State 3501, BGPalfx]
Type = BGPalfx
Trigger1 = time = [0, 500]
Add = -70,-70,-90
IgnoreHitPause = 1
time = 1

[State 3501, a00]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3501, a0]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
ignorehitpause = 1

[State 3501, som]
type = PlaySnd
trigger1 = time = 0
value = 6, 3
channel = 8
loop = 1
removeongethit = 1
volume = -60


[State 3501,som]
type = PlaySnd
trigger1 = time = 0
value = 20, 11
channel = 9
loop = 1
removeongethit = 1

[State 3103, a3]
type = ScreenBound
trigger1 = 1
movecamera = 0, 0
value = 1
[State 3110, b2]
type = PlayerPush
trigger1 = 1
value = 0

[State 3501, A2]
type = Explod 
triggerall = anim = 3501
trigger1 = time % 30
sprpriority = 7
id = 8460
anim = 8460
postype = P2
pos = 0, -50
random = 45,70
scale = .5,.5
bindtime = -1
hitcountpersist = 1


[State 3501, A2x]
type = Explod 
triggerall = anim = 3501
trigger1 = time = 0
sprpriority = -1
id = 3570
anim = 3570
postype = P1
pos = 0, 0
bindtime = -1
removetime = 250
removeongethit = 1
hitcountpersist = 1

[State 3501, A3]
type = removeExplod
trigger1 = time = 250
id = 8460

[State 3501, A4] 
type = ChangeAnim
trigger1 = time = 270
value = 3502
hitcountpersist = 1

[State 3501, b1]
type = Helper
trigger1 = time = 20
name = "Hogun"
ID = 3510
pos = 8,-170
postype = left
stateno = 3510
ownpal = 1
hitcountpersist = 1

[State 3501, b2]
type = Explod 
trigger1 = time = 0
sprpriority = -2
id = 3540
anim = 3540
postype = left
pos = 5, 80
bindtime = -1
ownpal = 1
scale = .8, .8
hitcountpersist = 1

[State 3501, vortex]
type = Explod 
trigger1 = time = 0
sprpriority = -1
id = 3560
anim = 3560
postype = p1
pos = 0, 0
bindtime = -1
ownpal = 1
hitcountpersist = 1

[State 3501, portal]
type = PlaySnd
trigger1 = time = 0
value = 3500, 3
channel = 2

[State 3501, c1]
type = Helper
trigger1 = time = 120
name = "Fandral"
ID = 3520
pos = -30,-170
postype = right
stateno = 3520
ownpal = 1
facing = -1
hitcountpersist = 1

[State 3501, c2]
type = Explod 
trigger1 = time = 100
sprpriority = -2
id = 3540
anim = 3540
postype = right
pos = -20, 80
bindtime = -1
ownpal = 1
scale = .8, .8
hitcountpersist = 1

[State 3501, vortex]
type = Explod 
trigger1 = time = 100
sprpriority = -1
id = 3560
anim = 3560
postype = p1
pos = 0, 0
bindtime = -1
ownpal = 1
hitcountpersist = 1

[State 3500, portal]
type = PlaySnd
trigger1 = time = 100
value = 3500, 3
channel = 2

[State 3501, d1]
type = Helper
trigger1 = time = 220
name = "Vollstagg"
ID = 3530
pos = 0,-300
postype = P2
stateno = 3530
ownpal = 1
hitcountpersist = 1

[State 3501, d2]
type = Explod 
trigger1 = time = 200
sprpriority = -2
id = 3550
anim = 3550
postype = p2
pos = 0, -220
bindtime = -1
ownpal = 1
scale = .8, .8
hitcountpersist = 1

[State 3501, vortex]
type = Explod 
trigger1 = time = 200
sprpriority = -1
id = 3560
anim = 3560
postype = p1
pos = 0, 0
bindtime = -1
ownpal = 1
hitcountpersist = 1

[State 3501, portal]
type = PlaySnd
trigger1 = time = 200
value = 3500, 3
channel = 2

[State 3501,som]
type = Stopsnd
trigger1 = time = 320
channel = 9

[State 3501, b1]
type = Helper
trigger1 = time = 395
name = "BillRay"
ID = 3580
pos = 210,-350
postype = p1
stateno = 3580
ownpal = 1
hitcountpersist = 1


[State 3501,som]
type = Stopsnd
trigger1 = time = 440
channel = 8


;[State 3501, e1]
;type = Changeanim
;trigger1 = time = 440
;value = 3503

[State 3501, e1]
type = Changestate
trigger1 = time = 450
value = 3505;0
;ctrl = 1
hitcountpersist = 1

;--------------------- ray bill section
[Statedef 3505]
type    = S                      
movetype= A                      
physics = N                                            
velset = 0,0                     
ctrl = 0                         
sprpriority = 5
hitcountpersist = 1

[State 3505, BGPalfx]
Type = BGPalfx
Trigger1 = time = [0, 500]
Add = -70,-70,-90
IgnoreHitPause = 1
time = 1

[State 3505, a00]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3505, a0]
type = AssertSpecial
trigger1 = time = [0, 440]
flag = nobardisplay
ignorehitpause = 1


[State 3505, ch]
type = ChangeAnim
trigger1 = time = 0
value = 3505
hitcountpersist = 1

[State 3505, aa]
type = Velset
trigger1 = time = 0
x = 4

[State 3505, aa]
type = Velset
trigger1 = P2BodyDist X <= 15
x = 0

[State 3505, vortex]
type = Explod 
trigger1 = animelem = 9
sprpriority = 7
id = 3560
anim = 3560
postype = p1
pos = 70, -245
vfacing = -1
bindtime = -1
ownpal = 1
hitcountpersist = 1

[State 3505, som]
type = PlaySnd
trigger1 = animelem = 9
value = 20,3
channel = 0
IgnoreHitPause = 1
volume = 250
freqmul = 0.8

[State 3505, a1]
type = PlaySnd
trigger1 = animelem = 9
value = 300, 3
freqmul = .3
channel = 9

[State 3505, a1]
type = PlaySnd
trigger1 = animelem = 9
value = 0, 1
freqmul = 1.3
channel = 7
loop = 1
volume = -80

[State 3505, b2];tornado
type = Explod
trigger1 = animelem = 9
id = 8660
anim = 8660
postype = p2
pos = 0, 0
sprpriority = 7
removetime = 20
scale = .3,.3
hitcountpersist = 1

[State 3505, b21]
type = modifyexplod
trigger1 = time = 17
ID = 8660
scale = .5,.5
hitcountpersist = 1

[State 3505, b21]
type = modifyexplod
trigger1 = time = 25
ID = 8660
scale = .8,.8
hitcountpersist = 1

[State 3505, b21]
type = modifyexplod
trigger1 = time = 32
ID = 8660
scale = 1,1
hitcountpersist = 1

[State 3505, b2];tornado
type = Explod
trigger1 = time = 32
id = 8661
anim = 8660
postype = p2
pos = 0, 0
sprpriority = 7
removetime = -1
scale = 2,2.5
hitcountpersist = 1



[State 3505, vento]
type = stopsnd
trigger1 = time = 410
channel = 7

[State 3505, b21]
type = removeexplod
trigger1 = time = 410
ID = 8661
;-----------------------
[State 3505, hit]
type = hitadd 
trigger1 = time = 37
value = 8
[State 3505, hit]
type = hitadd 
trigger1 = time = 39 
value = 9
[State 3505, hit]
type = hitadd 
trigger1 = time =  64
value = 10
[State 3505, hit]
type = hitadd 
trigger1 = time = 90 
value = 11
[State 3505, hit]
type = hitadd 
trigger1 = time = 115 
value = 12
[State 3505, hit]
type = hitadd 
trigger1 = time = 139 
value = 13
[State 3505, hit]
type = hitadd 
trigger1 = time = 164 
value = 14
[State 3505, hit]
type = hitadd 
trigger1 = time = 190 
value = 15
[State 3505, hit]
type = hitadd 
trigger1 = time = 215 
value = 16
[State 3505, hit]
type = hitadd 
trigger1 = time = 239 
value = 17
[State 3505, hit]
type = hitadd 
trigger1 = time = 264 
value = 18
[State 3505, hit]
type = hitadd 
trigger1 = time = 290 
value = 19
[State 3505, hit]
type = hitadd 
trigger1 = time = 315 
value = 20
[State 3505, hit]
type = hitadd 
trigger1 = time = 339 
value = 21
[State 3505, hit]
type = hitadd 
trigger1 = time = 364 
value = 22
;------------------

[State 3505, snd]
type = playsnd
trigger1 = time = 39 
trigger2 = time = 64
trigger3 = time = 90
trigger4 = time = 115
trigger5 = time = 139
trigger6 = time = 164
trigger7 = time = 190
trigger8 = time = 215
trigger9 = time = 239
trigger10 = time = 264
trigger11 = time = 290
trigger12 = time = 315
trigger13 = time = 339
trigger14 = time = 364
value = 20,8
channel = 2

[State 3505, a7]
type = Explod 
trigger1 = time = 39 
trigger2 = time = 64
trigger3 = time = 90
trigger4 = time = 115
trigger5 = time = 139
trigger6 = time = 164
trigger7 = time = 190
trigger8 = time = 215
trigger9 = time = 239
trigger10 = time = 264
trigger11 = time = 290
trigger12 = time = 315
trigger13 = time = 339
trigger14 = time = 36
id = 8500
sprpriority = 6
anim = 8500
postype = P2
pos = 0, -25
removeongethit = 1
ownpal = 1
hitcountpersist = 1


[State 3505, b21]
type = Changeanim
trigger1 = time = 410
value = 3506
hitcountpersist = 1

[State 3505, e1]
type = Changestate
triggerall = anim = 3506
trigger1 = P2BodyDist Y <= -120
value = 3506
hitcountpersist = 1

[State 3505, b21];-----safe 
type = Changestate
trigger1 = time = 470
value = 3506
hitcountpersist = 1

[Statedef 3506]
type    = S
movetype= A
physics = S
facep2 = 1
anim = 3507
ctrl = 0
velset = 0,0
sprpriority = 2
hitcountpersist =1

[State 3506, Wd]
type = Width
triggerall = anim = 3507 
trigger1 = Time = [10,45]
value = 50,0

[State 3506, voz]
type = PlaySnd
trigger1 = AnimElem = 1
value = 50,2
channel = 1

[State 3506, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 3506, spark]
type = Explod 
trigger1 = movehit
persistent = 0
anim = ifelse(random>500,8500,8501)
ownpal = 1
sprpriority = 6
pos = 8, 0
postype = p2
scale = 1.1,1.1
bindtime = 1
ignorehitpause = 1
hitcountpersist = 1

[State 3506, spark]
type = Explod 
trigger1 = movehit
persistent = 0
anim = 8520
ownpal = 1
sprpriority = 7
pos = 8, 0
postype = p2
scale = 1.1,1.1
bindtime = 1
ignorehitpause = 1
hitcountpersist = 1


[State 3506, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA                     
animtype = Up                 
guardflag = MA                  
damage = 65
hitflag = MAF                  
pausetime = 4,8  
sparkno = -1;S8500
guard.sparkno = S8550                     
sparkxy = 8, -94              
hitsound = S5,4                  
guardsound = S7,1           
ground.type = high               
priority = 4, Hit
ground.slidetime = 30            
ground.hittime  = 40             
ground.velocity = -15,-6       
guard.velocity = -8
airguard.velocity = -15,-6    
air.type = high                  
air.velocity = -15,-6           
air.hittime = 40
envshake.time = 10
envshake.ampl = 8
fall =1
fall.recover = 0
fall.envshake.time = 35
fall.envshake.ampl = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = -8
guard.cornerpush.veloff = -15
airguard.cornerpush.veloff = -15
numhits = 23
hitcountpersist = 1
 
[State 3506, b8]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = BackEdgeBodyDist > -1
value = 0
ctrl = 1
hitcountpersist = 1

[State 3506, sai]
type = ScreenBound
trigger1 = P2MoveType = H || BackEdgeBodyDist < -1
value = 0
movecamera = 0,0
hitcountpersist = 1

[State 3506, 1]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = BackEdgeBodyDist <= -1
value = 3418
ctrl = 0
hitcountpersist = 1

;------------------BetaBillRay
[Statedef 3580]
type = A
movetype = A
sprpriority = 7
physics = N
anim = 3580
;hitcountpersist = 1

[State 3580, som]
type = PlaySnd
trigger1 = time = 0
value = 300,3
channel = 1
IgnoreHitPause = 1
freqmul = 1.1

[State 3580, som]
type = PlaySnd
trigger1 = time = 20
value = 70,2
channel = 4
freqmul = 0.7
volume = 250

[State 3580, a1]
type = AfterImage
trigger1 = time = 0
time = 70
palcontrast = 222,142,82
trans = add
length = 10 
palbright = 42,22,2
palmul =.73,.63,.3
palcontrast = 222,142,82
timegap = 1
framegap = 1

[State 3103, a3]
type = ScreenBound
trigger1 = 1
movecamera = 0, 0
value = 1
[State 3110, b2]
type = PlayerPush
trigger1 = 1
value = 0

[State 3580, a1]
type = Velset
trigger1 = time = 0
y = 3;3

[State 3580, A2]
type = VelAdd
trigger1 = time = 2;8
y = 6

[State 3580, a3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 3585 
;hitcountpersist = 1

[Statedef 3585];-------hammers up
type = A
movetype = A
sprpriority = 6
physics = N
anim = 3585
;hitcountpersist = 1

[State 3501, b1]
type = Helper
trigger1 = time = 0
name = "Billshine"
ID = 3586
pos = 0,0
postype = p1
stateno = 3586
ownpal = 1
;hitcountpersist = 1

[State 3103, a3]
type = ScreenBound
trigger1 = 1
movecamera = 0, 0
value = 1
[State 3110, b2]
type = PlayerPush
trigger1 = 1
value = 0

[State 3585, som]
type = PlaySnd
trigger1 = time = 0
value = 40, 0
channel = 3

[State 3585, a1]
type = Posset
trigger1 = time = 0
y = 0

[State 3585, a2]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[state 3580, ray]
type = assertspecial
trigger1 = time = 400
flag = noshadow
time = 300

[State 3585, A4]
type = ChangeAnim
trigger1 = time = 400
value = 3580
;hitcountpersist = 1

[State 3585, a1]
type = AfterImage
trigger1 = time = 400
time = 60
palcontrast = 222,142,82
trans = add
length = 10 
palbright = 42,22,2
palmul =.73,.63,.3
palcontrast = 222,142,82
timegap = 1
framegap = 1

[State 3585, som]
type = PlaySnd
trigger1 = time = 400
value = 300,3
channel = 1
IgnoreHitPause = 1
freqmul = 1.1

[State 3585, a2]
type = Velset
trigger1 = time = 405
y = -5

[State 3585, a2]
type = Veladd
trigger1 = time = 405
y = -4

[State 3585, a7]
type = Destroyself
trigger1 = time = 550

[Statedef 3586]
type = S
movetype = I
physics = N
sprpriority = 7
anim = 8787
;hitcountpersist = 1

[State 3586, PalFXWiz] 
type = PalFX
trigger1 =1
time = 10
add = 21,-10,-81
mul = 358,328,174
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 3586, som]
type = PlaySnd
trigger1 = time = 0
value = 300,2
channel = 9
IgnoreHitPause = 1

[State 3586, som]
type = PlaySnd
trigger1 = time = 10
value = 20,3
channel = 8
IgnoreHitPause = 1
volume = 250
freqmul = 0.8

[State 3586, vortex]
type = Explod 
trigger1 = time = 0
sprpriority = 7
anim = 3560
postype = p1
pos = -75, -245
vfacing = -1
bindtime = -1
;hitcountpersist = 1


[State 3103, a3]
type = ScreenBound
trigger1 = 1
movecamera = 0, 0
value = 1
[State 3110, b2]
type = PlayerPush
trigger1 = 1
value = 0

[State 1889, A2]
type = Explod 
;triggerall = parent, numexplod(8661)= 1
trigger1 = time % 90
sprpriority = -2
id = 8460
anim = 8460
postype = P2
pos = 0, -25
random = 0,200
scale = 1,1
bindtime = -1
;vel = ifelse(random <=500,-5,5),0
;hitcountpersist = 1

[State 3586, a6]
type = destroyself
trigger1 = time = 400

;------------------Hogun
[Statedef 3510]
type = A
movetype = A
sprpriority = 7
physics = N
anim = 3510
;hitcountpersist = 1

[State 1400, X0]
type = PlayerPush
trigger1 = 1
value = 0
[State 1400, X1]
type = NotHitBy
trigger1 = 1
value = SCA 
time = 3
ignorehitpause = 1

[State 3510, som]
type = PlaySnd
trigger1 = time = 0
value = 100, 3
channel = 3

[State 3820, a3]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 3510, som]
type = PlaySnd
trigger1 = time = 0
value = 3500, 0
channel = 1

[State 3510, a1]
type = Velset
trigger1 = time = 0
x = 2.3;2.3
y = 3;3

[State 3510, A2]
type = VelAdd
trigger1 = time = 2;8
x = 1
y = 6

[State 3510, a3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 3511
;hitcountpersist = 1

[Statedef 3511]
type = A
movetype = A
sprpriority = 7
physics = N
anim = 3511
;hitcountpersist = 1

[State 3510, som]
type = PlaySnd
trigger1 = time = 0
value = 40, 0
channel = 4

[State 3510, som]
type = PlaySnd
trigger1 = animelem = 7
value = 0, 2
channel = 3

[State 3511, a1]
type = Posset
trigger1 = time = 0
y = 0

[State 3511, a2]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 3511, a3]
type = Explod 
trigger1 = time = 290
sprpriority = -2
id = 3540
anim = 3540
postype = p1
pos = -15, -60
bindtime = -1
ownpal = 1
scale = 1.3, .8
;hitcountpersist = 1

[State 3510, som]
type = PlaySnd
trigger1 = time = 290
value = 3500, 3
channel = -1

[State 3511, A4]
type = ChangeAnim
trigger1 = time = 300
value = 3512
;hitcountpersist = 1

[State 3511, a5]
type = PalFX
trigger1 = Time = 300
time = 80
add = 32,16,75
sinadd = 64,32,15,3

[State 3511, a6]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = light
damage    = 95,2
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,7
sparkno = S8510
guard.sparkno = S8550
sparkxy = -10,-60
hitsound   = S5,4
guardsound = S7,1
ground.type = high
ground.slidetime = 35
ground.hittime  = 200
ground.velocity = 1,0
air.velocity = 0,0
p2stateno = 3830
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 6
envshake.freq = 127
envshake.ampl = -5
kill = 0
p2facing=1
;hitcountpersist = 1

[State 3530, hit]
type = HitAdd
trigger1 = animelem = 8
value = 4

[State 3511, a7]
type = Destroyself
trigger1 = time = 320

;------------------Fandral
[Statedef 3520]
type = A
movetype = A
sprpriority = 7
physics = N
anim = 3520
;hitcountpersist = 1

[State 3520, som]
type = PlaySnd
trigger1 = time = 0
value = 100, 3
channel = 1

[State 3820, a3]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 1400, X0]
type = PlayerPush
trigger1 = 1
value = 0

[State 1400, X1]
type = NotHitBy
trigger1 = 1
value = SCA 
time = 3
ignorehitpause = 1
[State 3520, som]
type = PlaySnd
trigger1 = time = 0
value = 3500, 1
channel = 2
;hitcountpersist = 1

[State 3520, a1]
type = Velset
trigger1 = time = 0
x = .9
y = 3

[State 3520, A2]
type = VelAdd
trigger1 = time = 2
x = 1
y = 6

[State 3520, a3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 3521 
;hitcountpersist = 1

[Statedef 3521]
type = A
movetype = A
sprpriority = 7
physics = N
anim = 3521
;hitcountpersist = 1

[State 3521, a1]
type = Posset
trigger1 = time = 0
y = 0

[State 3521, a3]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 1400, X0]
type = PlayerPush
trigger1 = 1
value = 0

[State 1400, X1]
type = NotHitBy
trigger1 = 1
value = SCA 
time = 3
ignorehitpause = 1

[State 3521, som]
type = PlaySnd
trigger1 = time = 0
value = 0, 2
channel = 3

[State 3521, som]
type = PlaySnd
trigger1 = time = 0
value = 40, 0
channel = 5

[State 3521, a2]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 3521, a3]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = medium
damage    = 95,2
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,7
sparkno = S8510
guard.sparkno = S8550
sparkxy = -10,-60
hitsound   = S5,7
guardsound = S7,1
ground.type = low
ground.slidetime = 35
ground.hittime  = 200
ground.velocity = 1,0
p2stateno = 3830
air.velocity = 0,0
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 6
envshake.freq = 127
envshake.ampl = -5
kill = 0
p2facing=1
;hitcountpersist = 1

[State 3530, hit]
type = HitAdd
trigger1 = animelem = 5
value = 6

[State 3521, a4]
type = Explod 
trigger1 = time = 210
sprpriority = -2
id = 3540
anim = 3540
postype = p1
pos = 0, -60
bindtime = -1
ownpal = 1
scale = 1.3, .8
;hitcountpersist = 1

[State 3520, som]
type = PlaySnd
trigger1 = time = 210
value = 3500, 3
channel = 2


[State 3521, A5]
type = ChangeAnim
trigger1 = time = 230
value = 3522
;hitcountpersist = 1

[State 3521, a6]
type = PalFX
trigger1 = Time = 230
time = 80
add = 32,16,75
sinadd = 64,32,15,3

[State 3521, a7]
type = Destroyself
trigger1 = time = 250


;------------------Vollstagg
[Statedef 3530]
type = A
movetype = A
sprpriority = 5
physics = N
anim = 3530
;hitcountpersist = 1

[State 3530, a1]
type = Velset
trigger1 = time = 0
y = 3

[State 3820, a3]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 1400, X0]
type = PlayerPush
trigger1 = 1
value = 0

[State 1400, X1]
type = NotHitBy
trigger1 = 1
value = SCA 
time = 3
ignorehitpause = 1

[State 3520, som]
type = PlaySnd
trigger1 = time = 0
value = 3500, 4
channel = 0

[State 3530, A2]
type = VelAdd
trigger1 = time = 1
y = 10

[State 3530, a4]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = light
damage    = 110,2
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,7
sparkno = S8510
guard.sparkno = S8550
sparkxy = -10,0
hitsound   = S300,0
guardsound = S7,1
ground.type = trip
ground.slidetime = 0
ground.hittime  = 100
ground.velocity = 0,0
air.velocity = 0,0
p2stateno = 3850
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 6
envshake.freq = 127
envshake.ampl = -5
kill = 0
;hitcountpersist = 1

[State 3530, a3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 3531 
;hitcountpersist = 1

[Statedef 3531]
type = A
movetype = A
sprpriority = 5
physics = N
anim = 3531
;hitcountpersist = 1


[State 3820, a3]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0


[State 3530, hit]
type = HitAdd
trigger1 = time =0
value = 7

[State 3531, a1] ;explod
type = Explod
trigger1 = Time = 0
anim = 2150
postype = p2
pos = 0, 0
sprpriority = 7
removetime = -2
persistent = 0
;hitcountpersist = 1

[State 3531, som]
type = PlaySnd
trigger1 = time = 0
value = 40, 0
channel = 1

[State 3531, som]
type = PlaySnd
trigger1 = time = 0
value = 3500, 2
channel = 2


[State 3531, som]
type = PlaySnd
trigger1 = animelem = 4
value = 5, 6
channel = 5


[State 3531, a2] ;explod
type = Explod
trigger1 = Time = 0
anim = 2160
postype = p2
pos = 0, 0
sprpriority = 7
removetime = -2
persistent = 0
;hitcountpersist = 1

[State 3531, a3]
type = EnvShake
trigger1 = time = 0
time = 25
ampl = -15

[State 3531, a4]
type = PlaySnd
trigger1 = time = 0
value = 300, 5
channel = 4

[State 3531, a5]
type = Posset
trigger1 = time = 0
y = 0

[State 3531, a6]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 3531, som]
type = PlaySnd
trigger1 = time = 90
value = 3500, 3
channel = 5

[State 3531, a7]
type = Explod 
trigger1 = time = 90
sprpriority = -2
id = 3540
anim = 3540
postype = p1
pos = 0, -60
bindtime = -1
ownpal = 1
scale = 1.4, .8
;hitcountpersist = 1

[State 3531, A8]
type = ChangeAnim
trigger1 = time = 100
value = 3532
;hitcountpersist = 1

[State 3531, a9]
type = PalFX
trigger1 = Time = 100
time = 80
add = 32,16,75
sinadd = 64,32,15,3

[State 3531, b1]
type = Destroyself
trigger1 = time = 120

;---------------------------------
[Statedef 3820]
type    = A
movetype= H
physics = S
velset = 0,0
sprpriority = 4
;hitcountpersist = 1

[State 3820, a1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3820
;hitcountpersist = 1

[State 3820, a2]
type = ScreenBound
trigger1 = 1
value = 1

[State 3820, a3]
type = PalFX
trigger1 = animelem = 4
time = 500
add = -90,0,140
sinadd = 100,100,100,10

[State 820, saf]
type = SelfState
trigger1 = p2movetype = H
value = 5050
;hitcountpersist = 1

[State 3820, a4]
type = SelfState
trigger1 = time = 300 
value = 5050
;hitcountpersist = 1

;---------------------------------------------------------------------------
[Statedef 3850]
type    = A
movetype= H
physics = S
velset = 0,0
sprpriority = -2
;hitcountpersist = 1



[State 3850, a1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3850
;hitcountpersist = 1

;[State 3850, a2]
;type = ScreenBound
;trigger1 = 1
;value = 1

[State 3850, a1]
type = ChangeAnim2
Trigger1 = Time = 250
value = 3855
;hitcountpersist = 1

[State 3850, a1]
type = posadd
trigger1 = time = 250
x = 8
y = -25

[State 3850, a1]
type = Veladd
trigger1 = time = 250
y = -1.1

[State 3850, a4]
type = SprPriority
trigger1 = Time = 250
value = 4

[State 3850, a6]
type = EnvShake
trigger1 = time = 250 
trigger2 = time = 275
trigger3 = time = 300
trigger4 = time = 325
trigger5 = time = 350
trigger6 = time = 375
trigger7 = time = 400
trigger8 = time = 425
trigger9 = time = 450
trigger10 = time = 475
trigger11 = time = 500
trigger12 = time = 525
trigger13 = time = 550
trigger14 = time = 575
time = 10
ampl = -6
freq = 40

[State 3821, a2]
type = Turn
trigger1 = time = 590

[State 3850, a1]
type = ChangeAnim
Trigger1 = Time = 590
value = 5030
;hitcountpersist = 1

[State 3850, a3]
type = SelfState
trigger1 = time = 600;260 
value = 5050;5110
;hitcountpersist = 1

[Statedef 3821]
type    = A
movetype= H
physics = S
velset = 2,9;2.8,-7
;hitcountpersist = 1

;[State 3821, a1]
;type = ScreenBound
;trigger1 = 1
;movecamera = 0, 0
;value = 1

[State 3821, a2]
type = Turn
trigger1 = Anim = 3820
trigger1 = AnimElem = 8

[State 3821, a3] 
type = velset
trigger1 = screenpos X = 160 
x = 0

[State 3821, a4] 
type = velset
trigger1 = Pos Y = 0
y = 0

[State 3821, a5] ;Hit ground
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 3830 ;Hit ground
;hitcountpersist = 1

[Statedef 3830]
type    = S
movetype= I
physics = S
velset = 0,0
sprpriority = 3
;hitcountpersist = 1

[State 3830, a1]
type = ScreenBound
trigger1 = 1
movecamera = 0, 0
value = 1

[State 3830, a2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3830, a3]
type = ChangeAnim2
;Triggerall = !selfanimexist(7696)
Trigger1 = Time = 0
value = 3830
;hitcountpersist = 1

;[State 3820, a1]
;type = ChangeAnim
;Triggerall = animexist(7696)
;Trigger1 = Time = 0
;value = 7696

[State 3850, a3]
type = SelfState
trigger1 = time = 600;260 
value = 5050
;hitcountpersist = 1




;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 
;TTTTTTTTTTTTT SUPER JUMP  TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT 

[Statedef 2999]
type    = A
physics = N
ctrl = 0
hitcountpersist = 1

[State 2999, a6x]
type = Velset
trigger1 = animelem = 8
y = -11

[State 2999, a6x]
type = Velset
trigger1 = var(25) = 1
x = 6

[state 250,5]
type = varset
trigger1 = Time > 15 &&  Var(59) >= 1
var(25) = 0

[State 2999, aa]
type = ChangeAnim
trigger1 = Time = 0
value = 49
hitcountpersist = 1

[State 2999, a1]
type = Width
trigger1 = 1
player = -25,-25



[State 2999, a2]
type = Explod 
trigger1 = time = 0
sprpriority = 5
anim = 8530
pos = 0, 0
hitcountpersist = 1

[State 2999, a3]
type = PlaySnd
trigger1 = time = 0
value = 6,2

[state 2999, a4]
type = CtrlSet
trigger1 = Time >= 1
value = 1

;[State 2999, 1x]
;type = MakeDust
;trigger1 = Time = [0,20]
;pos = 0,-2
;spacing = 4

;[State 2999, 1y]
;type = MakeDust
;trigger1 = Time = [0,25]
;pos = -12,8
;spacing = 3

[State 2999, 1xy]
type = Explod
trigger1 = Time % 4 = 0 && Time <= 25  
anim = 8730  
postype = p1
ownpal = 1
pos = 0, -15
scale = 1.2,1.2
random = 30, 30
hitcountpersist = 1

[State 2999, a5]
type = VelAdd
triggerall = Time < 20
trigger1 = Command = "holdback" && Vel X > -2.2
x = -2

[State 2999, a6]
type = VelAdd
triggerall = Time < 20
trigger1 = Command = "holdfwd" && Vel X < 2.2
x = 2

[State 2999, a5x]
type = VelAdd
triggerall = Time > 20
trigger1 = Command = "holdback" && Vel X > -1.5
x = -1

[State 2999, a6x]
type = VelAdd
triggerall = Time > 20
trigger1 = Command = "holdfwd" && Vel X < 1.5
x = 1

[state 2999, a7]
type = VelAdd
trigger1 = Time > 20
y = 0.5;0.6

[State 2999, a8]
type = Turn
trigger1 = P2Dist X < 0

[state 2999, a9x]
type = ChangeState
triggerall = Time > 18
trigger1 = command = "FF"
value = 106
hitcountpersist = 1

[state 2999, a9]
type = ChangeState
trigger1 = Pos Y >= 1 
value = 52
ctrl 
hitcountpersist = 1


;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTT    Super Punch    TTTTTTTTTTTTTTTT








;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

;----------------------------------------------------------
; RUN_Attack
[Statedef 223]
type = A
movetype = A
sprpriority = 5
physics = N
anim = 220



[State 777, a1]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 100
ctrl = 1

[State 100, a2]
type = VelSet
trigger1 = animelem = 2
x = const(velocity.run.fwd.x)
;y = const(velocity.run.fwd.y)

[State 100, a3] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk



;[State 100, a5]
;type = AfterImage
;trigger1 = animelem = 3
;time = 4
;palcontrast=222,142,82
;trans = add
;length = 10
;palbright=42,22,2
;palmul=.73,.63,.3
;palcontrast=222,142,82
;timegap = 1
;framegap = 1

[State 100, a6]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, a7]
type = Explod
trigger1 = Time % 4
sprpriority = 7
anim = 8590
postype = P1
pos = -8, 0
random = 90,90
removeongethit = 1
ownpal = 1
bindtime= 1

[State 100, a8]
type = Explod
trigger1 = Time % 3
sprpriority = 7
anim = 8590
postype = P1
pos = -35, 10
random = 90,90
removeongethit = 1
ownpal = 1
bindtime=1
scale = 1

;[State 100, 6x]
;type = CtrlSet
;trigger1 = animelem = 2
;value = 1

[State 100, a9]
type = PlaySnd
trigger1 = Time = 1
value = 100, 3





[State 100, b3]
type = ChangeState
trigger1 = Command = "holdup"
value = 40
ctrl = 1

[State 100, b4]
type = ChangeState
trigger1 = Command = "holddown"
value = 10
ctrl = 1

[State 100, aa]
type = ChangeState
trigger1 = animelemtime(3) >= 0
trigger1 = Command = "a"
value = 230
[State 1050,ab]
type = ChangeState
trigger1 = animelemtime(3) >= 0
trigger1 = Command = "b"
value = 240
[State 100, ac]
type = ChangeState
trigger1 = animelemtime(3) >= 0
trigger1 = Command = "c"
value = 250
[State 100, ba]
type = ChangeState
trigger1 = animelemtime(3) >= 0
trigger1 = Command = "x"
value = 200
[State 100,bb]
type = ChangeState
trigger1 = animelemtime(3) >= 0
trigger1 = Command = "y"
value = 210

[State 100, 22]
type = ChangeState
trigger1 = Animtime = 0
value = 108

[Statedef 108]
type = A
movetype = A
sprpriority = 5
physics = N
anim = 220


[State 220, 2]
type = HitDef
trigger1 =  animelem = 4
attr = S, NA
animtype  = Hard
damage    = 77
priority = 4, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = S8550
sparkxy = -10,-34
hitsound   = S5,4
guardsound = S7,1
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -9,-7
guard.velocity = -10
air.velocity = -9,-4
fall.envshake.time = 7
fall.envshake.ampl = -4
envshake.time = 12
envshake.freq = 127
envshake.ampl = -6
ground.cornerpush.veloff = -25
air.cornerpush.veloff = -25
down.cornerpush.veloff = -25
guard.cornerpush.veloff = -25
airguard.cornerpush.veloff = -25
fall = 1
fall.recover = 1
fall.recovertime = 25
hitcountpersist = 1

[State 104, ground landing effectdash]
type = Explod
trigger1 = Time = 1
anim = 8000
pos = 8, 0
sprpriority = 7



[State 104, a] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 104, b]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 104, 1]
type = VelMul
trigger1 = AnimElem = 2
x = .05


[State 104, 2]
type = VelSet
trigger1 = Time = 0
y = 2

[State 104, 3]
type = PosSet
trigger1 = animelem = 2
y = 0

[State 104, 2]
type = VelSet
trigger1 = animelem = 2
y = 0

;[State 104, 4]
;type = MakeDust
;trigger1 = animelem = 2
;pos = 35,-2
;spacing = 4

;[State 104, 4]
;type = MakeDust
;trigger1 = animelem = 2
;pos = 0,-2
;spacing = 4





[State 100, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTT    FLYING MODE    TTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

;Flying Mjolnir
[Statedef 12000]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,-4
juggle = 0
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 2040
ctrl = 1
hitcountpersist = 1

[State 2000, A1]
type = VarSet
trigger1 = Time = 0
V = 8
Value = 450

[State 2000, aa1]
type = Explod
trigger1 = Pos Y >= 0
trigger1 = time = 0
sprpriority = 7
anim = 8580
pos = 0, 0
removeongethit = 1
hitcountpersist = 1

[State 2000, A2]
type = ChangeState
trigger1 = AnimTime = 0
value = 12001
;ctrl = 1
hitcountpersist = 1

[Statedef 12001]
type    = A
physics = A
movetype= I
ctrl = 0
anim = 2000
velset = 0,0
hitcountpersist = 1

;[State 2001, a1]
;type = PlaySnd
;trigger1 = time = 0
;value = 6, 3
;channel = 6
;loop = 1
;pan = 1

[State 2001, a1]
type = playsnd
trigger1 = time%14 = 0
value = 6,3
channel = 6
;loop = 1
;pan = 1

;[State 2001, a2]
;type = sndpan
;trigger1 = time = 0
;pan = 1
;channel = 6

[State 2001, B1]
type = PosSet
trigger1 = Pos Y < -270
y = -270

[State 2001, B2]
type = PosSet
trigger1 = Pos Y > -30
y = -30

[State 2001, B3]
type = VelAdd
trigger1 = command = "holddown"
y = 0.5

;[State 2001, B4]
type = VelAdd
trigger1 = command = "holdup"
y = -0.4

[State 2001, B5]
type = VelSet
trigger1 = command != "holdback"
trigger1 = command != "holdfwd"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger2 = Pos Y < -270
trigger3 = Pos Y > -30
x = 0
y = 0

[State 2001, aa]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 2001, B6]
type = ChangeAnim
trigger1 = command != "holdback"
trigger1 = command != "holdfwd"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
triggerall = anim != 2000
value = 2000
hitcountpersist = 1

[State 2001, B7]
type = ChangeAnim
trigger1 = command = "holdup"
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
triggerall = anim != 2040
value = 2040
hitcountpersist = 1

[State 2001,B8]
type = VelSet
trigger1 = command = "holdup"
y = -3.5

[State 2001, B9]
type = ChangeAnim
trigger1 = command = "holddown"
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
triggerall = anim != 2040
value = 2040
hitcountpersist = 1

[State 2001,C1]
type = VelSet
trigger1 = command = "holddown"
y = 3.5

[State 2001, C2]
type = ChangeAnim
trigger1 = command = "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
triggerall = anim != 2015
value = 2015
hitcountpersist = 1

[State 2001,C3]
type = VelSet
trigger1 = command = "holdback"
x = -3.5

[State 2001, C4]
type = ChangeAnim
trigger1 = command = "holdfwd"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
triggerall = anim != 2030
value = 2030
hitcountpersist = 1

[State 2001,C5]
type = VelSet
trigger1 = command = "holdfwd"
x = 3.5


[State 2001, C6]
type = ChangeAnim
trigger1 = command = "holdfwd" && command = "holdup"
triggerall = anim != 2030
value = 2030
hitcountpersist = 1

[State 2001, C7]
type = ChangeAnim
trigger1 = command = "holdup" && command = "holdback"
triggerall = anim != 2015
value = 2015
hitcountpersist = 1

[State 2001, C8]
type = ChangeAnim
trigger1 = command = "holdfwd" && command = "holddown"
triggerall = anim != 2030
value = 2030
hitcountpersist = 1

[State 2001, C9]
type = changeanim
trigger1 = command = "holddown" && command = "holdback"
triggerall = anim != 2015
value = 2015
hitcountpersist = 1

[State 2001, D1]
type = VelAdd
trigger1 = command = "holdback"
x =-0.4
y =-0.57

[State 2001, D2]
type = VelAdd
trigger1 = command = "holdfwd"
x = 0.5
y = -0.57

[State 2001, D3]
type = Turn
trigger1 = P2Dist X < 0

[State 2001, A3]
type = ChangeState
trigger1= command = "x"
value = 12600
hitcountpersist = 1

[State 2001, A4]
type = ChangeState
trigger1= command = "y"
value = 12610
hitcountpersist = 1

[State 2001, A5]
type = ChangeState
trigger1= command = "z"
value = 12620
hitcountpersist = 1

[State 2001, A6]
type = ChangeState
triggerall = command !="bonovox"
trigger1= command = "a"
value = 12630
hitcountpersist = 1

[State 2001, A7]
type = ChangeState
triggerall = command !="bonovox"
trigger1= command = "b"
value = 12640
hitcountpersist = 1

[State 2001, A8]
type = ChangeState
triggerall = command !="bonovox"
trigger1= command = "c"
value = 12650
hitcountpersist = 1

;[State 2001, A91]
;type = ChangeState
;triggerall = command !="bonovox"
;trigger1= command = "gungnir_a" || command = "gungnir_b" || command = "gungnir_c"
;value = 2100

[State 2001, D6]
type = ChangeState
trigger1 = Win
trigger2 = Lose
trigger3 = command = "bonovox"
trigger4 = Var(8) <= 0
value = 50
hitcountpersist = 1

[State 2001,Mjolnirst2]
type = Stopsnd
trigger1 = Var(8) <= 0
trigger2 = Pos Y >= 0
trigger3 = stateno = 50
channel = 6







;TTTTTTT  GUNGNIR DIVE TTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

[Statedef 12100]
type    = A
movetype= A
physics = N
juggle  = 6
poweradd= 220
ctrl = 0
sprpriority = 5
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 2100
ctrl = 1
hitcountpersist = 1

[State 2100,a]
type = Stopsnd
trigger1 = time = 4
channel = 6

[State 2100, a1]
type = Width
trigger1 = 1
player = -25,-25

[State 2100, a2]
type = VelSet
trigger1 = animelem = 1 
x = 0
y = 0

[State 2100,a3]
type = VelSet
trigger1 = animelem = 3 
x = 3
y = 6



[state 2100, a5]
type = VelAdd
trigger1 = animelem = 3
x = 2
y = 9

[State 2100 , a6]
type = PlaySnd
trigger1 = AnimElem = 3
value = 300,1

[State 2100 , a7]
type = PlaySnd
trigger1 = AnimElem = 1
value = 50,2
channel = 0
volume = 200

[State 2100 , a8]
type = HitDef
trigger1 = AnimElem = 3 || AnimElem = 4 || AnimElem = 5
attr = A, SA
damage    = ifelse((prevstateno = [600,650]),20,60),5
animtype = hard 
hitflag = MAF
guardflag = HA
pausetime = 4,4
sparkxy = 0,0
sparkno = S8510
guard.sparkno = S8550
hitsound   = S5,4
guardsound = S7,1
ground.type = trip
air.type = low
envshake.time = 7
envshake.ampl = 4
fall.envshake.time = 7
fall.envshake.ampl = -4
ground.slidetime = 12
ground.hittime  = 45
ground.velocity = -6,-9
air.velocity = -6,-9
fall = 1
;air.fall = 1
hitcountpersist = 1

[State 2100 , a9]
type = ChangeState
trigger1 = Pos Y >= 0
value = 12110

[Statedef 12110]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 6
hitcountpersist = 1

[State 777, ch]
type = afterimagetime
trigger1 = time = 0
value = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 2110
ctrl = 1
hitcountpersist = 1

[State 2110, a1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2110, a2]
type = hitdef
trigger1 = time = 0
priority = 7,Hit
attr = C,SA
damage = 15,5
animtype = Hard
hitflag = MAFD
guardflag = L
pausetime = 0,0
sparkno = S8510
guard.sparkno = S8550
hitsound   = S5,4
guardsound = S7,1
ground.type = Trip
ground.slidetime = 22
ground.hittime = 22
ground.velocity = 0,-8
ground.cornerpush.veloff = 0
air.type = Trip
air.velocity = 0,-8
fall = 1
fall.recover = 0
hitcountpersist = 1

[State 2110, b1] ;explod
type = Explod
trigger1 = Time = 0
anim = 8676
postype = p1
pos = 14, 5
sprpriority = -3
removetime = -2
persistent = 0
hitcountpersist = 1

[State 2110, b1] ;explod
type = Explod
trigger1 = Time = 0
anim = 8675
postype = p1
pos = 0, 0
sprpriority = 7
removetime = -2
persistent = 0
hitcountpersist = 1

[State 2110, b1] ;explod
type = Explod
trigger1 = Time = 0
anim = 2150
postype = p1
pos = 0, 0
sprpriority = 7
removetime = -2
persistent = 0
hitcountpersist = 1

[State 2110, b1] ;explod
type = Explod
trigger1 = Time = 0
anim = 2160
postype = p1
pos = 0, 0
sprpriority = 7
removetime = -2
persistent = 0
hitcountpersist = 1

[State 2110, b11] ;explod2
type = Explod
trigger1 = Time = 0
anim = 8000
postype = p1
pos = -4, 0
sprpriority = -1
removetime = -2
persistent = 0
hitcountpersist = 1

[State 2110, b2]
type = EnvShake
trigger1 = time = 0
time = 35
ampl = -6

[State 2110, b3 ]
type = PlaySnd
trigger1 = time = 0
value = 300, 5

[State 2110, b4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTT AESIR MISSILE TTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT

[Statedef 12200]
type    = A
movetype= A
physics = N
juggle  = 6
poweradd= 220
ctrl = 0
;facep2 = 1
sprpriority = 5
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 2200
ctrl = 1
hitcountpersist = 1

[State 2200,a]
type = Stopsnd
trigger1 = time = 5
channel = 6

[State 2200, a1]
type = Width
trigger1 = 1
player = -25,-25

[State 2200, a2]
type = VelSet
trigger1 = animelem = 1 
x = 0
y = 0

[State 2200,a3]
type = VelSet
trigger1 = animelem = 6 
x = 8
y = 2



[state 2200, a5]
type = VelAdd
trigger1 = animelem = 6 
x = 5
y = 8

[State 2200 , a6]
type = PlaySnd
trigger1 = AnimElem = 5
value = 300,1

[State 7777, voice]
type = PlaySnd
trigger1 = time = 0
value = 60,4
channel = 1
IgnoreHitPause = 1


[State 2200 , a8]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage    = 95, 5
animtype = hard 
hitflag = MAF
guardflag = HA
pausetime = 9,9
sparkxy = 0,0
sparkno = S8510
guard.sparkno = S8550
hitsound   = S5,4
guardsound = S7,1
ground.type = high
air.type = low
ground.slidetime = 12
ground.hittime = 35
ground.velocity = -12
air.velocity = -8, 4
air.hittime = 35
envshake.time = 9
envshake.ampl = 5
fall.envshake.time = 7
fall.envshake.ampl = -4
;p1stateno = 12215
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
hitcountpersist = 1

[State 2200 , a8x]
type = HitDef
trigger1 = time = 0 && prevstateno = 620 || prevstateno = 640
attr = A, SA
damage    = 15, 5
animtype = hard 
hitflag = MAF
guardflag = HA
pausetime = 9,9
sparkxy = 0,0
sparkno = S8510
guard.sparkno = S8550
hitsound   = S5,4
guardsound = S7,1
ground.type = high
air.type = low
ground.slidetime = 12
ground.hittime = 35
ground.velocity = -12
air.velocity = -8, 4
air.hittime = 35
envshake.time = 9
envshake.ampl = 5
fall.envshake.time = 7
fall.envshake.ampl = -4
;p1stateno = 12215
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
hitcountpersist = 1

[State 2200 , a9]
type = ChangeState
trigger1 = movecontact
value = 12215
hitcountpersist = 1

[State 2200 , a9]
type = ChangeState
trigger1 = Pos Y >= 0
value = 12201
hitcountpersist = 1

[Statedef 12215]
type    = A
movetype= I
physics = A
ctrl = 0
sprpriority = 7
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 2215
ctrl = 1
hitcountpersist = 1

[State 777, ch]
type = afterimagetime
trigger1 = time = 0
value = 1

[State 2215, a5]
type = VelAdd
trigger1 = time = 0
x = 2
y = 11

[State 2215, a2]
type = VelSet
trigger1 = time = 0 
x = -6
y = -4

[State 2215, a3]
type = VelSet
trigger1 = time = 7 
x = -4
y = -3

[State 2215, a4]
type = VelSet
trigger1 = time = 14 
x = -2
y = -2

[State 2215, a1]
type = playsnd
trigger1 = time%14 = 0
value = 0,1
channel = 6


[Statedef 12201]
type    = S
movetype= I
physics = S
;facep2 = 1
ctrl = 0
velset = 0,0
sprpriority = 6
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 2201
ctrl = 1
hitcountpersist = 1

[State 2110, a1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2201, b1] ;explod
type = Explod
trigger1 = Time = 0
anim = 8676
postype = p1
pos = 14, 5
sprpriority = -3
removetime = -2
persistent = 0
hitcountpersist = 1

[State 2200,a3]
type = VelSet
trigger1 = animelem = 1 
x = 4

[State 2200,a3]
type = VelSet
trigger1 = animelem = 2 
x = 3

[State 2200,a3]
type = VelSet
trigger1 = animelem = 3
x = 0

[State 2201, b1] ;explod
type = Explod
trigger1 = Time = 0
anim = 8675
postype = p1
pos = 0, 0
sprpriority = 7
removetime = -2
persistent = 0
hitcountpersist = 1

[State 2201, b11] ;explod2
type = Explod
trigger1 = Time = 0
anim = 8000
postype = p1
pos = -4, 0
sprpriority = -1
removetime = -2
persistent = 0
hitcountpersist = 1

[State 2201, b2]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -6

[State 2201, b3 ]
type = PlaySnd
trigger1 = time = 0
value = 5, 5

[State 2201, b4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Flying punchs
[Statedef 12600]
type    = A
movetype= A
physics = S
juggle  = 2
poweradd= 125
ctrl = 0
facep2 = 1
sprpriority = 2
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 600
ctrl = 1
hitcountpersist = 1

[State 2001, UpBorder]
type = PosSet
trigger1 = Pos Y < -300
y = -300

[State 2001, UpBorder]
type = PosSet
trigger1 = Pos Y > -20
y = -20

[State 2600, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 500
value = 50,1
channel = 1

[State 2600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 2600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 30,2
hitflag = MAF
guardflag = HA
priority = 3
pausetime = 6,6
sparkno = Sifelse(random>500,8520,8521) 
guard.sparkno = S8550
sparkxy = -10,-90
hitsound   = S5,2
guardsound = S7,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -4
ground.cornerpush.veloff = -8
air.velocity = 0,-8
air.hittime  = 20
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
airguard.velocity = -3,-3
hitcountpersist = 1

[State 2600, change]
type = ChangeState
trigger1 = AnimTime = 0
value = 12001
ctrl = 1
hitcountpersist = 1

[State 2001,Mjolnirst2]
type = Stopsnd
trigger1 = time = 0
channel = 6

[Statedef 12610]
type    = A
movetype= A
physics = S
juggle  = 3
poweradd= 180
ctrl = 0
sprpriority = 2
facep2 = 1
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 610
ctrl = 1
hitcountpersist = 1

[State 2610, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 500
value = 50,5
channel = 1

[State 2610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 2610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = Medium
damage = ifelse(prevstateno=600,35,45),2
hitflag = MAF
guardflag = HA
priority = 4
pausetime = 8,8
sparkno = Sifelse(random>500,8500,8501)
guard.sparkno = S8550
sparkxy = -8,-86
hitsound   = S5,3
guardsound = S7,1
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = 0,-8
air.hittime  = 25
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -8
guard.cornerpush.veloff = -8
airguard.velocity = -3,-3
hitcountpersist = 1


[State 2610, UpBorder]
type = PosSet
trigger1 = Pos Y < -300
y = -300

[State 2610, UpBorder]
type = PosSet
trigger1 = Pos Y > -20
y = -20

[State 2610, change]
type = ChangeState
trigger1 = AnimTime = 0
value = 12001
ctrl = 1
hitcountpersist = 1

[State 2001,Mjolnirst2]
type = Stopsnd
trigger1 = time = 0
channel = 6

[Statedef 12620]
type    = A
movetype= A
physics = S
juggle  = 4
poweradd= 170
ctrl = 0
facep2 = 1
sprpriority = 2
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 620
ctrl = 1
hitcountpersist = 1

[State 2620, voz]
type = PlaySnd
trigger1 = AnimElem = 1
value = 50,ifelse(random<700,2,5)
channel = 1

[State 2620, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 2620, Mjolnir]
type = PlaySnd
trigger1 = animelem = 6
value = 6, 4
channel = -1

[State 2620, 3]
type = HitDef
trigger1=AnimElem=4||AnimElem=7||AnimElem=10||AnimElem=13
attr = A, NA
damage = 27,2
guardflag = HA
hitflag = MAF
priority = 4
pausetime = 4,6
sparkno = Sifelse(random>500,8500,8501)
guard.sparkno = S8550
sparkxy = 0,-8
hitsound   = S5,4
guardsound = S7,1
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 8
ground.velocity = -5
air.type = low
air.velocity = -1,1
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
down.cornerpush.veloff = -6
guard.cornerpush.veloff = -6
airguard.cornerpush.veloff = -6
air.hittime  = 10
hitcountpersist = 1

[State 2620, 3x]
type = HitDef
trigger1=AnimElem=5||AnimElem=8||AnimElem=11||AnimElem=14
damage = 27,2
guardflag = HA
hitflag = MAF
priority = 4
pausetime = 4,6
sparkno = Sifelse(random>500,8500,8501)
guard.sparkno = S8550
sparkxy = -12,-56
hitsound   = S5,3
guardsound = S7,1
animtype = Med
air.type = high
ground.type = High
ground.slidetime = 17
ground.hittime  = 8
ground.velocity = -5
air.velocity = -1,1
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
down.cornerpush.veloff = -6
guard.cornerpush.veloff = -6
airguard.cornerpush.veloff = -6
air.hittime  = 10
hitcountpersist = 1

[State 2001, UpBorder]
type = PosSet
trigger1 = Pos Y < -300
y = -300

[State 2001, UpBorder]
type = PosSet
trigger1 = Pos Y > -20
y = -20

[State 2620, change]
type = ChangeState
trigger1 = AnimTime = 0
value = 12001
ctrl = 1
hitcountpersist = 1

[State 2001,Mjolnirst2]
type = Stopsnd
trigger1 = time = 0
channel = 6

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;FlyingKicks
[Statedef 12630]
type    = A
movetype= A
physics = S
juggle  = 2
poweradd= 125
ctrl = 0
sprpriority = 2
facep2 = 1
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 630
ctrl = 1
hitcountpersist = 1

[State 2630, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 500
value = 50,1
channel = 1

[State 2630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 2630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = light
damage = 30,2
hitflag = MAF
guardflag = HA
priority = 3
pausetime = 6,6
sparkno = Sifelse(random>500,8520,8521) 
guard.sparkno = S8550
sparkxy = -5,-35
hitsound   = S5,2
guardsound = S7,1
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -6
ground.cornerpush.veloff = -8
air.type = low
air.velocity = 0,-8
air.hittime  = 20
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
hitcountpersist = 1

[State 2001, UpBorder]
type = PosSet
trigger1 = Pos Y < -300
y = -300

[State 2001, UpBorder]
type = PosSet
trigger1 = Pos Y > -20
y = -20

[State 2001,Mjolnirst2]
type = Stopsnd
trigger1 = time = 0
channel = 6

[State 2630, change]
type = ChangeState
trigger1 = AnimTime = 0
value = 12001
ctrl = 1
hitcountpersist = 1

[Statedef 12640]
type    = A
movetype= A
physics = S
juggle  = 3
poweradd= 150
ctrl = 0
sprpriority = 2
facep2 = 1
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 640
ctrl = 1
hitcountpersist = 1

[State 2640, voz]
type = PlaySnd
trigger1 = AnimElem = 1&& random <= 500
value = 50,5
channel = 1

[State 2640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 2640, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = ifelse(prevstateno=630,35,50),2
hitflag = MAF
guardflag = HA
priority = 4
pausetime = 8,8
sparkno = Sifelse(random>500,8500,8501)
guard.sparkno = S8550
sparkxy = -10,-40
hitsound   = S5,3
guardsound = S7,1
animtype = medium
ground.type = High
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -6,-4
ground.cornerpush.veloff = -8
air.velocity = 0,-8
air.hittime  = 20
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
hitcountpersist = 1

[State 2001, UpBorder]
type = PosSet
trigger1 = Pos Y < -300
y = -300

[State 2001, UpBorder]
type = PosSet
trigger1 = Pos Y > -20
y = -20

[State 2001,Mjolnirst2]
type = Stopsnd
trigger1 = time = 0
channel = 6

[State 2640, change]
type = ChangeState
trigger1 = AnimTime = 0
value = 12001
ctrl = 1
hitcountpersist = 1

[Statedef 12650]
type    = A
movetype= A
physics = S
juggle  = 4
poweradd= 170
ctrl = 0
sprpriority = 2
facep2 = 1
hitcountpersist = 1

[State 777, ch]
type = ChangeAnim
trigger1 = prevstateno != 9000
trigger1 = time = 0
value = 650
ctrl = 1
hitcountpersist = 1

[State 2650, voz]
type = PlaySnd
trigger1 = AnimElem = 1
value = 50,ifelse(random<700,2,5)
channel = 1

[State 2650, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 2650, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = hard
damage    = ifelse(prevstateno=640,50,70),2
guardflag = MA                  
hitflag = MAF  
priority = 4
pausetime = 8,8
sparkno = -1;S8500
guard.sparkno = S8550
sparkxy = -12,-80
hitsound   = S5,4
guardsound = S7,1
fall = 0
air.fall = 1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
guard.hittime = 20
ground.velocity = -8
air.type = low
air.velocity = -12,6
air.hittime  = 8
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
hitcountpersist = 1

[State 2001, UpBorder]
type = PosSet
trigger1 = Pos Y < -300
y = -300

[State 2001, UpBorder]
type = PosSet
trigger1 = Pos Y > -20
y = -20

[State 2001,Mjolnirst2]
type = Stopsnd
trigger1 = time = 0
channel = 6

[State 2650, change]
type = ChangeState
trigger1 = AnimTime = 0
value = 12001
ctrl = 1
hitcountpersist = 1




;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; Super Armor
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
[Statedef 9000]
type = U
movetype = H 
physics = U
hitcountpersist = 1

[State 9000, PalFX]
type = PalFX
trigger1 = time = 0
time = 2
add = 164,11,0
sinadd = 64,32,25,10
color = 0
ignorehitpause = 1

[State 9000, a1]
type = PalFX
triggerall = roundstate = 2
trigger1 = time = 2
time = 150
add = 0,0,20
sinadd = 64,32,5,30

[State 9000, a1]
type = PlaySnd
trigger1 = time = 0
value = 7,4
channel = 14

[State 9000, PosFreeze]
type = PosFreeze
trigger1 = Alive
trigger1 = 1
value = 1

[State 9000, CtrlSet]
type = CtrlSet
triggerall = Time < floor(gethitvar(hittime) * 0.8)
trigger1 = var(15) <= 106
value = 1

[State 9000, ChangeAnim]
type = ChangeAnim
trigger1 = Time < floor(gethitvar(hittime) * 0.8)
value = Anim
elem = AnimElemNo(3)
hitcountpersist = 1

[State 9000, End]
type = ChangeState
trigger1 = Alive
trigger1 = Time >= floor(gethitvar(hittime) * 0.8)
value = var(15)

[State 9000, VelSet]
type = VelSet
trigger1 = !Alive
x = gethitvar(xvel)
y = gethitvar(yvel)

[State 9000, End]
type = ChangeState
trigger1 = !Alive
value = 5050

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT





;Dizzy


















;TTTTTTTTTTTTTTTTTTTTTTT  COUNTER TTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
[Statedef 6000]
type    = S
movetype= A
physics = S
velset = 0,0
Anim = 6000
sprpriority = 4
hitcountpersist = 1

[State 6000, a1]
type = Explod 
trigger1 = time = 0
sprpriority = 7
anim = 8580
pos = 0, -10
removeongethit = 1
scale = .846,.846
bindtime = 1
supermovetime = -1
pausemovetime = -1
hitcountpersist = 1

[State 6000, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 6000, 3]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
darken = 0
anim = S6150
sound = S7, 0
pos = 45, -180
poweradd = -1000
bindtime = -1
sprpriority = 6
hitcountpersist = 1

[State 6000, a1]
type = PlaySnd
trigger1 = time = 0
value = 7,1
volume = 200

[State 6000, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1320
ctrl = 0
hitcountpersist = 1


;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
[Statedef 6100]
type    = S
movetype= A
physics = S
velset = 0,0
Anim = 6100
sprpriority = 4
hitcountpersist = 1

[State 6100, a1]
type = Explod 
trigger1 = time = 0
sprpriority = 7
anim = 8580
pos = 0, -10
removeongethit = 1
scale = .846,.846
bindtime = 1
supermovetime = -1
pausemovetime = -1
hitcountpersist = 1

[State 6100, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 6100, 3]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
darken = 0
anim = S6150
sound = S7, 0
pos = 45, -45
poweradd = -1000
bindtime = -1
sprpriority = 6
hitcountpersist = 1

[State 6000, a1]
type = PlaySnd
trigger1 = time = 0
value = 7,1
volume = 200

[State 6000, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1320
ctrl = 0
hitcountpersist = 1

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Guard push
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
[Statedef 6300]
type    = S
movetype= I
physics = N
poweradd= 0
velset = 10,0
ctrl = 0
anim = 6300
sprpriority = 2
hitcountpersist = 1


[State 6300, a1]
type = VelMul
trigger1 = 1
x = 0.75

[State 6300, a2]
type = VelSet
trigger1 = Time = 10
x = 0

[State 6300, a3]
type = Width
trigger1 = 1
value = 10,0

[State 6300, a4]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 6300, a5]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "GuardPush"
postype = P1
pos = -50,0
stateno = 6350
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 6300, a6]
type = Explod
trigger1 = Time = 0
anim = 6355
postype = p1
pos = 73,-50
ownpal = 1
vel = 2,0
ignorehitpause = 1
sprpriority = 7
hitcountpersist = 1


[State 6300, a7]
type = PlaySnd
trigger1 = Time = 0
value = 7000,1
volume = 200
channel = 1

[State 6300, a8]
type = PlaySnd
trigger1 = Time = 0
value = 50,0
channel = 0

[State 6300, a9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
hitcountpersist = 1

[Statedef 6310];--------------crouch
type    = C
movetype= I
physics = N
poweradd= 0
velset = 10,0
ctrl = 0
anim = 6310
sprpriority = 2
hitcountpersist = 1

[State 6310, a1]
type = VelMul
trigger1 = 1
x = 0.75

[State 6310, a2]
type = VelSet
trigger1 = Time = 10
x = 0

[State 6310, a3]
type = Width
trigger1 = 1
value = 10,0

[State 6310, a4]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 6310, a5]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "GuardPush"
postype = P1
pos = -50,0
stateno = 6350
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 6310, a6]
type = Explod
trigger1 = Time = 0
anim = 6355
postype = p1
pos = 73,-45
ownpal = 1
vel = 2,0
ignorehitpause = 1
sprpriority = 7
hitcountpersist = 1

[State 6310, a7]
type = PlaySnd
trigger1 = Time = 0
value = 7,1
volume = 200
channel = 1

[State 6310, a8]
type = PlaySnd
trigger1 = Time = 0
value = 50,0
channel = 0

[State 6310, a9]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
hitcountpersist = 1


[Statedef 6320];------------air
type    = S
movetype= I
physics = N
poweradd= 0
velset = 10,0
ctrl = 0
anim = 6320
sprpriority = 2
hitcountpersist = 1

[State 6320, a1]
type = VelMul
trigger1 = 1
x = 0.75

[State 6320, a2]
type = VelSet
trigger1 = Time = 10
x = 0

[State 6320, a3]
type = Width
trigger1 = 1
value = 10,0

[State 6320, a4]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 6320, a5]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "GuardPush"
postype = P1
pos = -50,0
stateno = 6350
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 6320, a6]
type = Explod
trigger1 = Time = 0
anim = 6355
postype = p1
pos = 73,-55
ownpal = 1
vel = 2,0
ignorehitpause = 1
sprpriority = 7
hitcountpersist = 1

[State 6320, a7]
type = PlaySnd
trigger1 = Time = 0
value = 7,1
volume = 200
channel = 1

[State 6320, a8]
type = PlaySnd
trigger1 = Time = 0
value = 50,0
channel = 0

[State 6320, a9]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1
hitcountpersist = 1


[Statedef 6350];guard push helper
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
anim = 6350
sprpriority = -4
hitcountpersist = 1

[State 6350, a1]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 6350, a2]
type = VelSet
trigger1 = Time = [0,10]
x = 30

[State 6350, a3]
type = VelSet
trigger1 = Time = [11,13]
x = 20

[State 6350, a4]
type = VelSet
trigger1 = Time >= 14
x = 10

[State 6350, a5]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 6350, a6]
type = DestroySelf
trigger1 = Time >= 18


;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;Recovery Roll
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
[Statedef 6500]
type = L
movetype = I
physics = N
anim = 6500
velset = 0,0
ctrl = 0
poweradd = 0
juggle = 0
facep2 = 1
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 0

[State 6500, A1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 6500, A2]
type = PlayerPush
trigger1 = 1
value = 0

[State 6500, A3]
type = PosSet
trigger1 = (!Time)
y = 0

[State 6500, A4]
type = VelSet
trigger1 = (!Time)
x = 5.5
y = 0

[State 6500, A5]
type = ChangeState
trigger1 = ((Time > 25) && (Command != "holdfwd")) || ((Time > 35) && (Command = "holdfwd"))
value = 5120

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; finish screen
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
[Statedef 8740]
type = S
movetype = I
physics = N
anim = 8787
sprpriority = -7



[State 0, PalFX]
type = AllPalFX
trigger1 = time = 20
time = 50
add = 0,0,0
mul = 256,256,256
sinadd = 256,256,256,100
invertall = 0
color = 256
;ignorehitpause =
;persistent =


[State 8740, a0]
type = EnvShake
trigger1 = time =0
time = 15
freq = 80
ampl = -7

[state 8740, a1]
type = assertspecial
trigger1 = 1
flag = NoBarDisplay
flag2 = noshadow
;flag3 = nokoslow






[State 8740, a6]
type = destroyself
trigger1 = time = 300

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; WINKO screen
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
[Statedef 8787]
type = S
movetype = I
physics = N
anim = 8787
sprpriority = -7
hitcountpersist = 1

;[State 0, PalFXWiz] ;red
;type = PalFX
;trigger1 =1
;time = 10
;add = 144,-81,-122
;mul = 205,369,471
;sinadd = 0,0,0,1
;invertall = 0
;color = 0
;ignorehitpause = 0
;persistent = 1

[State 8787, PalFXWiz] ;gold
type = PalFX
trigger1 =1
time = 10
add = 255,255,-118
mul = 318,184,512
sinadd = 0,0,0,0
invertall = 0
color = 0
;ignorehitpause = 0
;persistent = 1

;[State 0, PalFXWiz] ;blue
;type = PalFX
;trigger1 =1
;time = 10
;add = -40,62,103
;mul = 297,200,292
;sinadd = 0,0,0,1
;invertall = 0
;color = 40
;ignorehitpause = 0
;persistent = 1

[state 8787, a1]
type = assertspecial
trigger1 = 1
flag = NoBarDisplay
flag2 = noshadow
;flag3 = nokoslow

[State 8787, a2]
type = modifyexplod
trigger1 = 1
ID = 8915
scale= 2-(.05*time),2-(.05*time);2-(.04*time),2-(.04*time)

[State 8787, a3] 
type = Explod
trigger1 = time = 0
anim = 8915;8789
id = 8915
pos = 160,125
postype = back
;facing = 1 
bindtime = -1
supermovetime = -1
sprpriority = -6
removetime = 40
scale = 1,1
removeongethit = 1
hitcountpersist = 1


[State 8787, a4] 
type = Explod
trigger1 = time = 0 
anim = 87897
id = 8789
pos = 0,0
postype = back
;facing = 1 
bindtime = -1
supermovetime = -1
sprpriority = -7
;removetime = -2
scale = 1,1
removeongethit = 1
hitcountpersist = 1

[State 8787, a6]
type = destroyself
trigger1 = time = 300

;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; Hit Wall gethits
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
[Statedef 9020]
type    = A
movetype= H
physics = N

[State 9020, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 9020, 1]
type = VelSet
trigger1 = Time = 0
x = Vel X / 2 
y = Vel Y / 2  

[State 9020, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 9020, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 9020, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 9020, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 9020
hitcountpersist = 1

[State 9020, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 5031
hitcountpersist = 1

;--------------------------------------------------------
; Special Fall State (by SMI)
[Statedef 5031]
type    = A
movetype= H
physics = N
ctrl = 0
velset = .3, Vel Y -.1 

[State 5031, 1]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5031, 2]
type = ChangeAnim 
trigger1 = Time = 0
trigger1 = HitFall
value = 5050
hitcountpersist = 1

[State 5031, 3]
type = SelfState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    
trigger2 = Pos Y >= 10  
value = 5040 
ctrl = 0

[State 5031, 4]
type = SelfState
triggerall = HitFall

trigger1 = Vel Y > 0    
trigger1 = Pos Y >= 10  
value = 5100 
ctrl = 0
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;END Hit Wall codes
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
























;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;DIZZY
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT



;Dizzy
[Statedef 5300]
type    = A
movetype= H
physics = N

[State 5300, 1]
type = Varset
trigger1 = time = 0
var(32) = 0

[State 5300, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 5301

[State 5300, 3]
type = ForceFeedback
trigger1 = time = 0
time = 12
waveform = sinesquare
ampl = 140

[State 5300, 4]
type = Nothitby
trigger1 = 1
value = SCA

;-----------------------------------------------------------------------------------
[Statedef 5301]
type    = A
movetype= H
physics = N
anim = 5070
hitcountpersist = 1

[State 5301]
Type = VarRandom
Trigger1 = PrevStateNo != 5042
V = 35
Range = 0, 3




[State 5301, Dizzy Sound]
type = PlaySnd
trigger1 = Time = 0
value = 51, 99
channel = 2
loop = 1

[State 5301, 1]
type = Veladd
trigger1 = Time = 0
trigger1 = vel y = 0
y = -7

[State 5301, 1]
type = Velmul
trigger1 = vel x < -5
x = .140

[State 5301, 2]
type = Gravity
trigger1 = 1

[State 5301, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5302

[State 5301, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 5301, 5]
type = pause
trigger1 = timemod = 2,0
trigger1 = time <= 10
time = 1

;------------------------------------
[Statedef 5302]
type    = L
movetype= H
physics = N

[State 5302, 1.1]
type = Velset
trigger1 = time = 0
y = -5.5

[State 5302, 1.2]
type = Velmul
trigger1 = timemod = 2,3
trigger1 = time > 3
x = .98

[State 5302, 2.1]
type = Changeanim
trigger1 = time < 3
value = 5160
hitcountpersist = 1

[State 5302, 3.1]
type = posset
trigger1 = time = 0
y = 20

[State 5302, 5]
type = GameMakeAnim
trigger1 = Time = 0
value = 60
pos = 0, -20
under = 1
hitcountpersist = 1

[State 5302, 6]
type = posfreeze
trigger1 = time < 3

[State 5302, 7]
type = Gravity
trigger1 = time > 3

[State 5302, 8]
type = ChangeState
trigger1 = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5303

;------------------------------------------------------------------------------
[Statedef 5303]
type    = L
movetype= H
physics = N
velset = 0,0
anim = 5110
hitcountpersist = 1

[State 5303, 1]
type = posset
trigger1 = time = 0
y = 0

[State 5303, 3]
type = GameMakeAnim
trigger1 = Time = 0
value = 60
pos = 0, 0
under = 1

[State 5303, 4]
type = ChangeState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 5303, 5]
type = ChangeState
triggerall = alive
trigger1 = Time = 25
value = 5304

[State 5303, 6]
type = Nothitby
trigger1 = 1
value = SCA

;-----------------------------------------------------------------------------------
[Statedef 5304]
type    = L
movetype= I
physics = N
anim = 5120
velset = 0,0
hitcountpersist = 1

[State 5304, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5304, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 5305
ctrl = 0


;------------------------------------------------------------------------------------
[Statedef 5305]
type    = S
physics = S
anim = 5300
ctrl = 0
hitcountpersist = 1

[State 5305, 1]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = Time >= 30 && Var(31) >= 5
value = 0
ctrl = 1


[State 5301, Dizzy]
type = Explod
trigger1 = Time = 0
Anim = 2424
pos = const(size.head.pos.x), -80
postype = p1
sprpriority = 2
scale = 1,1
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 4070
removetime = -1
hitcountpersist = 1

[State 5301, Dizzy]
type = Explod
trigger1 = Time = 0
Anim = 2424
pos = const(size.head.pos.x), -80
postype = p1
sprpriority = 2
scale = 1,1
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 4070
removetime = -1
hitcountpersist = 1

[State 5301, Dizzy]
type = Explod
trigger1 = Time = 0
Anim = 2424
pos = const(size.head.pos.x), -80
postype = p1
sprpriority = 2
scale = 1,1
ownpal = 1
bindtime = -1
removeongethit = 1
ID = 4070
removetime = -1
hitcountpersist = 1

[State 5305, 2]
type = Varset
trigger1 = Time = 0
var(31) = 0

[State 5305, 3]
type = Varadd
Trigger1 =  Command = "a" || Command = "b" || Command = "c" || Command = "x" || Command = "y" || Command = "z"
var(31) = 1


;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
; AI activation 1 - helper 
;based FlowaGirl archives
;TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT
[Statedef 9741]
type = S
movetype =  I
physics = N
anim = 9741
ctrl=0
hitcountpersist = 1

[State 9741, a1]
type = ParentVarSet
triggerall = (Parent, Var(59) != 1)
trigger1 = ((Parent, Command = "x") && (Command != "x")) || ((Parent, Command = "y") && (Command != "y")) || ((Parent, Command = "z") && (Command != "z"))
trigger2 = ((Parent, Command = "a") && (Command != "a")) || ((Parent, Command = "b") && (Command != "b")) || ((Parent, Command = "c") && (Command != "c"))
trigger3 = ((Parent, Command = "holdfwd") && (Command != "holdfwd")) || ((Parent, Command = "holdback") && (Command != "holdback")) 
trigger4 = ((Parent, Command = "holdup") && (Command != "holdup")) || ((Parent, Command = "holddown") && (Command != "holddown")) 
var(59) = 1

[State 9741, a2]
type = ParentVarSet
triggerall = (Parent, Var(59) != -1)
trigger1 = ((Parent, Command = "x") && (Command = "x")) || ((Parent, Command = "y") && (Command = "y")) || ((Parent, Command = "z") && (Command = "z"))
trigger2 = ((Parent, Command = "a") && (Command = "a")) || ((Parent, Command = "b") && (Command = "b")) || ((Parent, Command = "c") && (Command = "c"))
trigger3 = ((Parent, Command = "holdfwd") && (Command = "holdfwd")) || ((Parent, Command = "holdback") && (Command = "holdback")) 
trigger4 = ((Parent, Command = "holdup") && (Command = "holdup")) || ((Parent, Command = "holddown") && (Command = "holddown")) 
var(59) = -1

[State 9741, a3]
type = AssertSpecial
trigger1 = 1
flag = Invisible
flag2 = NoShadow

[State 9741, a4]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9741, a5]
type = PlayerPush
trigger1 = 1
value = 0

[State 9741, a6]
type = DestroySelf
trigger1 = (Parent, Var(59) = -1)










;-------------------------------

;-------------- Generated by Fighter Factory -------------

;--------------------- Variable List ----------------------

; Var(0) - StateDef -2
; Var(2) - StateDef 810
; Var(3) - StateDef 180
; Var(4) - StateDef 190
; Var(5) - StateDef 1009, 10091, 1000, 1005, 1200
; Var(8) - StateDef -2, 12000
; Var(11) - StateDef 1400, 1410, 1420
; Var(12) - StateDef 1400, 1410, 1420
; Var(15) - StateDef -2
; Var(20) - StateDef -2
; Var(21) - StateDef -2
; Var(25) - StateDef 250, 2999
; Var(28) - StateDef -2, 3091
; Var(29) - StateDef -2
; Var(30) - StateDef -2
; Var(31) - StateDef 5305
; Var(32) - StateDef -3, 5300
; Var(35) - StateDef 5301
; Var(50) - StateDef -2, 1003, 3001
; Var(56) - StateDef -2
; Var(58) - StateDef -3
; Var(59) - StateDef -2, -3

;--------------------- Float Variable List ----------------------

; fVar(5) - StateDef -3
; fVar(10) - StateDef -3



;VARIABLES
;var(0)-var(5): Temp
;var(6);combo chain 
;var(7); enemynear, head pos y
;var(8);small opponent y dist
;var(9);miss target
;var(10);target hit
;
;var(11),var(12); temp bound states
;-------
;var(13) Combo adder 
;Var(14) number and text decider 
;Var(15) is Danger
;var(16) normalize 
;----------
;var(17);combo conditions
;var(18);
;var(19)-var(21);hit type combo
;var(22)
;var(23)
;var(24)
;var(25)-var(27)
;var(28),  Drill Claw
;var(29),launcher reset
;
;
;variable below 29 will reset between rounds
;
;
;var(30); p2life /100
;var(31); p1life /100
;var(32); damage dampening
;var(33);enemy(1),life/100
; 
;var(34),max hits light atk
;var(35),max hits medium atk
;var(36);max hits hard atk
;var(37);Death Bite
;var(38);Ricochet Slash
;var(39);speed dance
;var(40);
;var(41);
;var(42)
;var(43) - var(48); run
;var(49); Kyuukouka Dance 
;var(50);- power dance
;var(51) - special to hyper states
;var(52) - damage to super armor
;var(54) - flight mode
;var(55) - Super Armor
;var(56);  sos condition
;var(57); 
;var(58); remember ai for next round
;var(59); ai activate

;---------------------------------------------------------------------------
;Float Variables

;fvar(0) - fvar(5) ; Temp

;---------------------------------------------------------------------------


[Data]
;Amount of life to start with

life = 1000
;attack power (more is stronger)

attack = 100
;defensive power (more is stronger)

defence = 100
;Percentage to increase defense everytime player is knocked down
fall.defence_up = 50
;Time which player lies down for, before getting up
liedown.time = 60
;Number of points for juggling
airjuggle = 15
;Default hit spark number for HitDefs
sparkno = 7200
;Default guard spark number
guard.sparkno = 7300
;1 to enable echo on KO
KO.echo = 0
;Volume offset (negative for softer)
volume = 255 
;Variables with this index and above will not have their values
;reset to 0 between rounds or matches. There are 60 int variables,
;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
;If omitted, then it defaults to 60 and 40 for integer and float
;variables repectively, meaning that none are persistent, i.e. all
;are reset. If you want your variables to persist between matches,
;you need to override state 5900 from common1.cns.
IntPersistIndex = 29
FloatPersistIndex = 19

[Size]
xscale = 1    ;Horizontal scaling factor.
yscale = 1          ;Vertical scaling factor.
ground.back = 20    ;Player width (back, ground)
ground.front = 30   ;Player width (front, ground)
air.back = 20  ;Player width (back, air)
air.front = 20  ;Player width (front, air)
height = 50          ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = 26,-56 ;Approximate position of head
mid.pos = 4,-38   ;Approximate position of midsection
shadowoffset = 0   ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 3    ;Walk forward
walk.back = -2.7     ;Walk backward
run.fwd  = 8,-5   ;Run forward (x, y)
run.back = -8,-4.8 ;Hop backward (x, y)
jump.neu = 0,-10    ;Neutral jumping velocity (x, y)
jump.back = -2.55    ;Jump back Speed (x, y)
jump.fwd = 3.5       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1     ;.
airjump.neu = 0,-8.1     ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 3.5         ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .44        ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Lose by Time Over

[Statedef 170]
type = S
ctrl = 0
anim = 171
velset = 0,0


[State 170]
type = null;ChangeState
trigger1 = Time = 0 && random < 400
value = 172

[State 170]
type = PosSet
trigger1 = Time = 0
y = 0


[State 170]
type = null;PlaySnd
trigger1 = Time = 7
value = 170,4



[State 170]
type = NotHitBy
trigger1 = 1
value = SCA


;---------------------------------------------------------------------------
; Lose 

[Statedef 172]
type = S
ctrl = 0
velset = 0,0
anim = 172


[State 172]
type = PosSet
trigger1 = Time = 0
y = 0

[State 172]
type = null;PlaySnd
trigger1 = Time = 0
value = 171,2


[State 172]
type = NotHitBy
trigger1 = 1
value = SCA

[State 172]
type = CtrlSet
trigger1 = Time = 120
value = 1

;--------------------------------------------------------------------------------------------------------

[Statedef 173]
type = S
ctrl = 0
velset = 0,0
anim = 9800



[State 173]
type = PosSet
trigger1 = Time = 0
y = 0


[State 173]
type = PlaySnd
trigger1 = Time = 0
value = 170,0

[State 173]
type = NotHitBy
trigger1 = 1
value = SCA

[State 173]
type = CtrlSet
trigger1 = Time = 120
value = 1


;---------------------------------------------------------------------------
; DRAWGAME (Time over)
[Statedef 175]
type = S
ctrl = 0
velset = 0,0

[State 175, 1] ; If no anim, use go to lose state.
type = ChangeState
trigger1 = Time = 0
trigger1 = !SelfAnimExist(175)
value = 170

[State 175, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 175

[State 175, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Win state decider

[Statedef 180]
type = S
velset = 0,0

[state 180] 
type = AssertSpecial 
trigger1 = Time >= 0 
flag = NoBarDisplay

[State 180, 0]
type = PosSet
trigger1 = Time = 0
y = 0


[State 180]
type = Width
trigger1 = Time = 0
value = 50,50



[State 180]
type = null;PlaySnd
trigger1 = Time = 0 && random < 500
trigger1 = MatchOver = 0
value = 181,4


[State 180]
type = null;ChangeState
trigger1 = Time = 0 
trigger1 = MatchOver = 1
value = 185

[State 180]
type = ChangeState
trigger1 = Time >= 1
trigger1 = WinTime
value = 181+random%3


[State 180]
type = ChangeState
trigger1 = Time >= 1
trigger1 = WinKO
value = 181+random%3

;---------------------------------------------------------------------------
; Win pose 1 - Time Over

[Statedef 189]
type = S
ctrl = 0
anim = 181
velset = 0,0
sprpriority = 0

[state 189] 
type = AssertSpecial 
trigger1 = Time >= 0 
flag = NoBarDisplay


[state 189] 
type = PlaySnd
trigger1 = Time = 1
value = 181,0

[State 189]
type = AssertSpecial
trigger1 = Time < 150
flag = roundnotover

;---------------------------------------------------------------------------
; Win pose 1 - Win KO

[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0
sprpriority = 0

[State 181] 
type = AssertSpecial 
trigger1 = Time >= 0 
flag = NoBarDisplay


[State 181]
type = PlaySnd
trigger1 = AnimElem = 7
value = 181,0

[State 181]
type = AssertSpecial
trigger1 = Time < 120
flag = roundnotover


;---------------------------------------------------------------------------
; Win pose 2- Win KO

[Statedef 182]
type = S
ctrl = 0
physics = N
anim = 182
sprpriority = 0
;facep2 = 1
velset = 0,0

[State 182] 
type = AssertSpecial 
trigger1 = Time >= 0 
flag = NoBarDisplay


[State 182]
type = PlaySnd
triggerall = anim = 182
trigger1 = AnimElem = 4 || AnimElem = 8
value = 182,0


[State 182]
type = Explod
triggerall = anim = 182
trigger1 = AnimElem = 4 || AnimElem = 8
anim = 6182
ontop = 1
bindtime = -1

[State 182]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 0
persistent = 0

[State 182]
type = AssertSpecial
trigger1 = Time < 120
flag = roundnotover


;---------------------------------------------------------------------------
; Win pose 3- Win KO

[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0
sprpriority = 0


[State 183] 
type = AssertSpecial 
trigger1 = Time >= 0 
flag = NoBarDisplay

[State 183]
type = PlaySnd
trigger1 = AnimElem = 4
value = 183,0

[State 183]
type = AssertSpecial
trigger1 = Time < 120
flag = roundnotover


;---------------------------------------------------------------------------
; Win pose 4- Win KO

[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0
sprpriority = 0

[State 184] 
type = AssertSpecial 
trigger1 = Time >= 0 
flag = NoBarDisplay



[State 184]
type = AssertSpecial
trigger1 = Time < 120
flag = roundnotover


;---------------------------------------------------------------------------
; Win pose 5- Win KO

[Statedef 185]
type = S
ctrl = 0
anim = 185
velset = 0,0
sprpriority = 0

[State 185] 
type = AssertSpecial 
trigger1 = Time >= 0 
flag = NoBarDisplay



[State 185]
type = PlaySnd
trigger1 = Time = 50
value = 181,0





[State 185]
type = AssertSpecial
trigger1 = Time < 120
flag = roundnotover


;---------------------------------------------------------------------------
; Win pose 6- Win KO

[Statedef 186]
type = S
ctrl = 0
anim = 186
velset = 0,0
sprpriority = 0

[State 186] 
type = AssertSpecial 
trigger1 = Time >= 0 
flag = NoBarDisplay


[State 186]
type = PlaySnd
trigger1 = Time = 7
value = 182,random%3


[State 186]
type = AssertSpecial
trigger1 = Time < 120
flag = roundnotover


;---------------------------------------------------------------------------
; Win pose 7- Win KO

[Statedef 187]
type = S
ctrl = 0
anim = 187
velset = 0,0
sprpriority = 0

[State 187] 
type = AssertSpecial 
trigger1 = Time >= 0 
flag = NoBarDisplay


[State 187]
type = Helper
trigger1 = Time = 17
stateno = 6187
id = 6187
ownpal = 1
postype = Front

[State 187]
type = ChangeAnim
trigger1 = AnimElem = 8
value = anim
elem = 4
persistent = 0


[State 187]
type = ChangeAnim
trigger1 = AnimElem = 8
trigger1 = NumHelper(6187)
trigger1 = Helper(6187),ParentDist X > 30
value = anim
elem = 4



[State 187]
type = AssertSpecial
trigger1 = Time < 300
flag = roundnotover


;---------------------------------------------------------------------------
; Win pose 8 Win KO

[Statedef 188]
type = S
ctrl = 0
anim = 188
velset = 0,0
sprpriority = 0

[State 188]
type = AssertSpecial 
trigger1 = Time >= 0 
flag = NoBarDisplay




[State 188]
type = PosAdd
trigger1 = AnimElemNo(0) = [6,7]
trigger1 = ScreenPos Y > 130
y = -9


[State 188]
type = ChangeAnim
trigger1 = ScreenPos Y < 130
value = anim
elem = 8
persistent = 0


[State 188]
type = PlaySnd
trigger1 = AnimElem = 9
value = 192,0


[State 188]
type = PosAdd
trigger1 = AnimElem = 9
y = 30
persistent = 0

[State 188]
type = AssertSpecial
trigger1 = Time < 240
flag = roundnotover


;---------------------------------------------------------------------------
; Introduction

[Statedef 191]
type = S
ctrl = 0
physics = N
anim = 9800
velset = 0,0
sprpriority = 0



[State 191, 1] ;Freeze animation until PreIntro is over
type = null;ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro



[State 191, 3] ;Change to
type = ChangeState
trigger1 = Time = 1; && random < 400
value = 192+random%2

[State 191, 3] ;Change to
type = null;ChangeState
trigger1 = Time = 1
value = 7196+random%3


;---------------------------------------------------------------------------
; Introduction

[Statedef 192]
type = S
ctrl = 0
physics = N
anim = 41
velset = 0,0
sprpriority = 0


[State 192]
type = null;AssertSpecial
trigger1 = 1
flag = noshadow


[State 192]
type = VarSet
trigger1 = Time = 0
fvar(0) = Pos X


[State 192]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0


[State 192]
type = PosSet
trigger1 = Time = 0
x = -170*facing
y = -70


[State 192]
type = VelSet
trigger1 = Time = 0
x = 3
y = -7


[State 192]
type = VelAdd
trigger1 = anim = 41
y = 0.4


[State 192]
type = VelAdd
trigger1 = Vel X 
trigger1 = BackEdgeDist > 50
x = -0.1

[State 192]
type = VelSet
trigger1 = Vel X 
trigger1 = BackEdgeDist > 65
x = 0.1


[State 192]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 192
persistent = 0

[State 192]
type = VelSet
trigger1 = Anim = 192
y = 0
x = 0
persistent = 0

[State 192]
type = PosSet
trigger1 = Anim = 192
y = 0
x = fvar(0)
persistent = 0


[State 192]
type = PlaySnd
trigger1 = AnimElem = 1 && Anim = 192
value = 52,0

[State 192]
type = PlaySnd
trigger1 = AnimElem = 1 && Anim = 192
value = 192,0

[State 192]
type = PlaySnd
trigger1 = AnimElem = 5 && Anim = 192
value = 192,1


[State 192] ;Freeze animation until PreIntro is over
type = null;ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 192] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro



[State 192]
type = ChangeState
trigger1 = AnimTime = 0 && Anim = 192
value = 199
ctrl = 0


;---------------------------------------------------------------------------
; Introduction 2

[Statedef 193]
type = S
ctrl = 0
physics = N
anim = 193
velset = 0,0
sprpriority = 0


[State 193]
type = null;AssertSpecial
trigger1 = 1
flag = noshadow


[State 193]
type = null;VarSet
trigger1 = Time = 0
fvar(0) = Pos X


[State 193]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0


[State 193]
type = null;PosSet
trigger1 = Time = 0
x = Pos X + 20*facing



[State 193] ;Freeze animation until PreIntro is over
type = null;ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 193] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro


[State 192]
type = PlaySnd
trigger1 = AnimElem = 4
value = 192,1

[State 192]
type = PlaySnd
trigger1 = AnimElem = 8
value = 192,0

[State 193]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 0





;---------------------------------------------------------------------------
; Introduction 3

[Statedef 194]
type = S
ctrl = 0
physics = N
anim = 194
velset = 0,0
sprpriority = 0


[State 194]
type = Null;AssertSpecial
trigger1 = 1
flag = nobardisplay


[State 194]
type = screenbound
trigger1 = Time >= 0
value = 0
movecamera = 0, 0


[State 194]
type = PlaySnd
trigger1 = AnimElem = 3
value = 194,0




[State 194] ;Freeze animation until PreIntro is over
type = null;ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 194] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro




[State 194]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 0


;---------------------------------------------------------------------------
; Introduction 2

[Statedef 7196]
type = S
ctrl = 0
physics = N
anim = 7196
velset = -3,0
sprpriority = 3


[State 7196]
type = VarSet
trigger1 = Time = 0
fvar(0) = Pos X


[State 7196]
type = PosSet
trigger1 = Time = 0
x = -2*Pos X
y = -100

[State 7196]
type = screenbound
trigger1 = Time >= 0
value = 0
movecamera = 0, 0


[State 7196]
type = PlayerPush
trigger1 = 1
value = 0



[State 7196]
type = VelSet
trigger1 = Time = 0
x = -3
y = 3

[State 7196]
type = VelSet
trigger1 = FrontEdgeDist < 70
x = 0


[State 7196]
type = PosSet
trigger1 = Vel X = 0
x = fvar(0)
persistent = 0



[State 7196] ;Freeze animation until PreIntro is over
type = null;ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 7196] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro


[State 7196]
type = ChangeAnim
trigger1 = Vel X != 0
trigger1 = AnimElem = 9
value = 196
elem = 4


[State 7196]
type = PlaySnd
trigger1 = Time = 4
value = 3001,0



[State 7196]
type = null;ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 0


[State 7196]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 198
ctrl = 0

;---------------------------------------------------------------------------
; Introduction 

[Statedef 7197]
type = S
ctrl = 0
physics = N
anim = 7198
velset = -3,0
sprpriority = 3


[State 7197]
type = VarSet
trigger1 = Time = 0
fvar(0) = Pos X


[State 7197]
type = VarSet
trigger1 = Time = 0
var(0) = 0

[State 7197]
type = PosSet
trigger1 = Time = 0
x = -2*Pos X
y = -100

[State 7197]
type = Helper
trigger1 = Time = 0
stateno = 6197
ownpal = 1

[State 7197]
type = screenbound
trigger1 = Time >= 0
value = 0
movecamera = 0, 0


[State 7197]
type = PlayerPush
trigger1 = 1
value = 0



[State 7197]
type = VelSet
trigger1 = Time = 0
x = -3


[State 7197]
type = Turn
trigger1 = Time = 0


[State 7197]
type = VelSet
trigger1 = FrontEdgeDist < 70
x = 0


[State 7197]
type = PosSet
trigger1 = Vel X = 0
x = fvar(0)
persistent = 0



[State 7197] ;Freeze animation until PreIntro is over
type = null;ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 7197] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro



[State 7197]
type = null;ChangeAnim
trigger1 = Vel X = 0
value = 7198
elem = 7
persistent = 0

[State 7197]
type = PlaySnd
trigger1 = Vel X = 0
value = 1550,1
persistent = 0


[State 7197]
type = VelAdd
trigger1 = Vel X = 0 && Pos Y < 0
y = 0.4

[State 7197]
type = null;PlaySnd
trigger1 = Time = 4
value = 3001,0


[State 7197]
type = VarSet
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
var(0) = 1


[State 7197]
type = PosSet
trigger1 = var(0)
y = 0


[State 7197]
type = VelSet
trigger1 = var(0)
y = 0



[State 7197]
type = ChangeAnim
trigger1 = var(0)
value = 7198
elem = 2
persistent = 0


[State 7197]
type = PlaySnd
trigger1 = var(0)
value = 197,0


[State 7197]
type = Turn
trigger1 = var(0)
persistent = 0


[State 7197]
type = VelSet
trigger1 = var(0)
y = -4
persistent = 0



[State 7197]
type = VarSet
trigger1 = var(0)
var(0) = 0


[State 7197]
type = Explod
trigger1 = AnimElem = 5, = 30
anim = 21541
ontop = 1


[State 7197]
type = PlaySnd
trigger1 = AnimElem = 5, = 30
value = 1550,4


[State 7197]
type = AssertSpecial
trigger1 = AnimElem = 5, >= 30
flag = invisible



[State 7197]
type = ChangeState
trigger1 = AnimElem = 5, >= 37
value = 199
ctrl = 0


;---------------------------------------------------------------------------
; Introduction 

[Statedef 7198]
type = S
ctrl = 0
physics = N
anim = 9800
velset = 0,0
sprpriority = 3

[State 7198]
type = screenbound
trigger1 = Time >= 0
value = 0
movecamera = 0, 0


[State 7198]
type = PlayerPush
trigger1 = 1
value = 0

[State 7198]
type = Explod
trigger1 = Time = 1
anim = 6311
ontop = 1
ownpal = 1
pos = 0,-floor(Pos Y)

[State 7198]
type = Explod
trigger1 = Time = 1
anim = 6311
facing = -1
ontop = 1
ownpal = 1
pos = 0,-floor(Pos Y)

[State 7198]
type = Helper
trigger1 = Time = 2
stateno = 6199
ownpal = 1




[State 7198]
type = PosSet
trigger1 = Time = 4
y = -240


[State 7198]
type = ChangeAnim
trigger1 = Time = 4
value = 7199


[State 7198] ;Freeze animation until PreIntro is over
type = null;ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 7198] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro


[State 7198]
type = PlaySnd
trigger1 = Time = 8
value = 198,0
persistent = 0


[State 7198]
type = VelSet
trigger1 = Pos Y < 0
y = 0.5


[State 7198]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 198
ctrl = 0

;---------------------------------------------------------------------------
; Jump Land
[Statedef 198]
type    = S
physics = S
ctrl = 0
anim = 198
facep2 = 1
;movehitpersist = 1


[State 198]
type = null;ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 47, ifelse((vel x)>0, 48, 49))

[State 198]
type = VelSet
trigger1 = Time = 0
y = 0

[State 198]
type = PosSet
trigger1 = Time = 0
y = 0



;This controller plays a sound everytime  lands from a jump
[State 198, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 52,1

[State 198]
type = Explod
trigger1 = Time = 1
anim = 7052
sprpriority = -2
pos = 0,0

[State 198]
type = null;EnvShake
trigger1 = Time = 1
time = 8


[State 198]
type = null;CtrlSet
trigger1 = Time = 2
value = 1


[State 198]
type = ChangeState
trigger1 = AnimTime = 0
value = 199
ctrl = 0

;----------------------------------------------- 
[Statedef 199]; Move around before match 
type = S 
physics =S 
sprpriority = 0 
anim = 0
velset = 0,0



[State 199]
type = OffSet
trigger1 = Anim = [20,21]
y = -5

[State 199]
type = PosSet 
trigger1 = 1
y = 0 

[State 199]
type = VelSet 
trigger1 = Time = 0 
y = 0 


[State 199]
type = VelSet 
trigger1 = command = "holdfwd" 
x = 2.4 

[State 199]
type = VelSet 
trigger1 = command = "holdback" 
x = -2.0 

[State 199]
type = ChangeAnim 
trigger1 = command = "holdfwd" 
trigger1 = Anim != 20
value = 20

[State 199]
type = ChangeAnim 
trigger1 = command = "holdback" 
trigger1 = Anim != 21
value = 21

[State 199]
type = ChangeAnim 
trigger1 = command != "holdback" 
trigger1 = command != "holdfwd" 
trigger1 = Anim != 0 
value = 0

[State 199] 
type = VelSet 
trigger1 = command != "holdback" 
trigger1 = command != "holdfwd" 
x = 0 

[State 199]
type = VarSet 
trigger1 = roundstate != 2 
var(1) = floor(pos x) 

[State 199]
type = posset 
trigger1 = roundstate = 2 
trigger1 = var(1) != 0 
x = var(1) 

[State 199]
type = varset 
trigger1 = roundstate = 2 
var(1) = 0 

[State 199]
type = changestate 
trigger1 = ctrl 
value = ifelse((command = "holdfwd") || (command ="holdback"),20,0)


;---------------------------------------------------------------------------
; Taunt

[Statedef 195]
type = S
ctrl = 0
movetype = A
physics = N
poweradd = 50
anim = 195
velset = 0,0
sprpriority = 0



[State 195]
type = PlaySnd
trigger1 = AnimElem = 4 || AnimElem = 8
value = 182,0


[State 195]
type = Explod
trigger1 = AnimElem = 4 || AnimElem = 8
anim = 6182
ontop = 1
bindtime = -1


[State 195]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing Punch

[Statedef 200]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
velset = 0,0                     
ctrl = 0                        
anim = 200
poweradd = 14                   
sprpriority = 0      
facep2 = 1          


[State 200]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1



[State 200]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, NA             
damage = 3*var(30)
animtype = Light                 
guardflag = MA                  
hitflag = MAF                    
priority = 3, Hit                
pausetime = 5,5                
sparkno = S(8200+random%2)     
sparkxy = -10,-70
hitsound = S1,12;1,0
guardsound = S4,0                
guard.sparkno = S8430
ground.type = High               
ground.slidetime = 15            
ground.hittime  = 10             
ground.velocity = -3  
air.type = High                  
air.velocity = -3         
air.hittime = 12                 
getpower = 14,7
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 7740
;air.animtype = back
;air.type = Low
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0


[State 200]
type = VarAdd
trigger1 = MoveContact
var(19) = 1
ignorehitpause = 1
persistent = 0


[State 200]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 4, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0


[State 200]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;---------------------------------------------------------------------------
; Stand Medium Punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 27
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 0
facep2 = 1

[State 210]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,1


[State 210]
type = PlaySnd
trigger1 = AnimElem = 1
value = 210,0

[State 210]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, NA
animtype  = Medium
damage    = 5*var(30)
guardflag = MA
pausetime = 7,7
sparkno = S(8210+random%2)
guard.sparkno = S8430
sparkxy = -10,-60
hitsound   = S1,13;1,1
guardsound = S4,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -5
air.velocity = -5
getpower = 27,14
;fall.animtype = Up
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 211
;air.animtype = back
;air.type = Low
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;p2stateno = 9020



[State 210]
type = Varset
trigger1 = Time = 0
var(1) = 0


[State 210]
type = Varset
triggerall = AnimElemNo(0) = [3,6]
trigger1 = command = "y"
var(1) = 1
ignorehitpause = 1


[State 210]
type = ChangeState
triggerall = var(1) && AnimElem = 6, >= 0
trigger1 = !var(59)
trigger2 = var(59) && random < 200 && p2bodydist x = [0,50]
ignorehitpause = 0
value = 211



[State 210]
type = VarAdd
trigger1 = MoveContact
var(20) = 1
ignorehitpause = 1
persistent = 0

[State 210]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 6, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 210]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
; Stand Medium Punch 2
[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 27
ctrl = 0
velset = 0,0
anim = 211
sprpriority = 0
facep2 = 1

[State 211]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,1


[State 211]
type = PlaySnd
trigger1 = AnimElem = 1
value = 210,0

[State 211]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, NA
animtype  = Medium
damage    = 3*var(30)
guardflag = MA
pausetime = 7,7
sparkno = S(8210+random%2)
guard.sparkno = S8430
sparkxy = -10,-60
hitsound   = S1,13;1,1
guardsound = S4,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -5
air.velocity = -5
getpower = 27,14
;fall.animtype = Up
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 211
;air.animtype = back
;air.type = Low
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;p2stateno = 9020




[State 211]
type = VarAdd
trigger1 = MoveContact
var(20) = 1
ignorehitpause = 1
persistent = 0

[State 211]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 6, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 211]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
; Stand  Strong Punch
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 220
sprpriority = 0
facep2 = 1



[State 220]
type = PlaySnd
trigger1 = AnimElem = 2
value = 220,1


[State 220]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,0


[State 220]
type = Helper
trigger1 = AnimElem = 2
stateno = 6220
id = 6220
ownpal = 1


[State 220]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, NA
animtype  = Hard
damage    = 8*var(30)
guardflag = MA
pausetime = 7,7
sparkno = S(8220+random%2)
guard.sparkno = S8430
sparkxy = -10,-60
hitsound   = S1,14;1,2
guardsound = S4,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -10,-5
air.velocity = -10,-5
getpower = 50,25
;fall.animtype = Up
;fall = 1
;air.fall = 1
;fall.recover = 1
;air.animtype = back
;air.type = Low
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;p2stateno = 9020


[State 220]
type = VarAdd
trigger1 = MoveContact
var(21) = 1
ignorehitpause = 1
persistent = 0


[State 220]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 7, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 220]
type = ChangeState
trigger1 = AnimTime = 0
value = 11;0
ctrl = 1



;---------------------------------------------------------------------------
;Stand Kick
[Statedef 300]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 13
ctrl = 0
velset = 0,0
anim = 300
sprpriority = 0
facep2 = 1


[State 300]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0


[State 300]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, NA
animtype  = Light
damage    = 3*var(30)
guardflag = MA
pausetime = 5,5
sparkno = S(8200+random%2)
guard.sparkno = S8430
sparkxy = -10,-30
hitsound   = S1,4
guardsound = S4,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3
air.velocity = -3
getpower = 13,7
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 9020

[State 300]
type = VarAdd
trigger1 = MoveContact
var(19) = 1
ignorehitpause = 1
persistent = 0


[State 300]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 4, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 300, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Stand Medium Kick
[Statedef 310]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 27
ctrl = 0
velset = 0,0
anim = 310
sprpriority = 0
facep2 = 1



[State 310]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,1

[State 310]
type = PlaySnd
trigger1 = AnimElem = 1
value = 310,0


[State 310]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, NA
animtype = Medium
damage    = 5*var(30)
hitflag = MAF
guardflag = MA
pausetime = 5,5
sparkno = S(8210+random%2)
guard.sparkno = S8430
sparkxy = -10,-60
hitsound   = S1,5
guardsound = S4,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -5
air.velocity = -5
getpower = 27,14
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 9020


[State 310]
type = Varset
trigger1 = Time = 0
var(1) = 0


[State 310]
type = Varset
triggerall = AnimElemNo(0) = [2,3]
trigger1 = command = "b"
var(1) = 1
ignorehitpause = 1


[State 310]
type = ChangeState
triggerall = var(1) && AnimElem = 4, >= 0
trigger1 = !var(59)
trigger2 = var(59) && random < 200 && p2bodydist x = [0,90]
ignorehitpause = 0
value = 311


[State 310]
type = VarAdd
trigger1 = MoveContact
var(20) = 1
ignorehitpause = 1
persistent = 0


[State 310]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 4, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0


[State 310]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Stand Medium Kick 2
[Statedef 311]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 27
ctrl = 0
velset = 0,0
anim = 311
sprpriority = 0
facep2 = 1



[State 311]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,1

[State 311]
type = PlaySnd
trigger1 = AnimElem = 1
value = 310,0


[State 311]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, NA
animtype = Medium
damage    = 3*var(30)
hitflag = MAF
guardflag = MA
pausetime = 5,5
sparkno = S(8210+random%2)
guard.sparkno = S8430
sparkxy = -10,-60
hitsound   = S1,5
guardsound = S4,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -5
air.velocity = -5
getpower = 27,14
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 9020




[State 311]
type = VarAdd
trigger1 = MoveContact
var(20) = 1
ignorehitpause = 1
persistent = 0


[State 311]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 5, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0


[State 311]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Stand Strong Kick
[Statedef 320]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 320
sprpriority = 0
facep2 = 1


[State 320]
type = PlaySnd
trigger1 = AnimElem = 1
value = 320,0

[State 320]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,2


[State 320]
type = HitDef
trigger1 = !var(29)
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, NA
animtype = Hard
damage    = 8*var(30)
guardflag = MA
pausetime = 7,7
sparkno = S(8220+random%2)
guard.sparkno = S8430
sparkxy = -10,-70
hitsound   = S1,6
guardsound = S4,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
;ground.velocity = -7
;air.velocity = -7
ground.velocity = 0,-13
air.velocity = 0,-12
getpower = 50,20
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 9020
p2stateno = 7321


[State 320]
type = Explod
trigger1 = MoveHit
anim = 7025
postype = p2
ontop = 1
ownpal = 1
pos = 0,-abs(EnemyNear, const(size.mid.pos.y))
persistent = 0
facing = -1
ignorehitpause = 1


[State 320]
type = varset
trigger1 = MoveHit
var(29) = 1
ignorehitpause = 1
persistent = 0

[State 320]
type = VarAdd
trigger1 = MoveContact
var(21) = 1
ignorehitpause = 1
persistent = 0


[State 320]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 7, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 320]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1



;---------------------------------------------------------------------------
;Crouch Punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 13
ctrl = 0
anim = 400
sprpriority = 0
velset = 0,0 
facep2 = 1


[State 400]
type = PlaySnd
trigger1 = AnimElem = 1
value = 310,0

[State 400]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 400]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = C, NA             
damage = 3*var(30)    
animtype = Light                 
guardflag = L;M                
hitflag = MAF;D                    
priority = 3, Hit                
pausetime = 3,3             
sparkno = S(8200+random%2)                
sparkxy = -10,-20
hitsound = S1,11;1,0        
guardsound = S4,0                
guard.sparkno = S8430
ground.type = Low               
ground.slidetime = 15            
ground.hittime  = 10             
ground.velocity = -3    
getpower = 13,7
air.velocity = -2
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 9020
;air.animtype = back
;air.type = Low
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0


[State 400]
type = VarAdd
trigger1 = MoveContact
var(19) = 1
persistent = 0


[State 400]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 2, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 400]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1



;---------------------------------------------------------------------------
;Crouch Medium Punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 27
ctrl = 0
anim = 410
sprpriority = 0
velset = 0,0 
facep2 = 1



[State 410]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,1


[State 410]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0


[State 410]
type = Helper
trigger1 = AnimElem = 4
stateno = 6410
id = 6410
ownpal = 1

[State 410]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = C, NA             
damage = 5*var(30)        
animtype = Medium                 
guardflag = MA                 
hitflag = MAF                    
priority = 3, Hit                
pausetime = 5,5             
sparkno = S(8210+random%2)                   
sparkxy = -10,-50
hitsound = S1,13;1,1
guardsound = S4,0                
guard.sparkno = S8430
ground.type = Low               
ground.slidetime = 15            
ground.hittime  = 15             
ground.velocity = -5   
;ground.velocity = -1,-9     
air.velocity = -5                  
getpower = 27,14
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 9020
;air.animtype = back
;air.type = Low
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;p2stateno = 7321



[State 410]
type = VarAdd
trigger1 = MoveContact
var(20) = 1
ignorehitpause = 1
persistent = 0

[State 410]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 6, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0


[State 410]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Strong Punch

[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 420
sprpriority = 0
velset = 0,0
facep2 = 1

[State 420]
type = VelSet
trigger1 = AnimElemNo(0) = [1,5]
x = 5

[State 420]
type = VelSet
trigger1 = AnimElem = 6 || AnimTime = 0
x = 0

[State 420]
type = PlaySnd
trigger1 = AnimElem = 6
value = 220,0


[State 420]
type = PlaySnd
trigger1 = AnimElem = 6
value = 220,1


[State 420]
type = Helper
trigger1 = AnimElem = 6
stateno = 6420
id = 6420
ownpal = 1

[State 420]
type = HitDef
;trigger1 = !var(29)
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = C, NA
damage    = 8*var(30)
animtype  = Hard
hitflag = MAF
guardflag = MA
pausetime = 7,7
sparkxy = -10,-50
sparkno = S(8220+random%2)
hitsound   = S1,14;1,2 
guardsound = S4,0
guard.sparkno = S8430
ground.type = Low;Trip
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -7;0,-13
air.velocity = -7;0,-12
getpower = 50,25
;fall = 1
;air.fall = 1
;fall.recover =0
;fall.animtype = Hard
;p2stateno = 7321



[State 420]
type = null;Explod
trigger1 = MoveHit
anim = 7025
postype = p2
ontop = 1
ownpal = 1
pos = 0,-abs(EnemyNear, const(size.mid.pos.y))
persistent = 0
facing = -1
ignorehitpause = 1


[State 420]
type = null;varset
trigger1 = MoveHit
var(29) = 1
ignorehitpause = 1
persistent = 0


[State 420]
type = VarAdd
trigger1 = MoveContact
var(21) = 1
ignorehitpause = 1
persistent = 0


[State 420]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 10, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 420]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
;Crouch Strong Punch 2

[Statedef 421]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 421
sprpriority = 0
velset = 0,0
facep2 = 1

[State 421]
type = VelSet
trigger1 = AnimElemNo(0) = [2,3]
x = 9

[State 421]
type = ChangeAnim
trigger1 = AnimElem = 4 && Time < 17
value = anim
elem = 2

[State 421]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100,8
persistent = 0

[State 421]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,0

[State 421]
type = HitDef
;trigger1 = !var(29)
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = C, NA
damage    = 8*var(30)
animtype  = Hard
hitflag = MAFD
guardflag = L
pausetime = 7,7
sparkxy = -10,-10
sparkno = S(8220+random%2)
hitsound   = S1,14;1,2 
guardsound = S4,0
guard.sparkno = S8430
ground.type = Trip
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 0,-4
air.velocity = 0,-4
getpower = 50,25
;fall = 1
;air.fall = 1
;fall.recover =0
;fall.animtype = Hard
;p2stateno = 7321




[State 421]
type = VarAdd
trigger1 = MoveContact
var(21) = 1
ignorehitpause = 1
persistent = 0


[State 421]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 9, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 421]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Crouch Kick
[Statedef 500]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 13
ctrl = 0
anim = 500
sprpriority = 0
velset = 0,0 
facep2 = 1


[State 500]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0



[State 500]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = C, NA             
damage = 3*var(30)       
animtype = Light                 
guardflag = L                 
hitflag = MFD             
priority = 3, Hit                
pausetime = 5,5             
sparkno = S(8200+random%2)                
sparkxy = -10,-10
hitsound = S1,4        
guardsound = S4,0                
guard.sparkno = S8430
ground.type = Low               
ground.slidetime = 10            
ground.hittime  = 10             
ground.velocity = -3
air.velocity = -3
getpower = 13,7
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 9020
;air.animtype = back
;air.type = Low
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = -2*(enemynear,statetype = L)
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0

[State 500]
type = VarAdd
trigger1 = MoveContact
var(19) = 1
ignorehitpause = 1
persistent = 0


[State 500]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 4, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 500, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
;Crouch Medium Kick
[Statedef 510]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 27
ctrl = 0
anim = 510
sprpriority = 0
velset = 0,0 
facep2 = 1



[State 510]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,0


[State 510]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,1



[State 510]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = C, NA
animtype = Medium
damage    = 5*var(30)
hitflag = MAF;D
guardflag = M;L
pausetime = 5,5
sparkno = S(8210+random%2)
guard.sparkno = S8430
sparkxy = -10,-10
hitsound   = S1,5
guardsound = S4,0
ground.type = Trip;Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0,-4;-5
air.velocity = 0,-4;-5
getpower = 27,14
;fall = 1
;air.fall = 1
;fall.recover =0



[State 510]
type = VarAdd
trigger1 = MoveContact
var(20) = 1
ignorehitpause = 1
persistent = 0


[State 510]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 5, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 510, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1



;---------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 520]
type    = C
movetype= A
physics = C
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 520
sprpriority = 0
facep2 = 1


[State 520]
type = VelSet
trigger1 = AnimElemNo(0) = 3
x = 9

[State 520]
type = null;VelMul
trigger1 = AnimElem = 4, >= 0
x = 0

[State 520]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,2


[State 520]
type = PlaySnd
trigger1 = AnimElem = 3
value = 220,0



[State 520]
type = HitDef
;trigger1 = !var(29)
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = C, NA
animtype = Hard
damage    = 8*var(30)
hitflag = MAF;D
guardflag = M;L
pausetime = 7,7
sparkno = S(8220+random%2)
guard.sparkno = S8430
sparkxy = -10,-50
hitsound   = S1,6
guardsound = S4,0
ground.type = Low;Trip
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -10,-5;0,-4
air.velocity = -10,-5;0,-4
getpower = 50,20
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 9020
;p2stateno = 7321


[State 520]
type = null;Explod
trigger1 = MoveHit
anim = 7025
postype = p2
ontop = 1
ownpal = 1
pos = 0,-abs(EnemyNear, const(size.mid.pos.y))
persistent = 0
facing = -1
ignorehitpause = 1


[State 520]
type = null;varset
trigger1 = MoveHit
var(29) = 1
ignorehitpause = 1
persistent = 0

[State 520]
type = VarAdd
trigger1 = MoveContact
var(21) = 1
ignorehitpause = 1
persistent = 0


[State 520]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 6, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 520]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1



;---------------------------------------------------------------------------
;OverHead Atk
[Statedef 590]
type    = S
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 590
sprpriority = 0
facep2 = 1


[State 590]
type = PlaySnd
trigger1 = Time = 8
value = 220,1

[State 590]
type = PlaySnd
trigger1 = Time = 5
value = 220,0


[State 590]
type = Helper
trigger1 = AnimElem = 3 && Anim = 590
stateno = 6620
id = 6620
ownpal = 1
persistent = 0


[State 590]
type = VelSet
trigger1 = AnimElem = 2
x = 3
y = -4

[State 590]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.35


[State 590]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0

[State 590]
type = HitDef
attr = S, NA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 6*var(30)
animtype = Medium
priority  = 5, Hit
guardflag = HA
pausetime = 7,7
sparkxy = -10,-70+floor(P2Dist Y)
hitsound   = S1,2
guardsound = S4,0
sparkno = S(8200+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -9,0
air.velocity = -7,-3
guard.velocity = -7
airguard.velocity = -7
;fall.xvelocity = -3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 0
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25


[State 590]
type = VarAdd
trigger1 = !MoveContact
trigger1 = AnimElem = 7, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 590]
type = ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1



[State 590]
type = ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 635
ctrl = 0


[State 590]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0

;---------------------------------------------------------------------------
;Air Punch
[Statedef 600]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 13
ctrl = 0
anim = 600
sprpriority = 0
;velset = 0,0
facep2 = 1

[State 600]
type = PlaySnd
trigger1 = Time = 1
value = 200,1


[State 600]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = A, NA
animtype  = Light
damage    = 3*var(30)
guardflag = HA
pausetime = 3,3
sparkno = S(8200+random%2)
guard.sparkno = S8430
sparkxy = -10,-70+floor(P2Dist Y)
hitsound   = S1,12;1,0
guardsound = S4,0
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3
air.velocity = 0,((vel y)-.2)
getpower = 13,7


[State 600]
type = VarAdd
trigger1 = MoveContact
var(19) = 1
ignorehitpause = 1
persistent = 0

[State 600]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 4, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 600]
type = CtrlSet
trigger1 = Anim = 70
value = 1
persistent = 0

[State 600]
type = VelAdd
trigger1 = Pos Y < 0; && !var(54)
trigger2 = Anim = 70
y = 0.3



[State 600]
type = VelSet
trigger1 = MoveContact && Var(59)
x = (p2bodydist x)*0.03
persistent = 0


[State 600]
type = null;ChangeState
trigger1 = AnimTime = 0 && var(54)
value = 1335
ctrl = 1


[State 600]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0

[State 600]
type = StateTypeSet
trigger1 = Anim = 70
movetype = I
persistent = 0

[State 600]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
;Air Medium Punch
[Statedef 610]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 27
ctrl = 0
anim = 610
sprpriority = 0
;velset = 0,0
facep2 = 1


[State 610]
type = PlaySnd
trigger1 = Time = 4
value = 310,0


[State 610]
type = PlaySnd
trigger1 = Time = 4
value = 210,1



[State 610]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = A, NA
animtype  = Medium
damage    = 5*var(30)
guardflag = HA
pausetime = 5,5
sparkno = S(8210+random%2)
guard.sparkno = S8430
sparkxy = -10,-70+floor(P2Dist Y)
hitsound   = S1,13;1,1
guardsound = S4,0
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = 0,((vel y)-.2)
getpower = 27,14


[State 610]
type = VarAdd
trigger1 = MoveContact
var(20) = 1
ignorehitpause = 1
persistent = 0


[State 610]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 4, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0


[State 610]
type = Varset
trigger1 = Time = 0
var(1) = 0


[State 610]
type = Varset
triggerall = AnimElemNo(0) = [2,3]
trigger1 = command = "y"
var(1) = 1
ignorehitpause = 1


[State 610]
type = ChangeState
triggerall = var(1) && AnimElem = 4, >= 0
trigger1 = !var(59)
trigger2 = var(59) && random < 200 && p2bodydist x = [0,80]
ignorehitpause = 0
value = 611

[State 610]
type = CtrlSet
trigger1 = Anim = 70
value = 1
persistent = 0

[State 610]
type = VelAdd
trigger1 = Pos Y < 0; && !var(54)
trigger2 = Anim = 70
y = 0.3


[State 610]
type = VelSet
trigger1 = MoveContact && Var(59)
x = (p2bodydist x)*0.03
persistent = 0


[State 610]
type = null;ChangeState
triggerall = var(54)
trigger1 = AnimTime = 0
trigger2 = Anim = 70
value = 1335
ctrl = 1

[State 610]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0


[State 610]
type = StateTypeSet
trigger1 = Anim = 70
movetype = I
persistent = 0

[State 610]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



;---------------------------------------------------------------------------
;Air Medium Punch 2
[Statedef 611]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 27
ctrl = 0
anim = 611
sprpriority = 0
;velset = 0,0
facep2 = 1


[State 611]
type = PlaySnd
trigger1 = Time = 4
value = 310,0


[State 611]
type = PlaySnd
trigger1 = Time = 4
value = 210,1



[State 611]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = A, NA
animtype  = Medium
damage    = 5*var(30)
guardflag = HA
pausetime = 5,5
sparkno = S(8210+random%2)
guard.sparkno = S8430
sparkxy = -10,-70+floor(P2Dist Y)
hitsound   = S1,13;1,1
guardsound = S4,0
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = 0,((vel y)-.2)
getpower = 27,14


[State 611]
type = VarAdd
trigger1 = MoveContact
var(20) = 1
ignorehitpause = 1
persistent = 0


[State 611]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 4, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0




[State 611]
type = CtrlSet
trigger1 = Anim = 70
value = 1
persistent = 0

[State 611]
type = VelAdd
trigger1 = Pos Y < 0; && !var(54)
trigger2 = Anim = 70
y = 0.3


[State 611]
type = VelSet
trigger1 = MoveContact && Var(59)
x = (p2bodydist x)*0.03
persistent = 0


[State 611]
type = null;ChangeState
triggerall = var(54)
trigger1 = AnimTime = 0
trigger2 = Anim = 70
value = 1335
ctrl = 1

[State 611]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0


[State 611]
type = StateTypeSet
trigger1 = Anim = 70
movetype = I
persistent = 0

[State 611]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



;---------------------------------------------------------------------------
;Air Strong Punch
[Statedef 620]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 50
ctrl = 0
anim = 620
sprpriority = 0
;velset = 0,0
facep2 = 1



[State 620]
type = PlaySnd
trigger1 = Time = 8
value = 220,1

[State 620]
type = PlaySnd
trigger1 = Time = 5
value = 220,0


[State 620]
type = Helper
trigger1 = AnimElem = 3
stateno = 6620
id = 6620
ownpal = 1
persistent = 0

[State 620]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = A, NA
animtype  = Hard
damage    = 8*var(30)
guardflag = HA
pausetime = 5,7;0,17;7,10
sparkno = S(8220+random%2)
guard.sparkno = S8430
sparkxy = -20,-70+floor(P2Dist Y)
hitsound   = S1,14;1,2
guardsound = S4,0
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime  = 20
air.hittime = 25
ground.velocity = -9
air.velocity = -7,17
getpower = 50,20
fall = (enemynear,statetype = A)
air.fall = 1
fall.recover =0



[State 620]
type = VarAdd
trigger1 = MoveContact
var(21) = 1
ignorehitpause = 1
persistent = 0

[State 620]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 7, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 620]
type = CtrlSet
trigger1 = Anim = 70
value = 1
persistent = 0

[State 620]
type = VelAdd
trigger1 = Pos Y < 0; && !var(54)
trigger2 = Anim = 70
y = 0.3


[State 620]
type = VelSet
trigger1 = MoveContact && Var(59)
x = (p2bodydist x)*0.03
persistent = 0


[State 620]
type = null;ChangeState
triggerall = var(54)
trigger1 = AnimTime = 0
trigger2 = Anim = 70
value = 1335
ctrl = 1

[State 620]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0


[State 620]
type = StateTypeSet
trigger1 = Anim = 70
movetype = I
persistent = 0

[State 620]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



;------------------------------------------------------------------------------------------------------------
; Stand to Air transistion
[Statedef 631]
type = A
movetype = A
physics = A
anim = 42
ctrl = 1
sprpriority = 2
;poweradd= 65
velset = (p2bodydist x)*0.03,-7
facep2 = 1


[State 631]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0


[State 631]
type = ChangeState
trigger1 = p2bodydist x < 90
;trigger1 = var(8) = [-30,10]
trigger1 = random < 300
value = 700
ctrl = 0



[State 631]
type = null;ChangeState
trigger1 = p2bodydist x < 90
;trigger1 = var(8) = [-40,10]
trigger1 = random < 200
value = 710
ctrl = 0


[State 631]
type = ChangeState
trigger1 = p2bodydist x < 120;90
trigger1 = random < 100
value = 720
ctrl = 0


[State 631]
type = ChangeState
trigger1 = p2bodydist x < 90
trigger1 = var(8) = [-40,10]
trigger1 = random < 300
value = 600
ctrl = 0



[State 631]
type = ChangeState
trigger1 = p2bodydist x < 90
trigger1 = var(8) = [-40,10]
trigger1 = random < 200
value = 610
ctrl = 0


[State 631]
type = ChangeState
trigger1 = p2bodydist x < 90
trigger1 = random < 100
value = 620
ctrl = 0


[State 631]
type = null;ChangeState
trigger1 = p2bodydist x < 90
trigger1 = random < 100
value = 8018
ctrl = 0

[State 631]
type = ChangeState
trigger1 = p2bodydist x < 130
value = 620
ctrl = 0


;------------------------------------------------------------------------------------------------------------
; Air Land
[Statedef 635]
type = A
movetype = I
physics = N
anim = 70
;ctrl = 0
sprpriority = 0
;poweradd= 65
velset = 0,0
facep2 = 1


[State 635]
type = null;StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0



[State 635]
type = null;ChangeState
triggerall = var(54)
trigger1 = AnimTime = 0
trigger2 = Anim = 70
value = 1335
ctrl = 1

[State 635]
type = VelAdd
trigger1 = anim = 70; && !var(54)
y = 0.4


[State 635]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
;Air Kick
[Statedef 700]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 13
ctrl = 0
anim = 700
sprpriority = 0
;velset = 0,0
facep2 = 1

[State 700]
type = PlaySnd
trigger1 = Time = 1
value = 0,0


[State 700]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = A, NA
animtype  = Light
damage    = 3*var(30)
guardflag = MA
pausetime = 3,3
sparkno = S(8200+random%2)
guard.sparkno = S8430
sparkxy = -10,-70+floor(P2Dist Y)
hitsound   = S1,4
guardsound = S4,0
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3
air.velocity = 0,((vel y)-.2)
getpower = 13,7


[State 700]
type = VarAdd
trigger1 = MoveContact
var(19) = 1
ignorehitpause = 1
persistent = 0


[State 700]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 4, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 700]
type = CtrlSet
trigger1 = Anim = 70
value = 1
persistent = 0

[State 700]
type = VelAdd
trigger1 = Pos Y < 0; && !var(54)
trigger2 = Anim = 70
y = 0.3


[State 700]
type = VelSet
trigger1 = MoveContact && var(59)
x = (p2bodydist x)*0.03
persistent = 0



[State 700]
type = null;ChangeState
triggerall = var(54)
trigger1 = AnimTime = 0
trigger2 = Anim = 70
value = 1335
ctrl = 1

[State 700]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0


[State 700]
type = StateTypeSet
trigger1 = Anim = 70
movetype = I
persistent = 0

[State 700] 
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0




;---------------------------------------------------------------------------
;Air Medium Kick 
[Statedef 710]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 27
ctrl = 0
anim = 710
sprpriority = 0
;velset = 0,0
facep2 = 1


[State 710]
type = PlaySnd
trigger1 = Time = 2
value = 0,1

[State 710]
type = PlaySnd
trigger1 = Time = 5
value = 320,0

[State 710]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = A, NA
animtype  = Medium
damage    = 5*var(30)
guardflag = HA
pausetime = 5,5
sparkno = S(8210+random%2)
guard.sparkno = S8430
sparkxy = -10,-70+floor(P2Dist Y)
hitsound   = S1,5
guardsound = S4,0
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = 0,((vel y)-.2)
getpower = 27,14


[State 710]
type = VarAdd
trigger1 = MoveContact
var(20) = 1
ignorehitpause = 1
persistent = 0


[State 710]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 5, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 710]
type = CtrlSet
trigger1 = Anim = 70
value = 1
persistent = 0

[State 710]
type = VelAdd
trigger1 = Pos Y < 0; && !var(54)
trigger2 = Anim = 70
y = 0.3



[State 710]
type = VelSet
trigger1 = MoveContact && var(59)
x = (p2bodydist x)*0.03
persistent = 0


[State 710]
type = null;ChangeState
triggerall = var(54)
trigger1 = AnimTime = 0
trigger2 = Anim = 70
value = 1335
ctrl = 1

[State 710]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0


[State 710]
type = StateTypeSet
trigger1 = Anim = 70
movetype = I
persistent = 0

[State 710]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0




;---------------------------------------------------------------------------
;Air Strong Kick 
[Statedef 720]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 50
ctrl = 0
anim = 720
sprpriority = 0
;velset = 0,0
facep2 = 1

[State 720]
type = ChangeAnim
trigger1 = AnimElem = 6 && Anim = 720
value = 720
elem = 2
persistent = 0

[State 720]
type = PlaySnd
triggerall = anim = 720
trigger1 = AnimElem = 2 || AnimElem = 4
value = 0,1

[State 720]
type = PlaySnd
trigger1 = Time = 5
value = 220,0


[State 720]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = A, NA
animtype  = Hard
damage    = 8*var(30)
guardflag = HA
pausetime = 7,7;0,17;7,10
sparkno = S(8220+random%2)
guard.sparkno = S8430
sparkxy = -10,-70+floor(P2Dist Y)
hitsound   = S1,6;2,4
guardsound = S4,0
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -9
air.velocity = -7,17
getpower = 50,20
fall = (enemynear,statetype = A)
air.fall = 1
fall.recover =0
;down.bounce = 1
;fall.xvelocity = -5
;fall.yvelocity = -5
;fall.recovertime = 12
;yaccel = 0.4



[State 720]
type = VarAdd
trigger1 = MoveContact
var(21) = 1
ignorehitpause = 1
persistent = 0


[State 720]
type = VarAdd
trigger1 = !MoveContact && AnimElem = 7, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 720]
type = CtrlSet
trigger1 = Anim = 70
value = 1
persistent = 0

[State 720]
type = VelAdd
trigger1 = Pos Y < 0; && !var(54)
trigger2 = Anim = 70
y = 0.3



[State 720]
type = VelSet
trigger1 = MoveContact && var(59)
x = (p2bodydist x)*0.03
persistent = 0


[State 720]
type = null;ChangeState
triggerall = var(54)
trigger1 = AnimTime = 0
trigger2 = Anim = 70
value = 1335
ctrl = 1

[State 720]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0


[State 720]
type = StateTypeSet
trigger1 = Anim = 70
movetype = I
persistent = 0

[State 720]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



;---------------------------------------------------------------------------
; Down Kick Hard
[Statedef 722]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 40
ctrl = 0
velset = 0,0
anim = 722
sprpriority = 0
facep2 = 1

[State 722]
type = Turn
trigger1 = Time = 0
trigger1 = FrontEdgeBodyDist <= 5

[State 722]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1



[State 722]
type = VelSet
trigger1 = Time = 0
x = 0
y = 9


[State 722]
type = VelAdd
trigger1 = 1
y = 0.4

[State 722]
type = PlaySnd
trigger1 = Time = 5
value = 320,0


[State 722]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = A, SA
animtype  = Medium
damage    = 7*var(30),floor(var(30)/2)
guardflag = HA
pausetime = 7,7
sparkno = S(8220+random%2)  
guard.sparkno = S8430
sparkxy = -10,-64+floor(P2Dist Y)
hitsound   = S1,5
guardsound = S4,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -7,-4
air.velocity = -7,-4
getpower = 40,14
;fall.animtype = Up
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 211
;air.animtype = back
;air.type = Low
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;p2stateno = 9020


[State 722]
type = VarAdd
trigger1 = MoveContact
var(21) = 1
ignorehitpause = 1
persistent = 0


[State 722]
type = VarAdd
trigger1 = !MoveContact && Time >= 25
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 722]
type = VelSet
trigger1 = MoveContact
x = -2
y = -7
persistent = 0


[State 720]
type = ChangeAnim
trigger1 = AnimTime = 0 && MoveContact >= 7
value = 70
persistent = 0

[State 722]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



;---------------------------------------------------------------------------
; Ground Throw - Attempt

; Description: Throws are not difficult to make, although then can be
;     tedious at times. Throw attempt states have a HitDef of a
;     special format. The key parameters in a throw are p1stateno
;     and p2stateno. If the HitDef successfully connects, then
;     the attacker will change to the state number specified by
;     p1stateno, and the opponent will be change to the state
;     number assigned to p2stateno. The special thing about p2stateno
;     is that the opponent will be temporarily brought into the
;     attacker's state file. In this case, no matter who the
;     opponent is, he will be taken to state 820 of this file (kfm.cns)
;     and remain here until the end of the throw (look at his debug
;     information when he is being thrown; the text changes to yellow
;     to mean that he is in another player's state file).
[Statedef 800]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 0




; Notes: The '-' symbol in the hitflag field means that it only affects
;   players who are not in a hit state. This prevents from combo-ing
;   into the throw. The priority should be set to a low number, such as
;   1 or 2, so that the throw does not take precedence over normal attacks.
;   The type of priority must always be set to "Miss" or "Dodge" for throws,
;   otherwise strange behavior can result.
[State 800]
type = HitDef
trigger1 = hitcount < 1
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face p`
p1stateno = 810       ;On success, changes to state 810
p2stateno = 820       ;If hit, p2 changes to state 820 
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 0              ;Force p2 into falling down
hitsound = S1,9 
id = 800


[State 800]
type = null;VarSet
trigger1 = AnimElem = 5
var(9) = 1
persistent = 0


[State 800]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
; Throw

[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 60
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0


[State 810]
type = null;Explod
trigger1 = Time = 0
anim = 7515
ontop = 1
ownpal = 1
pos = 77,-62

[State 810]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 810]
type = null;NotHitBy
trigger1 = 1
value = SCA



[State 810]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 1,1

[State 810]
type = SprPriority
trigger1 = Time = 5
value = -2
persistent = 0

[State 810]
type = SprPriority
trigger1 = AnimElem = 5 
value = 0
persistent = 0


[State 810]
type = BindToTarget;TargetBind
trigger1 = AnimElemNo(0) = 1
pos = 50-10*Time,0


[State 810]
type = BindToTarget;TargetBind
trigger1 = AnimElemNo(0) = 2
pos = -70,0


[State 810]
type = BindToTarget;TargetBind
trigger1 = AnimElemNo(0) = 3
pos = -35,-abs(enemynear,const(size.mid.pos.y))

[State 810]
type = BindToTarget;TargetBind
trigger1 = AnimElemNo(0) = 4
pos = -20,-abs(enemynear,const(size.head.pos.y))

[State 810]
type = BindToTarget;TargetBind
trigger1 = AnimElemNo(0) = [5,8]
trigger2 = AnimTime = 0
pos = -20,-abs(enemynear,const(size.head.pos.y))





[State 810]
type = null;PlaySnd
trigger1 = AnimElem = 20
value = 5100,4


[state 810]
type = null;Explod
trigger1 = AnimElem = 20
anim = 7052
id = 7052
sprpriority = -4
ownpal = 1
pos = 120,0

[State 810]
type = null;EnvShake
trigger1 = AnimElem = 20
time = 12

[State 810]
type = PlaySnd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 8
value = 310,0

[State 810]
type = PlaySnd
trigger1 = AnimElem = 6, = 1
trigger2 = AnimElem = 8, = 1
value = 1,12

[state 810]
type = Explod
trigger1 = AnimElem = 6, = 1
anim = 8200 + 10*(random%2) + random%2
sprpriority = 4
ownpal = 1
pos = -46,-4

[state 810]
type = Explod
trigger1 = AnimElem = 8, = 1
anim = 8200 + 10*(random%2) + random%2
sprpriority = 4
ownpal = 1
pos = -12,-20

[State 810]
type = PlaySnd
trigger1 = AnimElem = 1
value = 310,0



[State 810]
type = TargetLifeAdd
trigger1 = AnimElem = 6, = 1
trigger2 = AnimElem = 8, = 1
value = -var(30)

[State 810]
type = null;HitAdd
trigger1 = Time%7 = 0
trigger1 = AnimElemNo(0) = [4,7]
value = 1

[State 810]
type = PowerAdd
trigger1 = AnimElem = 6, = 1
trigger2 = AnimElem = 8, = 1
value = 10


[State 810]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 810]
type = VarAdd
trigger1 = AnimElem = 8
var(1) = 1

[State 810]
type = TargetState
trigger1 = AnimElem = 8, >= 1 && var(1) = 3
value = 821

[State 810]
type = ChangeState
trigger1 = AnimElem = 8, >= 1 && var(1) = 3
value = 811
ctrl = 0



[State 810]
type = ChangeState
trigger1 = !NumTarget(800)
value = 813
ctrl = 0


;---------------------------------------------------------------------------
; Throw

[Statedef 811]
type    = S
movetype= A
physics = N
anim = 811
poweradd = 0
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0

[State 811]
type = null;Turn
trigger1 = Time = 0


[State 811]
type = null;Explod
trigger1 = Time = 0
anim = 7515
ontop = 1
ownpal = 1
pos = 77,-62

[State 811]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 811]
type = null;NotHitBy
trigger1 = 1
value = SCA

[State 811]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 1,1


[State 811]
type = BindToTarget;TargetBind
trigger1 = AnimElemNo(0) = 1
pos = 0,-abs(enemynear,const(size.head.pos.y))


[State 811]
type = PosSet
trigger1 = AnimElem = 2
x = floor(Pos X)
y = 0

[State 811]
type = TargetBind
trigger1 = AnimElemNo(0) = 2
pos = 27,-57

[State 811]
type = TargetBind
trigger1 = AnimElemNo(0) = 3
pos = 37,-57

[State 811]
type = TargetBind
trigger1 = AnimElemNo(0) = 4
pos = 15,-70

[State 811]
type = TargetBind
trigger1 = AnimElemNo(0) = [5,6]
pos = -77,-44



[state 811]
type = null;Explod
trigger1 = AnimElem = 3
anim = 8200+random%2
id = 7052
sprpriority = 2
ownpal = 1
pos = 96,-57

[State 811]
type = TargetLifeAdd
trigger1 = AnimElem = 6
value = -3*var(30)
persistent = 0

[State 811]
type = PowerAdd
trigger1 = Pos Y > -90
value = 50
persistent = 0

[State 811]
type = PlaySnd
trigger1 = AnimElem = 3
value = 220,0
persistent = 0

[State 811]
type = TargetState
trigger1 = AnimElem = 6, >= 2
value = 823

[State 811]
type = ChangeState
trigger1 = AnimElem = 6, >= 2
value = 813
ctrl = 0


[State 811]
type = ChangeState
trigger1 = !NumTarget(800)
value = 813
ctrl = 1


;---------------------------------------------------------------------------
; Throw

[Statedef 812]
type    = S
movetype= A
physics = N
anim = 620
poweradd = 0
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0

[State 812]
type = null;Turn
trigger1 = Time = 0


[State 812]
type = null;Explod
trigger1 = Time = 0
anim = 7515
ontop = 1
ownpal = 1
pos = 77,-62

[State 812]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 812]
type = null;NotHitBy
trigger1 = 1
value = SCA




[State 812]
type = TargetBind
trigger1 = 1
pos = 63,-73




[State 812]
type = PlaySnd
trigger1 = Time = 7
value = 220,0

[State 812]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1,2


[State 812]
type = Explod
trigger1 = AnimElem = 3
anim = 8200+random%2
ontop = 1
ownpal = 1
pos = 63,-73


[State 812]
type = TargetLifeAdd
trigger1 = AnimElem = 3
value = -8*var(30)

[State 812]
type = PowerAdd
trigger1 = AnimElem = 3
value = 50

[State 812]
type = TargetState
trigger1 = AnimElem = 4
value = 823

[State 812]
type = ChangeState
trigger1 = AnimElem = 4
value = 813
ctrl = 0


[State 812]
type = ChangeState
trigger1 = !NumTarget(800)
value = 813
ctrl = 1


;---------------------------------------------------------------------------
; Throw End

[Statedef 813]
type    = S
movetype= I
physics = S
;anim = 70
;poweradd = 60
juggle  = 0
;velset = -3,-7
velset = 0,0
ctrl = 0
sprpriority = 0


[State 813]
type = Turn
trigger1 = AnimElem = 7


[State 813]
type = null;PlayerPush
trigger1 = Time < 20
value = 0

[State 813]
type = null;ChangeState
trigger1 = AnimTime = 0 && var(54)
value = 1335
ctrl = 1

[State 813]
type = null;ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0

[State 813]
type = null;ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0

[State 813]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Thrown

[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 820]
type = null;SprPriority
trigger1 = AnimElem = 2
value = -1



[State 820]
type = ChangeAnim2
trigger1 = Time = 0
value = 820

[State 820]
type = Turn
trigger1 = facing = enemynear,facing

[State 820]
type = null;PalFx
trigger1 = AnimElemNo(0) = [4,7]
color = 0
time = 15
add = 64,-128,64

[State 820]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 820]
type = DestroySelf
trigger1 = ishelper


;---------------------------------------------------------------------------
;Thrown

[Statedef 821]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 821]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 821]
type = ChangeAnim2
trigger1 = Time = 0
value = 821

[State 821]
type = null;Turn
trigger1 = facing = enemynear,facing


[State 821]
type = Turn
trigger1 = AnimElem = 3

[State 821]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 821]
type = DestroySelf
trigger1 = ishelper


;---------------------------------------------------------------------------
;Thrown

[Statedef 823]
type    = A
movetype= H
physics = N
velset = -17,-8
poweradd = 60



[State 823]
type = ChangeAnim2
trigger1 = Time = 0
value = 823

[State 823]
type = null;Turn
trigger1 = Time = 0

[State 823]
type = null;VelSet
trigger1 = Time = 0
x = -13
y = -5

[State 823] ;Gravity
type = VelAdd
trigger1 = 1
y = .4


[State 823]
type = null;ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0


[State 823]
type = null;ChangeState
;triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 9027


[State 823]
type = null;SelfState
trigger1 = BackEdgeBodyDist <= 15
trigger2 = FrontEdgeBodyDist <= 15
value = 5040


[State 823]
type = null;SelfState
trigger1 = Vel Y > 2
value = 5040


[State 823] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground


[State 823] ;Hit ground
type = null;ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 824

;---------------------------------------------------------------------------
;Thrown

[Statedef 824]
type    = S
movetype= H
physics = N
velset = -7,0
;poweradd = 60




[State 824]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 0
movecamera = 1,0


[State 824]
type = VelSet
trigger1 = BackEdgeBodyDist < 15
trigger2 = FrontEdgeBodyDist < 15
x = 0



[State 823]
type = SelfState
trigger1 = Time = 120
value = 0
ctrl = 1

;-------------------------------------------------------------------------
;Wall Smack
[Statedef 825]
type = A
movetype = H
physics = N
;velset = 0,0


[State 825, 4]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = Vel Y = 0
value = 827


[State 825, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 825, Spark]
type = null;Explod
trigger1 = Time = 0
trigger1 = Anim = 827
anim = F72
pos = -20, floor(Pos Y)
sprpriority = 3


[State 825, 5]
type = null;Turn
trigger1 = time = 0

[State 825, 6]
type = VelSet
trigger1 = time = 0
x = ifelse(Vel X < 0,3,-3)
y = -5



[State 825, 7]
type = VelAdd
trigger1 = time >= 0
y = .39


[State 825, 8]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100


;-------------------------------------------------------------------------
;Hit Ground By Throw
[Statedef 826]
type = A
movetype = H
physics = N
velset = 0,0



[State 826, Spark]
type = null;Explod
trigger1 = Time = 0
anim = F62
pos = 0, -30
sprpriority = 3

[State 826, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 826, 5]
type = null;Turn
trigger1 = time = 0

[State 826, 6]
type = VelSet
trigger1 = time = 0
x = 2.6
;y = -7



[State 826, 7]
type = VelAdd
trigger1 = time >= 0
y = .39



[State 826, 8]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100


;-------------------------------------------------------------------------
;Wall Smack
[Statedef 827]
type = A
movetype = H
physics = N
;velset = 0,0


[State 827, 4]
type = null;ChangeAnim2
trigger1 = time = 0
value = 827


[State 827, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 827, Spark]
type = null;Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor(Pos Y)
sprpriority = 3


[State 828, 5]
type = null;Turn
trigger1 = time = 0

[State 827, 6]
type = null;VelSet
trigger1 = time = 0
x = ifelse(Vel X < 0,3,-3)




[State 827, 7]
type = VelAdd
trigger1 = time >= 0
y = .39


[State 827, 8]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100



;---------------------------------------------------------------------------
; Toss - Attempt

; Description: Throws are not difficult to make, although then can be
;     tedious at times. Throw attempt states have a HitDef of a
;     special format. The key parameters in a throw are p1stateno
;     and p2stateno. If the HitDef successfully connects, then
;     the attacker will change to the state number specified by
;     p1stateno, and the opponent will be change to the state
;     number assigned to p2stateno. The special thing about p2stateno
;     is that the opponent will be temporarily brought into the
;     attacker's state file. In this case, no matter who the
;     opponent is, he will be taken to state 820 of this file (kfm.cns)
;     and remain here until the end of the throw (look at his debug
;     information when he is being thrown; the text changes to yellow
;     to mean that he is in another player's state file).
[Statedef 830]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 0



; Notes: The '-' symbol in the hitflag field means that it only affects
;   players who are not in a hit state. This prevents from combo-ing
;   into the throw. The priority should be set to a low number, such as
;   1 or 2, so that the throw does not take precedence over normal attacks.
;   The type of priority must always be set to "Miss" or "Dodge" for throws,
;   otherwise strange behavior can result.
[State 830]
type = HitDef
trigger1 = hitcount < 1
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face p`
p1stateno = 840       ;On success, changes to state 840
p2stateno = 850       ;If hit, p2 changes to state 850
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down
hitsound = S1,12;1,9 
id = 800
;sparkno = S(8210+random%2)
;sparkxy = -10,-10

[State 830]
type = null;VarSet
trigger1 = AnimElem = 5
var(9) = 1
persistent = 0

[State 830]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Toss

[Statedef 840]
type    = S
movetype= A
physics = N
anim = 840
poweradd = 60
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0




[State 840]
type = null;Turn
trigger1 = Time = 0

[State 840]
type = null;Explod
trigger1 = Time = 0
anim = 7515
ontop = 1
pos = 85,-137


[State 840]
type = Explod
trigger1 = Time = 0
anim = 8210+ 10*(random%2) + random%2
ontop = 1
pos = 84,-14

[State 840]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 840]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 840]
type = TargetBind
trigger1 = AnimElemNo(0) = 1
pos = 86,-39

[State 840]
type = TargetBind
trigger1 = AnimElemNo(0) = 2
pos = 86,-19

[State 840]
type = TargetBind
trigger1 = AnimElemNo(0) = 3
pos = 86,0

[State 840]
type = TargetBind
trigger1 = AnimElemNo(0) = 4
pos = 86,0

[State 840]
type = TargetBind
trigger1 = AnimElemNo(0) = 5
pos = 86,0


[State 840]
type = varset
trigger1 = Time = 0
var(0) = 1

[State 840]
type = varadd
trigger1 = AnimElem = 6, >= 0
var(0) = 1


[State 840]
type = BindToTarget;TargetBind
trigger1 = var(0) <= 10
trigger1 = AnimElemNo(0) = [6,8]
trigger2 = AnimTime = 0
pos = (87 - var(0)*3) , -3*var(0)



[State 840]
type = BindToTarget;TargetBind
trigger1 = var(0) > 10
trigger1 = AnimElemNo(0) = [6,8]
trigger2 = AnimTime = 0
pos = (87 - var(0)*3) , -30 + 3*(var(0) - 10)



[State 840]
type = null;PlaySnd
trigger1 = AnimElem = 5
value = 220,0


[State 840]
type = null;Explod
trigger1 = AnimElem = 9
anim = 8200+random%2
pos = 89,-138
ownpal = 1
ontop = 1

[State 840]
type = Helper
trigger1 = AnimElem = 5
stateno = 7755
id = 7755
postype = p2

[State 840]
type = null;TargetLifeAdd
trigger1 = AnimElem = 5
value = -9*var(30)

[State 840]
type = null;HitAdd
trigger1 = Time%5 = 0
trigger1 = AnimElemNo(0) = [1,10]
value = 1

[State 840]
type = null;PowerAdd
trigger1 = AnimElem = 5
value = 50




[State 840]
type = TargetState
trigger1 = var(0) > 10 && p2bodydist y < 5
value = 851

[State 840]
type = ChangeState
trigger1 = var(0) > 10 && p2bodydist y < 5
value = 841

[State 840]
type = ChangeState
trigger1 = !NumTarget(800)
value = 843
ctrl = 0



;---------------------------------------------------------------------------
; Toss

[Statedef 841]
type    = S
movetype= A
physics = N
anim = 841
;poweradd = 60
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0


[State 841]
type = PosSet
trigger1 = Time = 0
y = 0

[State 841]
type = null;Turn
trigger1 = Time = 0

[State 841]
type = null;Explod
trigger1 = Time = 0
anim = 7515
ontop = 1
pos = 85,-137

[State 841]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 841]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 841]
type = BindToTarget;TargetBind
trigger1 = AnimElemNo(0) = 1
pos = 0,0

[State 841]
type = BindToTarget;TargetBind
trigger1 = AnimElemNo(0) = 2
trigger2 = AnimTime = 0
pos = 0,0

[State 841]
type = BindToTarget;TargetBind
trigger1 = AnimElemNo(0) = [3,5]
pos = 0,0



[state 841]
type = null;Explod
trigger1 = AnimElem = 1
anim = 7052
id = 7052
sprpriority = -4
ownpal = 1
pos = 42,0

[State 841]
type = null;EnvShake
trigger1 = AnimElem = 1
time = 30
ampl = -10
phase = 10
freq = 100


[State 841]
type = PlaySnd
trigger1 = AnimElem = 3 || AnimElem = 5
value = 310,0
persistent = 0

[State 841]
type = PlaySnd
trigger1 = AnimElem = 3 || AnimElem = 5
value = 1,12


[state 841]
type = Explod
trigger1 = AnimElem = 3 || AnimElem = 5
anim = 8200+10*(random%2)+random%2
sprpriority = 4
ownpal = 1
pos = 50,-10
random = 10,10

[State 841]
type = TargetLifeAdd
trigger1 = AnimElem = 3 || AnimElem = 5
value = -var(30)


[State 841]
type = PowerAdd
trigger1 = AnimElem = 3 || AnimElem = 5
value = 10


[State 841]
type = null;HitAdd
trigger1 = AnimElem = 3
value = 1


[State 841]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 841]
type = VarAdd
trigger1 = AnimElem = 5
var(1) = 1


[State 841]
type = TargetState
trigger1 = AnimElem = 5, >= 5 && var(1) = 3
value = 852

[State 841]
type = ChangeState
trigger1 = AnimElem = 5, >= 5 && var(1) = 3
value = 842

[State 841]
type = ChangeState
trigger1 = !NumTarget(800)
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Toss

[Statedef 842]
type    = S
movetype= A
physics = N
anim = 842
;poweradd = 60
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0


[State 842]
type = null;PosSet
trigger1 = Time = 0
y = 0

[State 842]
type = null;Turn
trigger1 = Time = 0

[State 842]
type = null;Explod
trigger1 = Time = 0
anim = 7515
ontop = 1
pos = 85,-137

[State 842]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 842]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 842]
type = BindToTarget;TargetBind
trigger1 = AnimElemNo(0) = 1
pos = 0,0

[State 842]
type = BindToTarget;TargetBind
trigger1 = AnimElemNo(0) = 2
pos = 0,0


[State 842]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,0


[State 842]
type = Helper
trigger1 = AnimElem = 1, = 2
stateno = 7755
id = 7755
ownpal = 1
postype = p2


[State 842]
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = -3*var(30)


[State 842]
type = PowerAdd
trigger1 = AnimElem = 1
value = 10


[State 842]
type = null;HitAdd
trigger1 = AnimElem = 3
value = 1


[State 842]
type = Pause 
trigger1 = AnimElem = 1, = 2
time = 7


[State 842]
type = TargetState
trigger1 = AnimTime = 0
value = 855

[State 842]
type = ChangeState
trigger1 = AnimTime = 0
value = 843

[State 842]
type = ChangeState
trigger1 = !NumTarget(800)
value = 0
ctrl = 1






;---------------------------------------------------------------------------
; Toss End

[Statedef 843]
type    = A
movetype= I
physics = N
;anim = 43
;poweradd = 60
juggle  = 0
velset = -3,-9
ctrl = 0
sprpriority = 0

[State 843]
type = null;ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 843]
type = null;ChangeAnim
trigger1 = Vel y > -4
trigger1 = SelfAnimExist(anim + 3)
value = Anim + 3
persistent = 0


[State 843]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5200
persistent = 0

[State 843]
type = null;ChangeAnim
trigger1 = AnimTime = 0
value = 43
elem = 5
persistent = 0

[State 843]
type = null;Turn
trigger1 = AnimElem = 8

[State 843]
type = null;VelSet
trigger1 = Time = 0
x = -3
y = -9



[State 843]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.4


[State 843]
type = null;PlayerPush
trigger1 = Time < 20
value = 0




[State 843]
type = null;VarAdd
trigger1 = AnimElem = 9, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 843]
type = null;ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 843]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
;Thrown

[Statedef 850]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 850]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 850]
type = null;SprPriority
trigger1 = AnimElem = 2
value = 1


[State 850]
type = ChangeAnim2
trigger1 = Time = 0
value = 850


[State 850]
type = null;PalFx
trigger1 = Time%2 = 0
trigger1 = AnimElemNo(0) = [1,10]
time = 1
add = -128,32,32
color = 0

[State 850]
type = Turn
trigger1 = facing = enemynear,facing


[State 850]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 850]
type = DestroySelf
trigger1 = ishelper



;---------------------------------------------------------------------------
;Thrown

[Statedef 851]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 851]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 851]
type = ChangeAnim2
trigger1 = Time = 0
value = 851


[State 851]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0



[State 851]
type = Turn
trigger1 = facing = enemynear,facing


[State 851]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 851]
type = DestroySelf
trigger1 = ishelper


;---------------------------------------------------------------------------
;Thrown

[Statedef 852]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 852]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 852]
type = ChangeAnim2
trigger1 = Time = 0
value = 851


[State 852]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0



[State 852]
type = null;Turn
trigger1 = facing = enemynear,facing


[State 852]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 852]
type = DestroySelf
trigger1 = ishelper


;---------------------------------------------------------------------------
;Thrown

[Statedef 853]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 853]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0



[State 853]
type = ChangeAnim2
trigger1 = Time = 0
value = 823



[State 853]
type = null;Turn
trigger1 = facing = enemynear,facing


[State 853]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 853]
type = DestroySelf
trigger1 = ishelper


;---------------------------------------------------------------------------
;Thrown

[Statedef 855]
type    = A
movetype= H
physics = N
velset = -17,-7
poweradd = 60
sprpriority = -1


[State 855]
type = ChangeAnim2
trigger1 = Time = 0
value = 823


[State 855]
type = null;Turn
trigger1 = Time = 0

[State 855]
type = null;VelSet
trigger1 = Time = 0
x = -11
y = -11

[State 855] ;Gravity
type = VelAdd
trigger1 = 1
y = 0.4


[State 855]
type = null;ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0


[State 855]
type = null;ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 825


[State 855]
type = null;SelfState
trigger1 = BackEdgeBodyDist <= 15
trigger2 = FrontEdgeBodyDist <= 15
value = 5040


[State 855]
type = null;SelfState
trigger1 = Vel Y > 2
value = 5040


[State 855] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground


;---------------------------------------------------------------------------
;Thrown

[Statedef 857]
type    = A
movetype= H
physics = N
velset = -30,-3
poweradd = 60


[State 857]
type = ChangeAnim2
trigger1 = Time = 0
value = 823


[State 857] ;Gravity
type = VelAdd
trigger1 = 1
y = .4


[State 857]
type = null;ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0


[State 857]
type = null;ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 825


[State 857]
type = null;SelfState
trigger1 = BackEdgeBodyDist <= 15
trigger2 = FrontEdgeBodyDist <= 15
value = 5040


[State 857]
type = null;SelfState
trigger1 = Vel Y > 2
value = 5040

[State 857] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground
;---------------------------------------------------------------------------
;Thrown

[Statedef 858]
type    = A
movetype= H
physics = N
velset = 0,17
poweradd = 60


[State 858]
type = ChangeAnim2
Trigger1 = Time = 0
value = 823


[State 858] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4


[State 858]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0


[State 858]
type = null;ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 825


[State 858]
type = null;SelfState
trigger1 = BackEdgeBodyDist <= 15
trigger2 = FrontEdgeBodyDist <= 15
value = 5040


[State 858]
type = null;SelfState
trigger1 = Vel Y > 2
value = 5040

[State 858] ;Hit ground
type = null;SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

[State 858] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 859 ;Hit ground

;---------------------------------------------------------------------------
;Thrown

[Statedef 859]
type    = A
movetype= H
physics = N
;velset = -7,-9
poweradd = 60

[State 850]
type = null;Turn
trigger1 = Time = 0


[State 859]
type = ChangeAnim2
trigger1 = Time = 0
value = 823


[State 859]
type = VelSet
trigger1 = Time = 0
x = -5
y = -7

[State 859] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4


[State 859]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 859]
type = null;ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0


[State 859]
type = null;ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 825


[State 859]
type = null;SelfState
trigger1 = BackEdgeBodyDist <= 15
trigger2 = FrontEdgeBodyDist <= 15
value = 5040


[State 859]
type = null;SelfState
trigger1 = Vel Y > 2
value = 5040

[State 859] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground



;---------------------------------------------------------------------------
; Air Throw - Attempt

[Statedef 920]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 920
sprpriority = 0



[State 920]
type = HitDef
trigger1 = hitcount < 1
attr = A, NT          ;Attributes: Standing, Normal Throw
hitflag = A-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face p`
p1stateno = 930       ;On success, changes to state 940
p2stateno = 940       ;If hit, p2 changes to state 940 
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down
hitsound = S1,9 
id = 800

[State 920]
type = null;CtrlSet
trigger1 = Time = 16
value = 1


[State 920]
type = null;VarSet
trigger1 = AnimElem = 4
var(9) = 1
persistent = 0




[State 920]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0


[State 920]
type = null;ChangeAnim
trigger1 = Time = 8
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))
persistent = 0

[State 920]
type = null;ChangeAnim
trigger1 = Vel y > -2
trigger1 = anim = [41,43]
trigger1 = SelfAnimExist(anim + 3)
value = Anim + 3
persistent = 0


[State 920]
type = VelAdd
trigger1 = Time >= 7; && !var(54)
y = 0.4


[State 920]
type = null;ChangeState
trigger1 = Time >= 8 && var(54)
value = 1335
ctrl = 1

[State 920]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



;---------------------------------------------------------------------------
; Air Throw

[Statedef 930]
type    = A
movetype= A
physics = N
anim = 930
poweradd = 60
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0

[State 930]
type = null;Turn
trigger1 = Time = 0


[State 930]
type = null;Explod
trigger1 = Time = 0
anim = 7515
ontop = 1
pos = 22,-178

[State 930]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 930]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 930]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamara = 0,0



[State 930]
type = TargetBind
trigger1 = AnimElemNo(0) = 1
pos = 11,-24

[State 930]
type = TargetBind
trigger1 = AnimElemNo(0) = 2
trigger2 = AnimTime = 0
pos = 11,-24

[State 930]
type = TargetBind
trigger1 = AnimElemNo(0) = 3
pos = 11,-24

[State 930]
type = TargetBind
trigger1 = AnimElemNo(0) = 4
pos = 11,-24



[State 930]
type = PlaySnd
trigger1 = AnimElem = 2, = 1 || AnimElem = 4
value = 310,0
persistent = 0

[State 930]
type = PlaySnd
trigger1 = AnimElem = 2, = 1 || AnimElem = 4
value = 1,12


[State 930]
type = Explod
trigger1 = AnimElem = 2, = 1 || AnimElem = 4
anim = 8200+10*(random%2)+random%2
sprpriority = 4
ownpal = 1
pos = 48,-5
random = 10,10

[State 930]
type = TargetLifeAdd
trigger1 = AnimElem = 2, = 1 || AnimElem = 4
value = -var(30)


[State 930]
type = PowerAdd
trigger1 = AnimElem = 2, = 1 || AnimElem = 4
value = 10



[State 930]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 930]
type = VarAdd
trigger1 = AnimElem = 4
var(1) = 1


[State 930]
type = TargetState
trigger1 = AnimElem = 4, >= 5 && var(1) = 2
value = 941


[State 930]
type = ChangeState
trigger1 = AnimElem = 4, >= 5 && var(1) = 2
value = 931
ctrl = 0



[State 930]
type = ChangeState
trigger1 = !NumTarget(800)
value = 935
ctrl = 1


;---------------------------------------------------------------------------
; Air Throw

[Statedef 931]
type    = S
movetype= A
physics = N
anim = 931
;poweradd = 60
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0

[State 931]
type = null;Turn
trigger1 = Time = 0


[State 931]
type = Explod
trigger1 = Time = 0
anim = 6930
ontop = 1
pos = 0,0

[State 931]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 931]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 931]
type = null;ScreenBound
trigger1 = Pos Y < -150
value = 0
movecamara = 0,0



[State 931]
type = TargetBind
trigger1 = AnimElemNo(0) = 1
pos = 21,-25

[State 931]
type = TargetBind
trigger1 = AnimElemNo(0) = 2
pos = 50,-6


[State 931]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,0


[State 931]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,12

[State 931]
type = null;Helper
trigger1 = AnimElem = 1, = 1
stateno = 7755
id = 7755
postype = p2

[State 931]
type = TargetLifeAdd
trigger1 = AnimElem = 1, = 1
value = -5*var(30)

[State 931]
type = PowerAdd
trigger1 = AnimElem = 1, = 1
value = 20


[State 931]
type = TargetState
trigger1 = AnimElem = 2, >= 2
value = 945

[State 931]
type = ChangeState
trigger1 = AnimElem = 2, >= 2
value = 935
ctrl = 0


[State 931]
type = ChangeState
trigger1 = !NumTarget(800)
value = 935;+635*(StateType = A)
ctrl = 1


;---------------------------------------------------------------------------
; Air Throw

[Statedef 932]
type    = A
movetype= A
physics = N
anim = 932
;poweradd = 60
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2

[State 932]
type = null;Turn
trigger1 = Time = 0


[State 932]
type = null;Explod
trigger1 = Time = 0
anim = 7515
ontop = 1
pos = 22,-178

[State 932]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 932]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 932]
type = TargetBind
trigger1 = AnimElemNo(0) = 1
pos = -1,0



[State 932]
type = ScreenBound
trigger1 = 1
value = 0
movecamara = 0,1

[State 932]
type = PlaySnd
trigger1 = Time = 0
value = 52,4



[State 932]
type = EnvShake
trigger1 = Time = 0
time = 8

[State 932]
type = Explod
trigger1 = Time = 0
anim = 8200+random%2
ontop = 1
pos = 10,0
ownpal = 1


[State 932]
type = TargetLifeAdd
trigger1 = Time = 0
value = -10*var(30)

[State 932]
type = PowerAdd
trigger1 = Time = 0
value = 50

[State 932]
type = TargetState
trigger1 = Time = 12
value = 943

[State 932]
type = ChangeState
trigger1 = Time = 12
value = 935
ctrl = 0


[State 932]
type = ChangeState
trigger1 = !NumTarget(800)
value = 935
ctrl = 1


;---------------------------------------------------------------------------
; Air Throw

[Statedef 933]
type    = A
movetype= A
physics = N
anim = 933
;poweradd = 60
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2

[State 933]
type = null;Turn
trigger1 = Time = 0


[State 933]
type = null;Explod
trigger1 = Time = 0
anim = 7515
ontop = 1
pos = 22,-178

[State 933]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 933]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 933]
type = TargetBind
trigger1 = AnimElemNo(0) = 1
pos = 20,-69


[State 933]
type = TargetBind
trigger1 = AnimElemNo(0) = 2
pos = 15,-39


[State 933]
type = TargetLifeAdd
trigger1 = AnimElem = 2, = 3
value = -10*var(30)

[State 933]
type = PowerAdd
trigger1 = AnimElem = 2, = 3
value = 50

[State 933]
type = TargetState
trigger1 = AnimElem = 2, = 3
value = 943

[State 933]
type = ChangeState
trigger1 = AnimElem = 2, = 3
value = 935
ctrl = 0


[State 933]
type = ChangeState
trigger1 = !NumTarget(800)
value = 935
ctrl = 1


;---------------------------------------------------------------------------
; Air Throw End

[Statedef 935]
type    = A
movetype= I
physics = N
;anim = 43
;poweradd = 60
juggle  = 0
velset = -2,-7
ctrl = 0
sprpriority = 0



[State 935]
type = null;PlayerPush
trigger1 = Time < 10
value = 0


[State 935]
type = null;VarSet
trigger1 = var(57)
var(57) = 0
persistent = 0


[State 935]
type = null;AfterImage
trigger1 = !var(57)
time = 0
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3


[State 935]
type = null;ChangeState
trigger1 = AnimTime = 0 && var(54)
value = 1335
ctrl = 1

[State 935]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 42
elem = 5
persistent = 0

[State 935]
type = null;ChangeAnim
trigger1 = Vel y > -2
trigger1 = anim = [41,43]
trigger1 = SelfAnimExist(anim + 3)
value = Anim + 3
persistent = 0

[State 935]
type = VelAdd
trigger1 = Pos Y < 0; && !var(54)
trigger2 = Anim = [41,71]
y = 0.4


[State 935]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


[State 935]
type = null;ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Thrown 

[Statedef 940]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 940]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0



[State 940]
type = null;SprPriority
trigger1 = AnimElem = 2
value = 1

[State 940]
type = ChangeAnim2
trigger1 = Time = 0
value = 940


[State 940]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 940]
type = DestroySelf
trigger1 = ishelper


;---------------------------------------------------------------------------
;Thrown 

[Statedef 941]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 941]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0


[State 941]
type = ChangeAnim2
trigger1 = Time = 0
value = 941

[State 941]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 941]
type = DestroySelf
trigger1 = ishelper



;---------------------------------------------------------------------------
;Thrown 

[Statedef 942]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 3

[State 942]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0


[State 942]
type = ChangeAnim2
trigger1 = Time = 0
value = 942

[State 942]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 942]
type = DestroySelf
trigger1 = ishelper


;---------------------------------------------------------------------------
;Thrown 
[Statedef 943]
type    = A
movetype= H
physics = N
;velset = -9,-9
poweradd = 60



[State 943]
type = null;ChangeAnim2
trigger1 = Time = 0
value = 823



[State 943] ;Gravity
type = null;Turn
trigger1 = Time = 0


[State 943] ;Gravity
type = VelSet
trigger1 = Time = 0
x = -13
y = -5

[State 943] ;Gravity
type = VelAdd
trigger1 = 1
y = 0.4


[State 943]
type = null;ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0


[State 943]
type = null;SelfState
trigger1 = BackEdgeBodyDist <= 15
trigger2 = FrontEdgeBodyDist <= 15
value = 5040


[State 943]
type = null;SelfState
trigger1 = Vel Y > 2 
value = 5040

[State 943] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground


;---------------------------------------------------------------------------
;Thrown 
[Statedef 944]
type    = A
movetype= H
physics = N
velset = -4,10
poweradd = 60



[State 944]
type = null;ChangeAnim2
trigger1 = Time = 0
value = 822


[State 944] ;Gravity
type = VelAdd
trigger1 = 1
y = .4


[State 944]
type = null;ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0


[State 944]
type = null;SelfState
trigger1 = BackEdgeBodyDist <= 15
trigger2 = FrontEdgeBodyDist <= 15
value = 5040


[State 944]
type = null;SelfState
trigger1 = Vel Y > 3
value = 5040

[State 944] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground



;---------------------------------------------------------------------------
;Thrown 
[Statedef 945]
type    = A
movetype= H
physics = N
velset = -13,9
poweradd = 60



[State 945]
type = null;ChangeAnim2
trigger1 = Time = 0
value = 823


[State 945] ;Gravity
type = VelAdd
trigger1 = 1
y = .4


[State 945]
type = null;ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0


[State 945]
type = null;SelfState
trigger1 = BackEdgeBodyDist <= 15
trigger2 = FrontEdgeBodyDist <= 15
value = 5040


[State 945]
type = null;SelfState
trigger1 = Vel Y > 3 
value = 5040

[State 945] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground


;---------------------------------------------------------------------------
; Air Toss - Attempt

[Statedef 950]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 920
sprpriority = 2



[State 950]
type = HitDef
trigger1 = hitcount < 1
attr = A, NT          ;Attributes: Standing, Normal Throw
hitflag = A-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face p`
p1stateno = 960       ;On success, changes to state 960
p2stateno = 970       ;If hit, p2 changes to state 970 
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down
hitsound = S1,9 
id = 800

[State 950]
type = CtrlSet
trigger1 = Time = 10
value = 1

[State 950]
type = ChangeAnim
trigger1 = Time = 8
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))
persistent = 0

[State 950]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = anim = [41,43]
trigger1 = SelfAnimExist(anim + 3)
value = Anim + 3
persistent = 0


[State 950]
type = VelAdd
trigger1 = Time >= 7 && !var(54)
y = 0.4


[State 950]
type = ChangeState
trigger1 = Time >= 8 && var(54)
value = 1335
ctrl = 1

[State 950, 2]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
; Air Toss

[Statedef 960]
type    = A
movetype= A
physics = N
anim = 960
poweradd = 60
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0

[State 960]
type = null;Turn
trigger1 = Time = 0


[State 960];Bind 1
type = TargetBind
trigger1 = AnimElemNo(0) = 1
pos = 73,-121

[State 960];Bind 2
type = TargetBind
trigger1 = AnimElemNo(0) = 2
pos = 57,-140

[State 960];Bind 3
type = TargetBind
trigger1 = AnimElemNo(0) = 3
pos = 8,-137

[State 960];Bind 4
type = TargetBind
trigger1 = AnimElemNo(0) = 4
pos = 3,-56

[State 960]
type = PlaySnd
trigger1 = AnimElem = 4
value = 220,0




[State 960]
type = TargetState
trigger1 = AnimElem = 4, >= 3
value = 975

[State 960]
type = ChangeState
trigger1 = AnimElem = 4, >= 3
value = 965

[State 960]
type = ChangeState
trigger1 = !NumTarget(800)
value = 0+635*(StateType != A)
ctrl = 1


;---------------------------------------------------------------------------
; Air Throw End

[Statedef 965]
type    = A
movetype= I
physics = N
;anim = 70
;poweradd = 60
juggle  = 0
;velset = -3,-7
velset = 0,0
ctrl = 0
sprpriority = 0


[State 965]
type = Turn
trigger1 = AnimElem = 5

[State 965]
type = null;PlayerPush
trigger1 = Time < 10
value = 0


[State 965]
type = null;VarSet
trigger1 = var(57)
var(57) = 0
persistent = 0


[State 965]
type = null;AfterImage
trigger1 = !var(57)
time = 0
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3


[State 965]
type = ChangeState
trigger1 = AnimTime = 0 && var(54)
value = 1335
ctrl = 1

[State 965]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0

[State 965]
type = VelAdd
trigger1 = Pos Y < 0 && !var(54)
trigger2 = Anim = 70
y = 0.4


[State 965]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


[State 965]
type = null;ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1



;---------------------------------------------------------------------------
;Thrown

[Statedef 970]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 970]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 970]
type = ChangeAnim2
trigger1 = Time = 0
value = 970


[State 970]
type = SprPriority
trigger1 = AnimElem = 3
value = 1

[State 970]
type = null;Turn
trigger1 = facing = enemynear,facing

[State 970]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 970]
type = DestroySelf
trigger1 = ishelper


;---------------------------------------------------------------------------
;Thrown 
[Statedef 975]
type    = A
movetype= H
physics = N
;velset = -1,7
poweradd = 60


[State 975]
type = Turn
trigger1 = Time = 0


[State 975]
type = null;ChangeAnim2
trigger1 = Time = 0
value = 823


[State 975]
type = VelSet
trigger1 = Time = 0
x = -3
y = 9

[State 975] ;Gravity
type = VelAdd
trigger1 = 1
y = .4


[State 975]
type = null;ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0


[State 975]
type = null;SelfState
trigger1 = BackEdgeBodyDist <= 15
trigger2 = FrontEdgeBodyDist <= 15
value = 5040


[State 975]
type = null;SelfState
trigger1 = Vel Y > 3 
value = 5040

[State 975] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground



;------------------------------------------------------------------------------------------------------------
; Air Land
[Statedef 1320]
type = A
movetype = I
physics = N
anim = 70
;ctrl = 0
sprpriority = 0
;poweradd= 65
velset = 0,0
facep2 = 1


[State 1320]
type = null;StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0



[State 1320]
type = null;ChangeState
triggerall = var(54)
trigger1 = AnimTime = 0
trigger2 = Anim = 70
value = 1335
ctrl = 1

[State 1320]
type = VelAdd
trigger1 = anim = 70; && !var(54)
y = 0.4


[State 1320]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0

;---------------------------------------------------------------------------
;Flight
[Statedef 1330]
type    = A
movetype= I
physics = N
juggle  = 3
poweradd= 20
ctrl = 0
velset = 0,-4
anim = 1330
sprpriority = 2


[State 1330]
type = PlaySnd
trigger1 = Time = 1
value = 100,0


[State 1330]
type = VarSet
trigger1 = Time = 0
var(54) = 1

[State 1330]
type = ChangeState
trigger1 = AnimTime = 0 && var(54) >= 1
value = 1335
ctrl = 0


;---------------------------------------------------------------------------
;Flight Cancel
[Statedef 1331]
type    = A
movetype= I
physics = N
juggle  = 3
poweradd= 20
ctrl = 0
velset = 0,0
;anim = 70
sprpriority = 2


[State 1331]
type = ChangeAnim
trigger1 = Time = 0
value = 70



[State 1331]
type = VarSet
trigger1 = Time = 0
var(54) = 0


[State 1331]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.35



[State 1331]
type = CtrlSet
trigger1 = Time = 1
value = 1


[State 1331]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
;Flight End
[Statedef 1332]
type    = A
movetype= I
physics = A
juggle  = 3
;poweradd= 40
ctrl = 1
velset = 0,0
;anim = 1332
sprpriority = 2


[State 1331]
type = VarSet
trigger1 = Time = 0
var(54) = 0

[State 1332]
type = ChangeAnim
trigger1 = Time = 0
value = 70

[State 1332]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
;Flight after S Jump
[Statedef 1333]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 1333]
type = PlaySnd
trigger1 = Time = 1
value = 7710,0
channel = 1

[State 1333]
type = Explod
trigger1 = Time = 1
anim = 7055
ownpal = 1

[State 1333]
type = Explod
trigger1 = Time = 1
anim = 7055
facing = -1
ownpal = 1

[State 1333]
type = Explod
trigger1 = Time = 1
anim = 7022
sprpriority = 4
ownpal = 1

[State 1333, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 1333, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 1333, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 1333, 4]
type = null;VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y) - 3

[State 1333, 4]
type = null;VelSet
trigger1 = AnimTime = 0
x = (P2Dist X)*0.07
y = (P2Dist Y)*0.07

[State 1333, 5]
type = null;VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 1333, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1334
ctrl = 0


;---------------------------------------------------------------------------
; Super Jump Up
[Statedef 1334]
type    = A
physics = N


[State 1334, 4]
type = null;VelSet
trigger1 = 1;Time = 0
y = -11


[State 1334, 4]
type = VelSet
trigger1 = Time = 0
y = -15;-13

[State 1334, 4]
type = VelAdd
trigger1 = 1
y = 0.35;0.4



[State 1334]
type = veladd
triggerall = vel x <= 4
trigger1 = var(59)
trigger1 = p2bodydist x >= 0
persistent = 4
x = .9


[State 1334]
type = veladd
triggerall = vel x >= -4
trigger1 = var(59) 
trigger1 = p2bodydist x <= 0
persistent = 4
x = -.9


[State 1334,4]
type = null;VelAdd
triggerall = command = "holdfwd"
trigger1 = sysvar(1) = 1
trigger1 = vel X <=4
trigger2 = sysvar(1) = -1
trigger2 = Vel X <= -.4
x = .2

[State 1334,5]
type = null;VelAdd
triggerall = command = "holdback"
trigger1 = sysvar(1) = -1
trigger1 = Vel X >= -4
trigger2 = sysvar(1) = 1
trigger2 = Vel X >= .4
x = -.2

[State 1334, 1]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1


[State 1334]
type = Explod
trigger1 = Time%4 = 0
trigger1 = Time >= 4
trigger1 = Vel Y < 0
anim = 7056
pos = 0,0
random = 50,0
ontop = 1

[State 1334]
type = Explod
trigger1 = Time%2 = 0
trigger1 = Time >= 12
trigger1 = Vel Y < 0
anim = 7057+random%3
pos = 0,0
random = 60,0
ontop = 1


[State 1334, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 1334, 3]
type = ChangeAnim
trigger1 = Vel y > -4
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 1334]
type = turn
trigger1 = p2dist x < -5


[State 1334]
type = ChangeState
trigger1 = Vel Y > -1
value = 1330

;---------------------------------------------------------------------------
; Flight
[Statedef 1335]
type    = A
physics = N
anim = 1331
velset = 0,0
movetype= I
sprpriority = 2
ctrl = 1




[State 1335]
type = Turn
trigger1 = FrontEdgeDist < 15
trigger2 = enemy(0),facing = facing
trigger2 = Time%4 = 0


[State 1335]
type = PosAdd
trigger1 = Pos Y > -10
y = -4

[State 1335]
type = VarSet
trigger1 = 1
sysvar(1) = 0


[State 1335]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 1335]
type = null;ChangeAnim
trigger1 = Anim = [41,43]
persistent = 0
value = Anim + 3

[State 1335]
type = VarSet
trigger1 = p2bodydist x != 0
var(1) = ifelse((p2bodydist y/p2bodydist x = [0.4,0.8]),1,0)


[State 1335]
type = ChangeState
trigger1 = var(59) 
trigger1 = !var(1)
trigger1 = p2bodydist x > 200
value = 1340


[State 1335]
type = ChangeState
trigger1 = var(59) 
trigger1 = !var(1)
trigger1 = p2bodydist x < 70
value = ifelse(BackEdgeDist > 70,1345,1340)

[State 1335]
type = ChangeState
trigger1 = var(59) 
trigger1 = !var(1)
trigger1 = p2bodydist y < 170;240
value = 1342


[State 1335]
type = ChangeState
trigger1 = var(59) 
trigger1 = !var(1)
trigger1 = p2bodydist y > 240;480
value = 1344


[State 1335]
type = VarSet
trigger1 = command = "holdfwd"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger2 = var(59) 
trigger2 = !var(1)
trigger2 = p2bodydist x > 200
sysvar(1) = 1


[State 1335]
type = VarSet
trigger1 = command = "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger2 = var(59) 
trigger2 = !var(1)
trigger2 = p2bodydist x < 70
sysvar(1) = -1


[State 1335, 3]
type = VarSet
trigger1 = command = "holdfwd"
trigger1 = command = "holdup"
sysvar(1) = 2


[State 1335, 3]
type = VarSet
trigger1 = command = "holdback"
trigger1 = command = "holdup"
sysvar(1) = -2



[State 1335, 3]
type = VarSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "holdup"
trigger2 = var(59)
trigger2 = !var(1)
trigger2 = p2bodydist y < 170
sysvar(1) = 3

[State 1335, 3]
type = VarSet
trigger1 = command = "holddown"
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger2 = var(59)
trigger2 = !var(1)
trigger2 = p2bodydist y > 240
sysvar(1) = -3



[State 1335, 3]
type = VarSet
trigger1 = command = "holdfwd"
trigger1 = command = "holddown"
sysvar(1) = 4

[State 1335, 3]
type = VarSet
trigger1 = command = "holddown"
trigger1 = command = "holdback"
sysvar(1) = -4

[State 1335, 3]
type = null;ChangeAnim
trigger1 = anim != 103
value = 103
persistent = 0

[State 1335, 3]
type = null;ChangeAnim
triggerall = anim != 102
trigger1 = sysvar(1) = 0
value = 102
persistent = 0

[State 1335]
type = null;ChangeAnim
triggerall = anim != 101
trigger1 = sysvar(1) = 1
trigger2 = sysvar(1) = 2
value = 101
persistent = 0


[State 1335]
type = VarSet
trigger1 = command = "x" && command = "y"
var(1) = 4

[State 1335]
type = ChangeAnim
triggerall = anim != 1340
trigger1 = sysvar(1) = 1
value = 1340

[State 1335]
type = ChangeAnim
triggerall = anim != 1341
trigger1 = sysvar(1) = -1
value = 1341


[State 1335]
type = ChangeAnim
triggerall = anim != 1340
trigger1 = sysvar(1) = 2
value = 1340

[State 1335]
type = ChangeAnim
triggerall = anim != 1341
trigger1 = sysvar(1) = -2
value = 1341


[State 1335]
type = ChangeAnim
triggerall = anim != 1342
trigger1 = sysvar(1) = 3
value = 1342


[State 1335]
type = ChangeAnim
triggerall = anim != 1342
trigger1 = sysvar(1) = -3
value = 1342


[State 1335]
type = ChangeAnim
triggerall = anim != 1340
trigger1 = sysvar(1) = 4
value = 1340

[State 1335]
type = ChangeAnim
triggerall = anim != 1341
trigger1 = sysvar(1) = -4
value = 1341


[State 1335]
type = VelSet
trigger1 = sysvar(1) = 0
y = 0
x = 0

[State 1335]
type = VelSet
trigger1 = sysvar(1) = 1
x = 4
y = 0

[State 1335]
type = VelSet
trigger1 = sysvar(1) = -1
x = -4
y = 0

[State 1335]
type = VelSet
trigger1 = sysvar(1) = 2
x = 4
y = -5+5*(ScreenPos Y < 120)



[State 1335]
type = VelSet
trigger1 = sysvar(1) = -2
x = -4
y = -5+5*(ScreenPos Y < 120)




[State 1335]
type = VelSet
trigger1 = sysvar(1) = 3
y = -5+5*(ScreenPos Y < 120)
x = 0


[State 1335]
type = VelSet
trigger1 = sysvar(1) = -3
y = 5-5*(Pos Y > -20)
x = 0


[State 1335]
type = VelSet
trigger1 = sysvar(1) = 4
y = 5-5*(Pos Y > -20)
x = 4


[State 1335]
type = VelSet
trigger1 = sysvar(1) = -4
y = 5-5*(Pos Y > -20)
x = -4


[State 1335]
type = null;VarSet
trigger1 = Time = 0
var(22) = 0


[State 1335]
type = null;PlaySnd
trigger1 = sysvar(1) != 0
trigger1 = var(22) != sysvar(1)
value = 100,0


[State 1335]
type = null;VarSet
trigger1 = sysvar(1) != 0
trigger1 = var(22) != sysvar(1)
var(22) = sysvar(1)


[State 1335]
type = ChangeAnim
triggerall = anim != 1331
trigger1 = sysvar(1) = 0
value = 1331

[State 1335]
type = ChangeState
trigger1 = var(54) = 0
value = 1331
ctrl = 0




;----------------------------------------------------------
; Air Dash Forward
[Statedef 1340]
type    = A
physics = N
anim = 1340
sprpriority = 0
velset = 0,0
ctrl = 1

[State 1340]
type = null;PlaySnd
trigger1 = Time = 1
value = 105,2


[State 1340]
type = PlaySnd
trigger1 = Time = 1
value = 1430,0



[State 1340]
type = PlaySnd
trigger1 = AnimElem = 5
value = 200,0

[State 1340]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,2


[State 1340]
type = PosAdd
trigger1 = AnimElem = 2
x = 7
y = -9


[State 1340]
type = PosAdd
trigger1 = AnimElem = 3
x = 0
y = -4

[State 1340]
type = PosAdd
trigger1 = AnimElem = 4
x = 0
y = -7


[State 1340]
type = PosAdd
trigger1 = AnimElem = 5
x = 0
y = -3

[State 1340]
type = PosAdd
trigger1 = AnimElem = 6
x = 0
y = 3

[State 1340]
type = PosAdd
trigger1 = AnimElem = 7
x = 3
y = 5

[State 1340]
type = PosAdd
trigger1 = AnimElem = 8
x = 3
y = 3

[State 1340]
type = PosAdd
trigger1 = AnimElem = 9
x = 7
y = 7

[State 1340]
type = PosAdd
trigger1 = AnimElem = 10
x = 4
y = 4

[State 1340]
type = PosAdd
trigger1 = AnimElem = 11
x = 6
y = 4

[State 1340]
type = PosAdd
trigger1 = AnimElem = 12
x = 7
y = 6

[State 1340]
type = PosAdd
trigger1 = AnimElem = 13
x = 7
y = 4

[State 1340]
type = PosAdd
trigger1 = AnimElem = 14
x = 10
y = 4

[State 1340]
type = PosAdd
trigger1 = AnimElem = 15
x = 28
y = 0


[State 1340]
type = PosAdd
trigger1 = AnimElem = 16
x = 14
y = 0

[State 1340]
type = PosAdd
trigger1 = AnimElem = 17
x = 13
y = 0

[State 1340]
type = PosAdd
trigger1 = AnimElem = 18
x = 25
y = 0


[State 1340]
type = PosAdd
trigger1 = AnimElem = 19
x = 16
y = 0

[State 1340]
type = PosAdd
trigger1 = AnimElem = 20
x = 15
y = -1

[State 1340]
type = PosAdd
trigger1 = AnimElem = 21
x = 24
y = -14

[State 1340]
type = PosAdd
trigger1 = AnimElem = 22
x = 17
y = 3

[State 1340]
type = null;VelSet
trigger1 = AnimElemNo(0) = [1,2]
x = 9


[State 1340] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1340]
type = CtrlSet
trigger1 = Time = 4
value = 1


[State 1340]
type = null;ChangeState
trigger1 = Time = 20 && var(54)
value = 1335
ctrl = 1

[State 1340]
type = null;ChangeState
trigger1 = Time = 20 && !var(54)
value = 635
ctrl = 1


[State 1340]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 1341
persistent = 0

[State 1340]
type = null;PosAdd
trigger1 = Anim = 1341
x = 195
y = 7
persistent = 0


[State 1340]
type = VelSet
trigger1 = Anim = 1341
x = 3
y = -7
persistent = 0


[State 1340]
type = VelAdd
trigger1 = Anim = 1341 || Anim = 70
y = 0.4


[State 1340]
type = ChangeAnim
trigger1 = AnimTime = 0 && Anim = 1341
value = 70
persistent = 0



[State 1340]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52
ctrl = 0

;----------------------------------------------------------
; Air Dash Forward Up
[Statedef 1341]
type    = A
physics = N
anim = 1340
sprpriority = 0
velset = 0,0


[State 1341]
type = PlaySnd
trigger1 = Time = 2
value = 105,2


[State 1341]
type = VelSet
trigger1 = 1
x = 7
y = -14

[State 1341] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1341]
type = CtrlSet
trigger1 = Time = 4
value = 1


[State 1341]
type = VelSet
trigger1 = ScreenPos Y < 120
x = 0
y = 0


[State 1341]
type = ChangeState
trigger1 = Time = 17 && var(54)
value = 1335
ctrl = 1

[State 1341]
type = ChangeState
trigger1 = Time = 17 && !var(54)
value = 1332
ctrl = 1



;----------------------------------------------------------
; Air Dash Up
[Statedef 1342]
type    = A
physics = N
anim = 1342
sprpriority = 0
velset = 0,0


[State 1342]
type = null;ChangeAnim
trigger1 = Time = 0
value = 41
elem = 2


[State 1342]
type = PlaySnd
trigger1 = Time = 3
value = 105,2


[State 1342]
type = VelSet
trigger1 = 1
x = 0
y = -12


[State 1342]
type = VelSet
trigger1 = ScreenPos Y < 120
x = 0
y = 0

[State 1342] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1342]
type = CtrlSet
trigger1 = Time = 4
value = 1


[State 1342]
type = ChangeState
trigger1 = Time = 17 && var(54)
value = 1335
ctrl = 1

[State 1342]
type = ChangeState
trigger1 = Time = 17 && !var(54)
value = 1332
ctrl = 1



;----------------------------------------------------------
; Air Dash Forward Down
[Statedef 1343]
type    = A
physics = N
anim = 1340
sprpriority = 0
velset = 0,0


[State 1343]
type = PlaySnd
trigger1 = Time = 3
value = 105,2


[State 1343]
type = VelSet
trigger1 = 1
x = 7
y = 14

[State 1343] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1343]
type = CtrlSet
trigger1 = Time = 4
value = 1


[State 1343]
type = ChangeState
trigger1 = (Time = 17 || Pos Y >= 0) && var(54)
value = 1335
ctrl = 1

[State 1343]
type = ChangeState
trigger1 = (Time = 17 || Pos Y >= 0) && !var(54)
value = 1332
ctrl = 1


;----------------------------------------------------------
; Air Dash Down
[Statedef 1344]
type    = A
physics = N
anim = 1342
sprpriority = 0
velset = 0,0



[State 1344]
type = PlaySnd
trigger1 = Time = 3
value = 105,2


[State 1344]
type = VelSet
trigger1 = 1
x = 0
y = 12


[State 1344] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1344]
type = CtrlSet
trigger1 = Time = 4
value = 1


[State 1344]
type = ChangeState
trigger1 = (Time = 17 || Pos Y >= 0) && var(54)
value = 1335
ctrl = 1

[State 1344]
type = ChangeState
trigger1 = (Time = 17 || Pos Y >= 0) && !var(54)
value = 1332
ctrl = 1



;---------------------------------------------------------------------------
; Air Dash Back
[Statedef 1345]
type    = A
physics = N
ctrl = 0
anim = 1341
sprpriority = 0


[State 1345]
type = PlaySnd
trigger1 = Time = 3
value = 105,2

[State 1345]
type = VelSet
trigger1 = AnimElemNo(0) = [1,2]
x = -9


[State 1345] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1345]
type = CtrlSet
trigger1 = Time = 4
value = 1



[State 1345]
type = ChangeState
trigger1 = Time = 17 && var(54)
value = 1335
ctrl = 1

[State 1345]
type = ChangeState
trigger1 = Time = 17 && !var(54)
value = 1332
ctrl = 1


;---------------------------------------------------------------------------
; Air Dash Back Up
[Statedef 1346]
type    = A
physics = N
ctrl = 0
anim = 1341
sprpriority = 0


[State 1346]
type = PlaySnd
trigger1 = Time = 3
value = 105,2

[State 1346]
type = VelSet
trigger1 = 1
x = -7
y = -14


[State 1346] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1346]
type = CtrlSet
trigger1 = Time = 4
value = 1


[State 1346]
type = VelSet
trigger1 = ScreenPos Y < 120
x = 0
y = 0

[State 1346]
type = ChangeState
trigger1 = Time = 17 && var(54)
value = 1335
ctrl = 1

[State 1346]
type = ChangeState
trigger1 = Time = 17 && !var(54)
value = 1332
ctrl = 1


;---------------------------------------------------------------------------
; Air Dash Back Down
[Statedef 1347]
type    = A
physics = N
ctrl = 0
anim = 1341
sprpriority = 0

[State 1347]
type = PlaySnd
trigger1 = Time = 3
value = 105,2

[State 1347]
type = VelSet
trigger1 = 1
x = -7
y = 14


[State 1347] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1347]
type = CtrlSet
trigger1 = Time = 4
value = 1


[State 1347]
type = ChangeState
trigger1 = (Time = 17 || Pos Y >= 0) && var(54)
value = 1335
ctrl = 1

[State 1347]
type = ChangeState
trigger1 = (Time = 17  || Pos Y >= 0) && !var(54)
value = 1332
ctrl = 1



;---------------------------------------------------------------------------
;Warp Top Left
[Statedef 1400]
type    = U
movetype= I
physics = N
juggle  = 3
poweradd= 10
ctrl = 0
velset = 0,0
anim = 1400
sprpriority = 0


[State 1400]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1


[State 1400]
type = PosSet
trigger1 = AnimElem = 12, = 6
y = -100

[State 1400]
type = PosSet
trigger1 = Pos X != -100
trigger1 = AnimElem = 12, >= 7
x = -100

[State 1400]
type = Turn
trigger1 = AnimElem = 12, = 7
trigger1 = p2bodydist x < -5

[State 1400]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1400,0

[State 1400]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1400,1

[State 1400]
type = PlaySnd
trigger1 = AnimElem = 13
value = 1400,2


[State 1400]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21400
ownpal = 1


[State 1400]
type = null;Helper
trigger1 = AnimElem = 9
stateno = 21405
ownpal = 1


[State 1405]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21410
ownpal = 1


[State 1400]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21415
ownpal = 1


[State 1400]
type = null;Helper
trigger1 = AnimElem = 9
stateno = 21420
ownpal = 1


[State 1400]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21425
ownpal = 1





[State 1400]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0

[State 1400]
type = VelAdd
trigger1 = Anim = 70
y = 0.4


[State 1400]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0

[State 1400]
type = CtrlSet
trigger1 = Anim = 70
value = 1


[State 1400]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


[State 1400]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 1400]
type = Helper
trigger1 = Time = 0
stateno = 21401

[State 1400]
type = ChangeState
trigger1 = var(4)
value = var(4)
ctrl = 0




;---------------------------------------------------------------------------
;Warp Top Middle
[Statedef 1405]
type    = U
movetype= I
physics = N
juggle  = 3
poweradd= 10
ctrl = 0
velset = 0,0
anim = 1400
sprpriority = 0


[State 1405]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1


[State 1405]
type = PosSet
trigger1 = AnimElem = 12, = 6
y = -100

[State 1405]
type = PosSet
trigger1 = Pos X != -100
trigger1 = AnimElem = 12, >= 7
x = -100

[State 1405]
type = Turn
trigger1 = AnimElem = 12, = 7
trigger1 = p2bodydist x < -5

[State 1405]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1400,0

[State 1405]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1400,1

[State 1405]
type = PlaySnd
trigger1 = AnimElem = 13
value = 1400,2


[State 1405]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21400
ownpal = 1


[State 1405]
type = null;Helper
trigger1 = AnimElem = 9
stateno = 21405
ownpal = 1


[State 1405]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21410
ownpal = 1


[State 1405]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21415
ownpal = 1


[State 1405]
type = null;Helper
trigger1 = AnimElem = 9
stateno = 21420
ownpal = 1


[State 1405]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21425
ownpal = 1





[State 1405]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0

[State 1405]
type = VelAdd
trigger1 = Anim = 70
y = 0.4


[State 1405]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0

[State 1405]
type = CtrlSet
trigger1 = Anim = 70
value = 1


[State 1405]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


[State 1405]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 1405]
type = Helper
trigger1 = Time = 0
stateno = 21401

[State 1405]
type = ChangeState
trigger1 = var(4)
value = var(4)
ctrl = 0





;---------------------------------------------------------------------------
;Warp Top Right
[Statedef 1410]
type    = U
movetype= I
physics = N
juggle  = 3
poweradd= 10
ctrl = 0
velset = 0,0
anim = 1400
sprpriority = 0


[State 1410]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1


[State 1410]
type = PosSet
trigger1 = AnimElem = 12, = 6
y = -100

[State 1410]
type = PosSet
trigger1 = Pos X != 100
trigger1 = AnimElem = 12, >= 7
x = 100

[State 1410]
type = Turn
trigger1 = AnimElem = 12, = 7
trigger1 = p2bodydist x < -5

[State 1410]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1400,0

[State 1410]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1400,1

[State 1410]
type = PlaySnd
trigger1 = AnimElem = 13
value = 1400,2


[State 1410]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21400
ownpal = 1


[State 1410]
type = null;Helper
trigger1 = AnimElem = 9
stateno = 21405
ownpal = 1


[State 1405]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21410
ownpal = 1


[State 1410]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21415
ownpal = 1


[State 1410]
type = null;Helper
trigger1 = AnimElem = 9
stateno = 21420
ownpal = 1


[State 1410]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21425
ownpal = 1





[State 1410]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0

[State 1410]
type = VelAdd
trigger1 = Anim = 70
y = 0.4


[State 1410]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0

[State 1410]
type = CtrlSet
trigger1 = Anim = 70
value = 1


[State 1410]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



[State 1410]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 1410]
type = Helper
trigger1 = Time = 0
stateno = 21401

[State 1410]
type = ChangeState
trigger1 = var(4)
value = var(4)
ctrl = 0





;---------------------------------------------------------------------------
;Warp Bottom Left
[Statedef 1415]
type    = U
movetype= I
physics = N
juggle  = 3
poweradd= 10
ctrl = 0
velset = 0,0
anim = 1400
sprpriority = 0


[State 1415]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1


[State 1415]
type = PosSet
trigger1 = AnimElem = 12, = 6
y = 0

[State 1415]
type = PosSet
trigger1 = Pos X != -100
trigger1 = AnimElem = 12, >= 7
x = -100

[State 1415]
type = Turn
trigger1 = AnimElem = 12, = 7
trigger1 = p2bodydist x < -5

[State 1415]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1400,0

[State 1415]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1400,1

[State 1415]
type = PlaySnd
trigger1 = AnimElem = 13
value = 1400,2


[State 1415]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21400
ownpal = 1


[State 1415]
type = null;Helper
trigger1 = AnimElem = 9
stateno = 21405
ownpal = 1


[State 1405]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21410
ownpal = 1


[State 1415]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21415
ownpal = 1


[State 1415]
type = null;Helper
trigger1 = AnimElem = 9
stateno = 21420
ownpal = 1


[State 1415]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21425
ownpal = 1





[State 1415]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0

[State 1415]
type = VelAdd
trigger1 = Anim = 70
y = 0.4


[State 1415]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0

[State 1415]
type = CtrlSet
trigger1 = Anim = 70
value = 1


[State 1415]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



[State 1415]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 1415]
type = Helper
trigger1 = Time = 0
stateno = 21401


[State 1415]
type = ChangeState
trigger1 = var(4) = [1443,1444]
value = 1442
ctrl = 0


[State 1415]
type = ChangeState
trigger1 = var(4) = 1445
value = 1446
ctrl = 0

[State 1415]
type = ChangeState
trigger1 = var(4)
value = var(4)
ctrl = 0





;---------------------------------------------------------------------------
;Warp Bottom Middle
[Statedef 1420]
type    = U
movetype= I
physics = N
juggle  = 3
poweradd= 10
ctrl = 0
velset = 0,0
anim = 1400
sprpriority = 0


[State 1420]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1


[State 1420]
type = PosSet
trigger1 = AnimElem = 12, = 6
y = 0

[State 1420]
type = PosSet
trigger1 = Pos X != -100
trigger1 = AnimElem = 12, >= 7
x = -100

[State 1420]
type = Turn
trigger1 = AnimElem = 12, = 7
trigger1 = p2bodydist x < -5

[State 1420]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1400,0

[State 1420]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1400,1

[State 1420]
type = PlaySnd
trigger1 = AnimElem = 13
value = 1400,2


[State 1420]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21400
ownpal = 1


[State 1420]
type = null;Helper
trigger1 = AnimElem = 9
stateno = 21405
ownpal = 1


[State 1420]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21410
ownpal = 1


[State 1420]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21415
ownpal = 1


[State 1420]
type = null;Helper
trigger1 = AnimElem = 9
stateno = 21420
ownpal = 1


[State 1420]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21425
ownpal = 1





[State 1420]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0

[State 1420]
type = VelAdd
trigger1 = Anim = 70
y = 0.4


[State 1420]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0

[State 1420]
type = CtrlSet
trigger1 = Anim = 70
value = 1


[State 1420]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



[State 1420]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 1420]
type = Helper
trigger1 = Time = 0
stateno = 21401


[State 1420]
type = ChangeState
trigger1 = var(4) = [1443,1444]
value = 1442
ctrl = 0


[State 1420]
type = ChangeState
trigger1 = var(4) = 1445
value = 1446
ctrl = 0

[State 1420]
type = ChangeState
trigger1 = var(4)
value = var(4)
ctrl = 0




;---------------------------------------------------------------------------
;Warp Bottom Right
[Statedef 1425]
type    = U
movetype= I
physics = N
juggle  = 3
poweradd= 10
ctrl = 0
velset = 0,0
anim = 1400
sprpriority = 0



[State 1425]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1


[State 1425]
type = PosSet
trigger1 = AnimElem = 12, = 6
y = 0

[State 1425]
type = PosSet
trigger1 = Pos X != 100
trigger1 = AnimElem = 12, >= 7
x = 100

[State 1425]
type = Turn
trigger1 = AnimElem = 12, = 7
trigger1 = p2bodydist x < -5

[State 1425]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1400,0

[State 1425]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1400,1

[State 1425]
type = PlaySnd
trigger1 = AnimElem = 13
value = 1400,2


[State 1425]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21400
ownpal = 1


[State 1425]
type = null;Helper
trigger1 = AnimElem = 9
stateno = 21405
ownpal = 1


[State 1405]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21410
ownpal = 1


[State 1425]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21415
ownpal = 1


[State 1425]
type = null;Helper
trigger1 = AnimElem = 9
stateno = 21420
ownpal = 1


[State 1425]
type = Helper
trigger1 = AnimElem = 12, = 7
stateno = 21425
ownpal = 1





[State 1425]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0

[State 1425]
type = VelAdd
trigger1 = Anim = 70
y = 0.4


[State 1425]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0

[State 1425]
type = CtrlSet
trigger1 = Anim = 70
value = 1


[State 1425]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



[State 1425]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 1425]
type = Helper
trigger1 = Time = 0
stateno = 21401



[State 1425]
type = ChangeState
trigger1 = var(4) = [1443,1444]
value = 1442
ctrl = 0


[State 1425]
type = ChangeState
trigger1 = var(4) = 1445
value = 1446
ctrl = 0


[State 1425]
type = ChangeState
trigger1 = var(4)
value = var(4)
ctrl = 0




;---------------------------------------------------------------------------
;Web Ball

[Statedef 1450]
type    = S
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1450;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1450]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1



[State 1450]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1450,0


[State 1450]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1450,1

[State 1450]
type = Helper
trigger1 = AnimElem = 9
stateno = 21450
id = 21450
ownpal = 1
pos = 40,-47




[State 1450]
type = VarAdd
;trigger1 = !MoveContact
trigger1 = AnimElem = 12, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0



[State 1450]
type = null;VelAdd
trigger1 = StateType = A
trigger1 = Time > 20
y = 0.1


[State 1450]
type = null;VelSet
trigger1 = StateType = A
trigger1 = Pos Y > -20
y = 0

[State 1450]
type = ChangeState
trigger1 = AnimTime = 0; && StateType != A
value = 0
ctrl = 1


[State 1450]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1320
ctrl = 0


;---------------------------------------------------------------------------
;Web Ball Air

[Statedef 1451]
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1451;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1451]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1



[State 1451]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1450,0


[State 1451]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1450,1

[State 1451]
type = Helper
trigger1 = AnimElem = 8
stateno = 21451
id = 21450
ownpal = 1
pos = 56,-48




[State 1451]
type = VarAdd
;trigger1 = !MoveContact
trigger1 = AnimElem = 10, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0


[State 1451]
type = VelSet
trigger1 = Time = 0
y = -3
x = -1

[State 1451]
type = VelAdd
trigger1 = 1
y = 0.2

[State 1451]
type = VelAdd
trigger1 = Time > 7
y = 0.2


[State 1451]
type = ChangeState
trigger1 = AnimTime = 0; && StateType != A
value = 0
ctrl = 1


[State 1451]
type = ChangeState
trigger1 = AnimTime = 0; && StateType = A
value = 1320
ctrl = 0

[State 1451]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
;Web Ball

[Statedef 1460]
type    = S
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1460;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1460]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1



[State 1460]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1450,0


[State 1460]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1450,1

[State 1460]
type = Helper
trigger1 = AnimElem = 9
stateno = 21450
id = 21450
ownpal = 1
pos = 40,-47




[State 1460]
type = VarAdd
;trigger1 = !MoveContact
trigger1 = AnimElem = 12, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0



[State 1460]
type = null;VelAdd
trigger1 = StateType = A
trigger1 = Time > 20
y = 0.1


[State 1460]
type = null;VelSet
trigger1 = StateType = A
trigger1 = Pos Y > -20
y = 0

[State 1460]
type = ChangeState
trigger1 = AnimTime = 0; && StateType != A
value = 0
ctrl = 1


[State 1460]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1320
ctrl = 0


;---------------------------------------------------------------------------
;Web Ball Air

[Statedef 1461]
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1461;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1461]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1



[State 1461]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1450,0


[State 1461]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1450,1

[State 1461]
type = Helper
trigger1 = AnimElem = 8
stateno = 21451
id = 21450
ownpal = 1
pos = 56,-48




[State 1461]
type = VarAdd
;trigger1 = !MoveContact
trigger1 = AnimElem = 10, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0


[State 1461]
type = VelSet
trigger1 = Time = 0
y = -3
x = -1


[State 1461]
type = VelAdd
trigger1 = 1
y = 0.2

[State 1461]
type = VelAdd
trigger1 = Time > 10
y = 0.2



[State 1461]
type = ChangeState
trigger1 = AnimTime = 0; && StateType != A
value = 0
ctrl = 1


[State 1461]
type = ChangeState
trigger1 = AnimTime = 0; && StateType = A
value = 1320
ctrl = 0

[State 1461]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
;Web Ball

[Statedef 1470]
type    = S
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1470;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1470]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1



[State 1470]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1450,0


[State 1470]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1450,1

[State 1470]
type = Helper
trigger1 = AnimElem = 9
stateno = 21450
id = 21450
ownpal = 1
pos = 40,-47




[State 1470]
type = VarAdd
;trigger1 = !MoveContact
trigger1 = AnimElem = 12, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0



[State 1470]
type = null;VelAdd
trigger1 = StateType = A
trigger1 = Time > 20
y = 0.1


[State 1470]
type = null;VelSet
trigger1 = StateType = A
trigger1 = Pos Y > -20
y = 0

[State 1470]
type = ChangeState
trigger1 = AnimTime = 0; && StateType != A
value = 0
ctrl = 1


[State 1470]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1320
ctrl = 0


;---------------------------------------------------------------------------
;Web Ball Air

[Statedef 1471]
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1471;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1471]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1



[State 1471]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1450,0


[State 1471]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1450,1

[State 1471]
type = Helper
trigger1 = AnimElem = 8
stateno = 21451
id = 21450
ownpal = 1
pos = 56,-48




[State 1471]
type = VarAdd
;trigger1 = !MoveContact
trigger1 = AnimElem = 10, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0


[State 1471]
type = VelSet
trigger1 = Time = 0
y = -3
x = -1

[State 1471]
type = VelAdd
trigger1 = 1
y = 0.2

[State 1471]
type = VelAdd
trigger1 = Time > 20
y = 0.2

[State 1471]
type = ChangeState
trigger1 = AnimTime = 0; && StateType != A
value = 0
ctrl = 1


[State 1471]
type = ChangeState
trigger1 = AnimTime = 0; && StateType = A
value = 1320
ctrl = 0

[State 1471]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



;---------------------------------------------------------------------------
;Berserker Barrage
[Statedef 1480]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1480;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1480]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1




[State 1480]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1480,0


[State 1480]
type = PlaySnd
trigger1 = AnimElem = 3, = 1 || AnimElem = 6
value = 210,1

[State 1480]
type = Helper
trigger1 = AnimElem = 3, = 1
stateno = 21480
ownpal = 1
ignorehitpause = 1

[State 1480]
type = Helper
trigger1 = AnimElem = 6
stateno = 21481
ownpal = 1
ignorehitpause = 1


[State 1480]
type = Varset
trigger1 = Time = 0
fvar(0) = 1


[State 1480]
type = Varset
trigger1 = Time = 0
var(1) = 0



[State 1480]
type = HitDef
attr = S, SA
trigger1 = AnimElem = 3 || AnimElem = 6
;trigger1 = hitcount < 1
;trigger1 = moveguarded < 1
damage = floor(10/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = HA
pausetime = 3,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S7280;(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5
air.velocity = -5
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = floor(30/(fvar(0)*fvar(0))),floor(10/(fvar(0)*fvar(0)))



[State 1480]
type = HitDef
attr = S, SA
trigger1 = AnimElem = 6
;trigger1 = hitcount < 1
;trigger1 = moveguarded < 1
damage = floor(10/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 3,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S7281;(8210+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5-9*(!var(1) || var(1) && !(fvar(0) < 4)),-9*(!var(1) || var(1) && !(fvar(0) < 4))
air.velocity = -5-9*(!var(1) || var(1) && !(fvar(0) < 4)),-9*(!var(1) || var(1) && !(fvar(0) < 4))
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
fall = !var(1) || var(1) && !(fvar(0) < 4)
air.fall = !var(1) || var(1) && !(fvar(0) < 4)
all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = floor(30/(fvar(0)*fvar(0))),floor(10/(fvar(0)*fvar(0)))


[State 1480]
type = VarAdd
trigger1 = MoveHit = 1
fvar(0) = 1

[State 1480]
type = Velset
trigger1 = AnimElem = 2
x = 7


[State 1480]
type = Varset
trigger1 = !var(59)
trigger1 = AnimElemNo(0) = [2,8]
trigger1 = command = "x" || command = "y" || command = "z"
trigger2 = var(59) && random < (50 + 50*MoveHit) && FrontEdgeDist > 30
var(1) = 1

[State 1480]
type = ChangeAnim
trigger1 = var(1)
trigger1 = fvar(0) < 4 && AnimElem = 9
value = Anim
elem = 2

[State 1480]
type = Varset
trigger1 = var(1)
trigger1 = AnimElem = 3
var(1) = 0

[State 1480]
type = StateTypeSet
trigger1 = AnimElem = 9
physics = S


[State 1480]
type = Varset
trigger1 = AnimElem = 9
var(9) = 1
persistent = 0


[State 1480]
type = ChangeState
trigger1 = AnimTime = 0; && StateType != A
value = 12
ctrl = 1


[State 1480]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1320
ctrl = 0



;---------------------------------------------------------------------------
;Berserker Barrage
[Statedef 1490]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1480;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1490]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1




[State 1490]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1480,0


[State 1490]
type = PlaySnd
trigger1 = AnimElem = 3, = 1 || AnimElem = 6
value = 210,1

[State 1490]
type = Helper
trigger1 = AnimElem = 3, = 1
stateno = 21480
ownpal = 1
ignorehitpause = 1

[State 1490]
type = Helper
trigger1 = AnimElem = 6
stateno = 21481
ownpal = 1
ignorehitpause = 1


[State 1490]
type = Varset
trigger1 = Time = 0
fvar(0) = 1


[State 1490]
type = Varset
trigger1 = Time = 0
var(1) = 0



[State 1490]
type = HitDef
attr = S, SA
trigger1 = AnimElem = 3 || AnimElem = 6
;trigger1 = hitcount < 1
;trigger1 = moveguarded < 1
damage = floor(11/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 3,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S7280;(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5
air.velocity = -5
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = floor(30/(fvar(0)*fvar(0))),floor(10/(fvar(0)*fvar(0)))



[State 1490]
type = HitDef
attr = S, SA
trigger1 = AnimElem = 6
;trigger1 = hitcount < 1
;trigger1 = moveguarded < 1
damage = floor(11/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 3,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S7281;(8210+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5-9*(!var(1) || var(1) && !(fvar(0) < 6)),-9*(!var(1) || var(1) && !(fvar(0) < 6))
air.velocity = -5-9*(!var(1) || var(1) && !(fvar(0) < 6)),-9*(!var(1) || var(1) && !(fvar(0) < 6))
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
fall = !var(1) || var(1) && !(fvar(0) < 4)
air.fall = !var(1) || var(1) && !(fvar(0) < 4)
all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = floor(30/(fvar(0)*fvar(0))),floor(10/(fvar(0)*fvar(0)))


[State 1490]
type = VarAdd
trigger1 = MoveHit = 1
fvar(0) = 1

[State 1490]
type = Velset
trigger1 = AnimElem = 2
x = 8


[State 1490]
type = Varset
trigger1 = !var(59)
trigger1 = AnimElemNo(0) = [2,8]
trigger1 = command = "x" || command = "y" || command = "z"
trigger2 = var(59) && random < (50 + 50*MoveHit) && FrontEdgeDist > 30
var(1) = 1

[State 1490]
type = ChangeAnim
trigger1 = var(1)
trigger1 = fvar(0) < 6 && AnimElem = 9
value = Anim
elem = 2

[State 1490]
type = Varset
trigger1 = var(1)
trigger1 = AnimElem = 3
var(1) = 0

[State 1490]
type = StateTypeSet
trigger1 = AnimElem = 9
physics = S




[State 1490]
type = Varset
trigger1 = AnimElem = 9
var(9) = 1
persistent = 0

[State 1490]
type = ChangeState
trigger1 = AnimTime = 0; && StateType != A
value = 12
ctrl = 1


[State 1490]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1320
ctrl = 0



;---------------------------------------------------------------------------
;Berserker Barrage
[Statedef 1500]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1480;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1500]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1




[State 1500]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1480,0


[State 1500]
type = PlaySnd
trigger1 = AnimElem = 3, = 1 || AnimElem = 6
value = 210,1

[State 1500]
type = Helper
trigger1 = AnimElem = 3, = 1
stateno = 21480
ownpal = 1
ignorehitpause = 1

[State 1500]
type = Helper
trigger1 = AnimElem = 6
stateno = 21481
ownpal = 1
ignorehitpause = 1


[State 1500]
type = Varset
trigger1 = Time = 0
fvar(0) = 1


[State 1500]
type = Varset
trigger1 = Time = 0
var(1) = 0



[State 1500]
type = HitDef
attr = S, SA
trigger1 = AnimElem = 3 || AnimElem = 6
;trigger1 = hitcount < 1
;trigger1 = moveguarded < 1
damage = floor(12/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 3,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S7280;(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5
air.velocity = -5
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = floor(30/(fvar(0)*fvar(0))),floor(10/(fvar(0)*fvar(0)))



[State 1500]
type = HitDef
attr = S, SA
trigger1 = AnimElem = 6
;trigger1 = hitcount < 1
;trigger1 = moveguarded < 1
damage = floor(12/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 3,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S7281;(8210+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5-9*(!var(1) || var(1) && !(fvar(0) < 8)),-9*(!var(1) || var(1) && !(fvar(0) < 8))
air.velocity = -5-9*(!var(1) || var(1) && !(fvar(0) < 8)),-9*(!var(1) || var(1) && !(fvar(0) < 8))
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
fall = !var(1) || var(1) && !(fvar(0) < 4)
air.fall = !var(1) || var(1) && !(fvar(0) < 4)
all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = floor(30/(fvar(0)*fvar(0))),floor(10/(fvar(0)*fvar(0)))


[State 1500]
type = VarAdd
trigger1 = MoveHit = 1
fvar(0) = 1

[State 1500]
type = Velset
trigger1 = AnimElem = 2
x = 9


[State 1500]
type = Varset
trigger1 = !var(59)
trigger1 = AnimElemNo(0) = [2,8]
trigger1 = command = "x" || command = "y" || command = "z"
trigger2 = var(59) && random < (50 + 50*MoveHit) && FrontEdgeDist > 30
var(1) = 1

[State 1500]
type = ChangeAnim
trigger1 = var(1)
trigger1 = fvar(0) < 8 && AnimElem = 9
value = Anim
elem = 2

[State 1500]
type = Varset
trigger1 = var(1)
trigger1 = AnimElem = 3
var(1) = 0

[State 1500]
type = StateTypeSet
trigger1 = AnimElem = 9
physics = S


[State 1500]
type = Varset
trigger1 = AnimElem = 9
var(9) = 1
persistent = 0


[State 1500]
type = ChangeState
trigger1 = AnimTime = 0; && StateType != A
value = 12
ctrl = 1


[State 1500]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1320
ctrl = 0

;---------------------------------------------------------------------------
;Tornado Claw
[Statedef 1510]
type    = U
movetype= A
physics = N
juggle  = 1
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1510;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1510]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1




[State 1510]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1510,0


[State 1510]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,1


[State 1510]
type = Varset
trigger1 = Time = 0
fvar(0) = 1


[State 1510]
type = Varset
trigger1 = Time = 0
var(1) = 0


[State 1510]
type = HitDef
attr = SA, SA
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5
damage = floor(10/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 4,2
sparkxy = -10,-60+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+10*(random%2)+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 1,-7
air.velocity = 1,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25


[State 1510]
type = HitDef
attr = SA, SA
trigger1 = AnimElem = 5
damage = floor(10/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 4,2
sparkxy = -10,-60+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+10*(random%2)+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -2,-7
air.velocity = -2,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25


[State 1510]
type = VarAdd
trigger1 = MoveHit = 1
fvar(0) = 1


[State 1510]
type = Velset
trigger1 = AnimElem = 3
x = 1
y = -7




[State 1510]
type = StateTypeSet
trigger1 = Pos Y < 0
StateType = A
persistent = 0

[State 1510]
type = VelAdd
trigger1 = AnimElem = 3, >= 0
y = 0.35

[State 1510]
type = Varset
trigger1 = !var(59)
trigger1 = AnimElemNo(0) = [2,4]
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = var(59) && random < 100
var(1) = 1


[State 1510]
type = ChangeState
trigger1 = var(1) && AnimElem = 4, >=3
value = stateno + 1
ctrl = 0

[State 1510]
type = null;VarAdd
;trigger1 = !MoveContact
trigger1 = AnimElem = 32, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0



[State 1510]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1


[State 1510]
type = ChangeState
trigger1 = Time >= 25 && StateType = A
value = 1518
ctrl = 0

[State 1510]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
;Tornado Claw
[Statedef 1511]
type    = A
movetype= A
physics = N
juggle  = 1
;poweradd= 60
ctrl = 0
velset = 1,-7
anim = 1511;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1511]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1




[State 1511]
type = null;PlaySnd
trigger1 = AnimElem = 1
value = 1510,0


[State 1511]
type = null;PlaySnd
trigger1 = AnimElem = 2
value = 210,1



[State 1511]
type = Varset
trigger1 = Time = 0
var(1) = 0


[State 1511]
type = HitDef
attr = SA, SA
trigger1 = AnimElem = 3 || AnimElem = 5
damage = floor(10/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 4,2
sparkxy = -10,-60+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+10*(random%2)+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 1,-7
air.velocity = 1,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25


[State 1511]
type = HitDef
attr = SA, SA
trigger1 = AnimElem = 8
damage = floor(10/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 4,2
sparkxy = -10,-60+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+10*(random%2)+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -2,-7
air.velocity = -2,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25

[State 1511]
type = VarAdd
trigger1 = MoveHit = 1
fvar(0) = 1


[State 1511]
type = Velset
trigger1 = AnimElem = 2
x = 1
y = -7




[State 1511]
type = null;StateTypeSet
trigger1 = Pos Y < 0
StateType = A
persistent = 0

[State 1511]
type = VelAdd
trigger1 = AnimElem = 1, >= 0
y = 0.35

[State 1511]
type = Varset
trigger1 = !var(59)
trigger1 = AnimElemNo(0) = [2,4]
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = var(59) && random < 100
var(1) = 1



[State 1511]
type = null;VarAdd
;trigger1 = !MoveContact
trigger1 = AnimElem = 32, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0



[State 1511]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1


[State 1511]
type = ChangeState
trigger1 = fvar(0) >= 5 && AnimTime = 0; && StateType = A
trigger2 = Pos Y < -170
value = 1518
ctrl = 0

[State 1511]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;------------------------------------------------------------------------------------------------------------
;Tornado Claw End
[Statedef 1518]
type = A
movetype = I
physics = A
anim = 1515
ctrl = 0
sprpriority = 0
;poweradd= 65
velset = 0,0
;facep2 = 1

[State 1510]
type = VarAdd
;trigger1 = !MoveContact
trigger1 = AnimElem = 4, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 1518]
type = null;ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[State 1520]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



;---------------------------------------------------------------------------
;Tornado Claw
[Statedef 1520]
type    = U
movetype= A
physics = N
juggle  = 1
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1510;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1520]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1




[State 1520]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1510,0


[State 1520]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,1


[State 1520]
type = Varset
trigger1 = Time = 0
fvar(0) = 1


[State 1520]
type = Varset
trigger1 = Time = 0
var(1) = 0


[State 1520]
type = HitDef
attr = SA, SA
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5
damage = floor(10/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 4,2
sparkxy = -10,-60+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+10*(random%2)+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 1,-7
air.velocity = 1,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25


[State 1520]
type = HitDef
attr = SA, SA
trigger1 = AnimElem = 5
damage = floor(11/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 4,2
sparkxy = -10,-60+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+10*(random%2)+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -2,-7
air.velocity = -2,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25


[State 1520]
type = VarAdd
trigger1 = MoveHit = 1
fvar(0) = 1


[State 1520]
type = Velset
trigger1 = AnimElem = 3
x = 2
y = -8




[State 1520]
type = StateTypeSet
trigger1 = Pos Y < 0
StateType = A
persistent = 0

[State 1520]
type = VelAdd
trigger1 = AnimElem = 3, >= 0
y = 0.35

[State 1520]
type = Varset
trigger1 = !var(59)
trigger1 = AnimElemNo(0) = [2,4]
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = var(59) && random < 100
var(1) = 1


[State 1520]
type = ChangeState
trigger1 = var(1) && AnimElem = 4, >=3
value = stateno + 1
ctrl = 0

[State 1520]
type = null;VarAdd
;trigger1 = !MoveContact
trigger1 = AnimElem = 32, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0



[State 1520]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1


[State 1520]
type = ChangeState
trigger1 = Time >= 25 && StateType = A
trigger2 = Pos Y < -170
value = 1518
ctrl = 0

[State 1520]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
;Tornado Claw
[Statedef 1521]
type    = A
movetype= A
physics = N
juggle  = 1
;poweradd= 60
ctrl = 0
velset = 2,-8
anim = 1511;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1521]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1




[State 1521]
type = null;PlaySnd
trigger1 = AnimElem = 1
value = 1510,0


[State 1521]
type = null;PlaySnd
trigger1 = AnimElem = 2
value = 210,1



[State 1521]
type = Varset
trigger1 = Time = 0
var(1) = 0


[State 1521]
type = HitDef
attr = SA, SA
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5
damage = floor(11/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 4,2
sparkxy = -10,-60+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+10*(random%2)+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 1,-7
air.velocity = 1,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25


[State 1521]
type = HitDef
attr = SA, SA
trigger1 = AnimElem = 8
damage = floor(11/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 4,2
sparkxy = -10,-60+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+10*(random%2)+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -2,-7
air.velocity = -2,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25

[State 1521]
type = VarAdd
trigger1 = MoveHit = 1
fvar(0) = 1


[State 1521]
type = Velset
trigger1 = AnimElem = 2
x = 2
y = -8




[State 1521]
type = null;StateTypeSet
trigger1 = Pos Y < 0
StateType = A
persistent = 0

[State 1521]
type = VelAdd
trigger1 = AnimElem = 1, >= 0
y = 0.35

[State 1521]
type = Varset
trigger1 = !var(59)
trigger1 = AnimElemNo(0) = [2,4]
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = var(59) && random < 100
var(1) = 1



[State 1521]
type = null;VarAdd
;trigger1 = !MoveContact
trigger1 = AnimElem = 32, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0



[State 1521]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1


[State 1521]
type = ChangeState
trigger1 = fvar(0) >= 7 && AnimTime = 0; && StateType = A
trigger2 = Pos Y < -170
value = 1518
ctrl = 0

[State 1521]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0

;---------------------------------------------------------------------------
;Tornado Claw
[Statedef 1530]
type    = U
movetype= A
physics = N
juggle  = 1
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1510;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1530]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1




[State 1530]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1510,0


[State 1530]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210,1


[State 1530]
type = Varset
trigger1 = Time = 0
fvar(0) = 1


[State 1530]
type = Varset
trigger1 = Time = 0
var(1) = 0


[State 1530]
type = HitDef
attr = SA, SA
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5
damage = floor(12/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 4,2
sparkxy = -10,-60+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+10*(random%2)+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 1,-7
air.velocity = 1,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25


[State 1530]
type = HitDef
attr = SA, SA
trigger1 = AnimElem = 5
damage = floor(12/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 4,2
sparkxy = -10,-60+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+10*(random%2)+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -2,-7
air.velocity = -2,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25


[State 1530]
type = VarAdd
trigger1 = MoveHit = 1
fvar(0) = 1


[State 1530]
type = Velset
trigger1 = AnimElem = 3
x = 3
y = -9




[State 1530]
type = StateTypeSet
trigger1 = Pos Y < 0
StateType = A
persistent = 0

[State 1530]
type = VelAdd
trigger1 = AnimElem = 3, >= 0
y = 0.35

[State 1530]
type = Varset
trigger1 = !var(59)
trigger1 = AnimElemNo(0) = [2,4]
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = var(59) && random < 100
var(1) = 1


[State 1530]
type = ChangeState
trigger1 = var(1) && AnimElem = 4, >=3
value = stateno + 1
ctrl = 0

[State 1530]
type = null;VarAdd
;trigger1 = !MoveContact
trigger1 = AnimElem = 32, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0



[State 1530]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1


[State 1530]
type = ChangeState
trigger1 = Time >= 25 && StateType = A
value = 1518
ctrl = 0

[State 1530]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
;Tornado Claw
[Statedef 1531]
type    = A
movetype= A
physics = N
juggle  = 1
;poweradd= 60
ctrl = 0
velset = 3,-9
anim = 1511;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1531]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1




[State 1531]
type = null;PlaySnd
trigger1 = AnimElem = 1
value = 1510,0


[State 1531]
type = null;PlaySnd
trigger1 = AnimElem = 2
value = 210,1



[State 1531]
type = Varset
trigger1 = Time = 0
var(1) = 0


[State 1531]
type = HitDef
attr = SA, SA
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4
trigger2 = AnimElem = 5 || AnimElem = 6 || AnimElem = 7
damage = floor(12/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 4,2
sparkxy = -10,-60+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+10*(random%2)+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 1,-7
air.velocity = 1,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25


[State 1531]
type = HitDef
attr = SA, SA
trigger1 = AnimElem = 8
damage = floor(12/(fvar(0)*fvar(0)))*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 4,2
sparkxy = -10,-60+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+10*(random%2)+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -2,-7
air.velocity = -2,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25

[State 1531]
type = VarAdd
trigger1 = MoveHit = 1
fvar(0) = 1


[State 1531]
type = Velset
trigger1 = AnimElem = 2
x = 3
y = -9




[State 1531]
type = null;StateTypeSet
trigger1 = Pos Y < 0
StateType = A
persistent = 0

[State 1531]
type = VelAdd
trigger1 = AnimElem = 1, >= 0
y = 0.35

[State 1531]
type = Varset
trigger1 = !var(59)
trigger1 = AnimElemNo(0) = [2,4]
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = var(59) && random < 100
var(1) = 1



[State 1531]
type = null;VarAdd
;trigger1 = !MoveContact
trigger1 = AnimElem = 32, >= 0
var(9) = 1
ignorehitpause = 1
persistent = 0



[State 1531]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType != A
value = 0
ctrl = 1


[State 1531]
type = ChangeState
trigger1 = fvar(0) >= 9 && AnimTime = 0; && StateType = A
trigger2 = Pos Y < -170
value = 1518
ctrl = 0

[State 1531]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



;---------------------------------------------------------------------------
;Berserker Slash
[Statedef 1540]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1540;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1540]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1


[State 1540]
type = PlaySnd
trigger1 = AnimElem = 3
value = 220,0

[State 1540]
type = PlaySnd
trigger1 = AnimElem = 4
value = 200,1


[State 1540]
type = Helper
trigger1 = AnimElem = 4
stateno = 6220
ownpal = 1
ignorehitpause = 1

[State 1540]
type = HitDef
attr = S, SA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 8*var(30),floor(var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 3,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -9,-7
air.velocity = -9,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25


[State 1540]
type = VelSet
trigger1 = AnimElem = 2
x = 10


[State 1540]
type = AfterImage
trigger1 = AnimElem = 2
time = 17
length = 7
palbright = 0,0,0
palpostbright = 0,0,0
palcontrast =256,256,256
paladd = 0,0,0
palmul = 1,1,1
palcolor = 256
timegap = 1
framegap = 3

[State 1540]
type = StateTypeSet
trigger1 = AnimElem = 4
physics = S


[State 1540]
type = ChangeState
trigger1 = AnimTime = 0; && StateType != A
value = 12
ctrl = 1


[State 1540]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1320
ctrl = 0





;---------------------------------------------------------------------------
;Berserker Slash
[Statedef 1550]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1540;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1550]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1


[State 1550]
type = PlaySnd
trigger1 = AnimElem = 3
value = 220,0

[State 1550]
type = PlaySnd
trigger1 = AnimElem = 4
value = 200,1


[State 1550]
type = Helper
trigger1 = AnimElem = 4
stateno = 6220
ownpal = 1
ignorehitpause = 1

[State 1550]
type = HitDef
attr = S, SA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 8*var(30),floor(var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 3,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -11,-7
air.velocity = -11,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25


[State 1550]
type = VelSet
trigger1 = AnimElem = 2
x = 15


[State 1550]
type = AfterImage
trigger1 = AnimElem = 2
time = 17
length = 7
palbright = 0,0,0
palpostbright = 0,0,0
palcontrast =256,256,256
paladd = 0,0,0
palmul = 1,1,1
palcolor = 256
timegap = 1
framegap = 3

[State 1550]
type = StateTypeSet
trigger1 = AnimElem = 4
physics = S


[State 1550]
type = ChangeState
trigger1 = AnimTime = 0; && StateType != A
value = 12
ctrl = 1


[State 1550]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1320
ctrl = 0





;---------------------------------------------------------------------------
;Berserker Slash
[Statedef 1560]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1540;+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1560]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1


[State 1560]
type = PlaySnd
trigger1 = AnimElem = 3
value = 220,0

[State 1560]
type = PlaySnd
trigger1 = AnimElem = 4
value = 200,1


[State 1560]
type = Helper
trigger1 = AnimElem = 4
stateno = 6220
ownpal = 1
ignorehitpause = 1

[State 1560]
type = HitDef
attr = S, SA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 8*var(30),floor(var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 3,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -14,-7
air.velocity = -14,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25


[State 1560]
type = VelSet
trigger1 = AnimElem = 2
x = 20


[State 1560]
type = AfterImage
trigger1 = AnimElem = 2
time = 17
length = 7
palbright = 0,0,0
palpostbright = 0,0,0
palcontrast =256,256,256
paladd = 0,0,0
palmul = 1,1,1
palcolor = 256
timegap = 1
framegap = 3

[State 1560]
type = StateTypeSet
trigger1 = AnimElem = 4
physics = S


[State 1560]
type = ChangeState
trigger1 = AnimTime = 0; && StateType != A
value = 12
ctrl = 1


[State 1560]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1320
ctrl = 0


;---------------------------------------------------------------------------
;Drill Claw
[Statedef 1570]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1570+(StateType = A)
sprpriority = 0
facep2 = 1

[State 1570]
type = Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1


[State 1570]
type = VarSet
trigger1 = Time = 0
var(1) = (StateType != A)

[State 1570]
type = VarSet
trigger1 = Time = 0
var(28) = 0


[State 1570]
type = VarSet
trigger1 = Time = 0
var(4) = 1582

[State 1570]
type = Helper
trigger1 = Time = 0
stateno = 21570



[State 1570]
type = ChangeState
trigger1 = var(1)
trigger1 = var(4) = [1583,1587]
value = 1582
ctrl = 0


[State 1570]
type = ChangeState
trigger1 = var(4) && AnimTime = 0
value = var(4)
ctrl = 0


[State 1570]
type = null;ChangeState
trigger1 = AnimTime = 0; && StateType != A
value = 12
ctrl = 1


[State 1570]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1320
ctrl = 0


;---------------------------------------------------------------------------
;Drill Claw Wall Bounce
[Statedef 1571]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1572+((ScreenPos X > 160) && (facing = 1)) + ((ScreenPos X < 160) && (facing = -1))
sprpriority = 0
;facep2 = 1

[State 1571]
type = null;Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1


[State 1571]
type = null;Turn
trigger1 = ScreenPos X > 160 && Time = 0 && p2bodydist x >= 0

[State 1571]
type = null;PosSet
trigger1 = 1
x = ifelse(screenpos x > 160,150,-150)


[State 1571]
type = VarSet
trigger1 = Time = 0
var(1) = (StateType != A)

[State 1571]
type = VarSet
trigger1 = Time = 0
var(28) = 1


[State 1571]
type = VarSet
trigger1 = Time = 0
var(4) = 1586

[State 1571]
type = VarSet
trigger1 = var(4) = 1582
var(4) = 1586

[State 1571]
type = null;VarSet
trigger1 = var(4) = 1582
var(4) = 1586

[State 1571]
type = Helper
trigger1 = Time = 0
stateno = 21571


[State 1571]
type = null;ChangeState
;trigger1 = var(1)
trigger1 = var(4) = [1581,1583]
value = 1586
ctrl = 0


[State 1571]
type = ChangeState
trigger1 = var(4) && AnimTime = 0
value = var(4)
ctrl = 0


[State 1571]
type = null;ChangeState
trigger1 = AnimTime = 0; && StateType != A
value = 12
ctrl = 1


[State 1571]
type = null;ChangeState
trigger1 = AnimTime = 0 && StateType = A
value = 1320
ctrl = 0


;---------------------------------------------------------------------------
;Drill Claw End Air MoveContact
[Statedef 1578]
type    = A
movetype= I
physics = A
juggle  = 3
;poweradd= 60
ctrl = 0
velset = -3,-7
anim = 1579;+(StateType = A)
sprpriority = 0
;facep2 = 1


[State 1578]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
;Drill Claw End Air No Contact
[Statedef 1579]
type    = A
movetype= I
physics = A
juggle  = 3
;poweradd= 60
ctrl = 0
velset = 0,0
anim = 1579;+(StateType = A)
sprpriority = 0
;facep2 = 1


[State 1579]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0

;---------------------------------------------------------------------------
;Drill Claw  Up
[Statedef 1580]
type    = U
movetype= A
physics = N
juggle  = 3
;poweradd= 60
ctrl = 0
velset = 0,0
anim = 1580;+(StateType = A)
sprpriority = 0
;facep2 = 1

[State 1580]
type = null;Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1




[State 1580]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1570,0

[State 1580]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,1



[State 1580]
type = HitDef
attr = S, SA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 9*var(30),floor(var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -14,-7
air.velocity = -14,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25


[State 1580]
type = VelSet
trigger1 = AnimElem = 1
y = -9

[State 1580]
type = VelSet
trigger1 = ScreenPos Y < 100 && Vel Y != 0
y = 0

[State 1580]
type = ChangeState
trigger1 = !MoveContact && Time >= 17; && !var(1)
value = 1579
ctrl = 0

[State 1580]
type = null;ChangeState
trigger1 = !MoveContact && Time >= 17 && var(1)
value = 52
ctrl = 0


[State 1580]
type = ChangeState
trigger1 = MoveContact
value = 1578
ctrl = 0




;---------------------------------------------------------------------------
;Drill Claw  Up Forward
[Statedef 1581]
type    = U
movetype= A
physics = N
juggle  = 3
;poweradd= 60
ctrl = 0
velset = 0,0
anim = 1581;+(StateType = A)
sprpriority = 0
;facep2 = 1

[State 1581]
type = null;Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1



[State 1581]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1570,0

[State 1581]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,1



[State 1581]
type = HitDef
attr = S, SA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 9*var(30),floor(var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -14,-7
air.velocity = -14,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25


[State 1581]
type = VelSet
trigger1 = AnimElem = 1
y = -9
x = 9

[State 1581]
type = VelSet
trigger1 = ScreenPos Y < 100 && Vel Y != 0
y = 0

[State 1581]
type = null;VelAdd
trigger1 = AnimElem = 1, > 0
y = 0.35

[State 1581]
type = StateTypeSet
trigger1 = AnimElem = 1, > 0
statetype = A
persistent = 0

[State 1581]
type = ChangeState
trigger1 = !MoveContact && Time >= 17; && !var(1)
value = 1579
ctrl = 0

[State 1581]
type = null;ChangeState
trigger1 = !MoveContact && Time >= 17 && var(1)
value = 52
ctrl = 0


[State 1581]
type = ChangeState
trigger1 = MoveContact
value = 1578
ctrl = 0


[State 1581]
type = varset
trigger1 = Time = 0
var(4) = 0

[State 1581]
type = Helper
trigger1 = Time = 0 && !var(28)
stateno = 21571


[State 1581]
type = ChangeState
trigger1 = var(4) && FrontEdgeDist <= 10 && !var(28)
value = 1571
ctrl = 0


;---------------------------------------------------------------------------
;Drill Claw  Horizontal
[Statedef 1582]
type    = U
movetype= A
physics = N
juggle  = 3
;poweradd= 60
ctrl = 0
velset = 0,0
anim = 1582;+(StateType = A)
sprpriority = 0
;facep2 = 1

[State 1582]
type = null;Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1



[State 1582]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1570,0

[State 1582]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,1



[State 1582]
type = HitDef
attr = S, SA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 9*var(30),floor(var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -14,-7
air.velocity = -14,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25


[State 1582]
type = VelSet
trigger1 = AnimElem = 1
;y = -9
x = 9


[State 1582]
type = null;VelAdd
trigger1 = AnimElem = 1, > 0
y = 0.35

[State 1582]
type = null;StateTypeSet
trigger1 = AnimElem = 1, > 0
statetype = A
persistent = 0

[State 1582]
type = ChangeState
trigger1 = !MoveContact && Time >= 17 && !var(1)
value = 1579
ctrl = 0

[State 1582]
type = ChangeState
trigger1 = !MoveContact && Time >= 17 && var(1)
value = 52
ctrl = 0


[State 1582]
type = ChangeState
trigger1 = MoveContact
value = 1578
ctrl = 0


[State 1582]
type = varset
trigger1 = Time = 0
var(4) = 0

[State 1582]
type = Helper
trigger1 = Time = 0 && !var(28)
stateno = 21571


[State 1582]
type = ChangeState
trigger1 = var(4) && FrontEdgeDist <= 10 && !var(28)
value = 1571
ctrl = 0


;---------------------------------------------------------------------------
;Drill Claw  Down Forward
[Statedef 1583]
type    = U
movetype= A
physics = N
juggle  = 3
;poweradd= 60
ctrl = 0
velset = 0,0
anim = 1583;+(StateType = A)
sprpriority = 0
;facep2 = 1

[State 1583]
type = null;Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1



[State 1583]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1570,0

[State 1583]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,1



[State 1583]
type = HitDef
attr = S, SA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 9*var(30),floor(var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -14,-7
air.velocity = -14,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25


[State 1583]
type = VelSet
trigger1 = AnimElem = 1
y = 9
x = 9


[State 1583]
type = null;VelAdd
trigger1 = AnimElem = 1, > 0
y = 0.35

[State 1583]
type = null;StateTypeSet
trigger1 = AnimElem = 1, > 0
statetype = A
persistent = 0

[State 1583]
type = ChangeState
trigger1 = !MoveContact && Time >= 17; && !var(1)
value = 1579
ctrl = 0

[State 1583]
type = null;ChangeState
trigger1 = !MoveContact && Time >= 17 && var(1)
value = 52
ctrl = 0


[State 1583]
type = ChangeState
trigger1 = MoveContact
value = 1578
ctrl = 0


[State 1583]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


[State 1583]
type = varset
trigger1 = Time = 0
var(4) = 0

[State 1583]
type = Helper
trigger1 = Time = 0 && !var(28)
stateno = 21571


[State 1583]
type = ChangeState
trigger1 = var(4) && FrontEdgeDist <= 10 && !var(28)
value = 1571
ctrl = 0


;---------------------------------------------------------------------------
;Drill Claw  Down
[Statedef 1584]
type    = U
movetype= A
physics = N
juggle  = 3
;poweradd= 60
ctrl = 0
velset = 0,0
anim = 1584;+(StateType = A)
sprpriority = 0
;facep2 = 1

[State 1584]
type = null;Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1



[State 1584]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1570,0

[State 1584]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,1



[State 1584]
type = HitDef
attr = S, SA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 9*var(30),floor(var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -14,-7
air.velocity = -14,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25


[State 1584]
type = VelSet
trigger1 = AnimElem = 1
y = 9
;x = 9


[State 1584]
type = null;VelAdd
trigger1 = AnimElem = 1, > 0
y = 0.35

[State 1584]
type = null;StateTypeSet
trigger1 = AnimElem = 1, > 0
statetype = A
persistent = 0

[State 1584]
type = ChangeState
trigger1 = !MoveContact && Time >= 17; && !var(1)
value = 1579
ctrl = 0

[State 1584]
type = null;ChangeState
trigger1 = !MoveContact && Time >= 17 && var(1)
value = 52
ctrl = 0


[State 1584]
type = ChangeState
trigger1 = MoveContact
value = 1578
ctrl = 0


[State 1584]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



;---------------------------------------------------------------------------
;Drill Claw  Down Backward
[Statedef 1585]
type    = U
movetype= A
physics = N
juggle  = 3
;poweradd= 60
ctrl = 0
velset = 0,0
anim = 1583;+(StateType = A)
sprpriority = 0
;facep2 = 1


[State 1585]
type = Turn
trigger1 = Time = 0

[State 1585]
type = null;Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1


[State 1585]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1570,0

[State 1585]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,1



[State 1585]
type = HitDef
attr = S, SA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 9*var(30),floor(var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -14,-7
air.velocity = -14,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25


[State 1585]
type = VelSet
trigger1 = AnimElem = 1
y = 9
x = 9


[State 1585]
type = null;VelAdd
trigger1 = AnimElem = 1, > 0
y = 0.35

[State 1585]
type = null;StateTypeSet
trigger1 = AnimElem = 1, > 0
statetype = A
persistent = 0

[State 1585]
type = ChangeState
trigger1 = !MoveContact && Time >= 17; && !var(1)
value = 1579
ctrl = 0

[State 1585]
type = null;ChangeState
trigger1 = !MoveContact && Time >= 17 && var(1)
value = 52
ctrl = 0


[State 1585]
type = ChangeState
trigger1 = MoveContact
value = 1578
ctrl = 0


[State 1585]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0

[State 1585]
type = varset
trigger1 = Time = 0
var(4) = 0

[State 1585]
type = Helper
trigger1 = Time = 0 && !var(28)
stateno = 21571


[State 1585]
type = ChangeState
trigger1 = var(4) && FrontEdgeDist <= 10 && !var(28)
value = 1571
ctrl = 0

;---------------------------------------------------------------------------
;Drill Claw  back Horizontal
[Statedef 1586]
type    = U
movetype= A
physics = N
juggle  = 3
;poweradd= 60
ctrl = 0
velset = 0,0
anim = 1582;+(StateType = A)
sprpriority = 0
;facep2 = 1

[State 1586]
type = Turn
trigger1 = Time = 0

[State 1586]
type = null;Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1



[State 1586]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1570,0

[State 1586]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,1



[State 1586]
type = HitDef
attr = S, SA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 9*var(30),floor(var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -14,-7
air.velocity = -14,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25


[State 1586]
type = VelSet
trigger1 = AnimElem = 1
;y = -9
x = 9


[State 1586]
type = null;VelAdd
trigger1 = AnimElem = 1, > 0
y = 0.35

[State 1586]
type = null;StateTypeSet
trigger1 = AnimElem = 1, > 0
statetype = A
persistent = 0

[State 1586]
type = ChangeState
trigger1 = !MoveContact && Time >= 17 && !var(1)
value = 1579
ctrl = 0

[State 1586]
type = ChangeState
trigger1 = !MoveContact && Time >= 17 && var(1)
value = 52
ctrl = 0


[State 1586]
type = ChangeState
trigger1 = MoveContact
value = 1578
ctrl = 0


[State 1586]
type = varset
trigger1 = Time = 0
var(4) = 0

[State 1586]
type = Helper
trigger1 = Time = 0 && !var(28)
stateno = 21571


[State 1586]
type = ChangeState
trigger1 = var(4) && FrontEdgeDist <= 10 && !var(28)
value = 1571
ctrl = 0


;---------------------------------------------------------------------------
;Drill Claw  Up Backward
[Statedef 1587]
type    = U
movetype= A
physics = N
juggle  = 3
;poweradd= 60
ctrl = 0
velset = 0,0
anim = 1581;+(StateType = A)
sprpriority = 0
;facep2 = 1


[State 1587]
type = Turn
trigger1 = Time = 0

[State 1587]
type = null;Explod
trigger1 = Time = 0 && StateType = S
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1




[State 1587]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1570,0

[State 1587]
type = PlaySnd
trigger1 = AnimElem = 1
value = 220,1



[State 1587]
type = HitDef
attr = S, SA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 9*var(30),floor(var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -14,-7
air.velocity = -14,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25


[State 1587]
type = VelSet
trigger1 = AnimElem = 1
y = -9
x = 9


[State 1587]
type = VelSet
trigger1 = ScreenPos Y < 100 && Vel Y != 0
y = 0

[State 1587]
type = null;VelAdd
trigger1 = AnimElem = 1, > 0
y = 0.35

[State 1587]
type = StateTypeSet
trigger1 = AnimElem = 1, > 0
statetype = A
persistent = 0

[State 1587]
type = ChangeState
trigger1 = !MoveContact && Time >= 17; && !var(1)
value = 1579
ctrl = 0

[State 1587]
type = null;ChangeState
trigger1 = !MoveContact && Time >= 17 && var(1)
value = 52
ctrl = 0


[State 1587]
type = ChangeState
trigger1 = MoveContact
value = 1578
ctrl = 0

[State 1587]
type = varset
trigger1 = Time = 0
var(4) = 0

[State 1587]
type = Helper
trigger1 = Time = 0 && !var(28)
stateno = 21571


[State 1587]
type = ChangeState
trigger1 = var(4) && FrontEdgeDist <= 10 && !var(28)
value = 1571
ctrl = 0

;---------------------------------------------------------------------------
;Berserker Barrage X

[Statedef 3000]
type    = U
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3000;+10*(StateType = A)
poweradd= 150
ctrl = 0
sprpriority = 0
;facep2 = 1


[State 3000]
type = Explod
trigger1 = AnimElem = 1
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1



[State 3000]
type = SuperPause
trigger1 = Time = 12
anim = -1;S32701
sound = -1;S3000,3
poweradd = -1000
time = 60
movetime = 60
unhittable = 1
darken = 0


;about 8 ticks before 3110
[State 3000]
type = Helper
trigger1 = Time = 20
stateno = 33117
supermovetime = 9999
pausemovetime = 9999
pos = 0,-200
ownpal = 1
postype = back
size.xscale = 1
size.yscale = 1

[State 3000]
type = Helper
trigger1 = Time = 28
stateno = 33110
id = 33110
supermovetime = 9999
pausemovetime = 9999
pos = 34,-18
ownpal = 1



[State 3000]
type = null;NotHitBy
trigger1 = AnimElem = 4, >= 0
value = SCA


[State 3000]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0


[State 3000]
type = null;PalFX
trigger1 = Time%2 = 0
time = 1
add = 64,-255,-255
color = 0
ignorehitpause = 1


[State 3000]
type = PlaySnd
trigger1 = Time = 40
value = 3001,0


[State 3000]
type = ChangeState
trigger1 = AnimTime = 0
value = 3001
ctrl = 0


;---------------------------------------------------------------------------
;Berserker Barrage X
[Statedef 3001]
type    = U
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = 3001
ctrl = 0
sprpriority = 0
facep2 = 1
;movehitpersist = 1
;hitcountpersist = 1

[State 3001]
type = null;NotHitBy
trigger1 = 1
value = SCA



[State 3001]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0


[State 3001]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3001]
type = Helper
trigger1 = AnimElem = 1
stateno = 23002
ownpal = 1

[State 3001]
type = VelSet
trigger1 = AnimElem = 1
x = 5

[State 3001]
type = PlaySnd
trigger1 = AnimElemNo(0) = [2,6]
trigger1 = Time%2 = 0
value = 200,1

[State 3001]
type = Helper
trigger1 = AnimElem = 1, = 1 || AnimElem = 4
stateno = 23000
ownpal = 1


[State 3001]
type = Helper
trigger1 = AnimElem = 3 || AnimElem = 6
stateno = 23001
ownpal = 1



[State 3001]
type = ChangeAnim
trigger1 = AnimElem = 7 && Time < 40
value = anim


[State 3001]
type = PlaySnd
trigger1 = AnimElem = 7
value = 220,0

[State 3001]
type = HitDef
attr = S, HA
trigger1 = hitcount < 20
trigger1 = AnimElem = 1 || AnimElem = 3 || AnimElem = 5
;trigger1 = hitcount < 1
;trigger1 = moveguarded < 1
damage = var(30),floor(var(30)/8)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 2,2
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,11
guardsound = S4,0
sparkno = S7280
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 45
ground.velocity = -7
air.velocity = -7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 5,2


[State 3001]
type = HitDef
attr = S, HA
trigger1 = hitcount < 20
trigger1 = AnimElem = 2 || AnimElem = 4 || AnimElem = 6
;trigger1 = hitcount < 1
;trigger1 = moveguarded < 1
damage = var(30),floor(var(30)/8)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 2,2
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,11
guardsound = S4,0
sparkno = S7281
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 45
ground.velocity = -7
air.velocity = -7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 5,2


[State 3001]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 8
;trigger1 = hitcount < 1
;trigger1 = moveguarded < 1
damage = 8*var(30),floor(var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 7,7
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S220,2
guardsound = S4,0
sparkno = S7283
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -30,-11
air.velocity = -30,-11
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
p2stateno = 9020
getpower = 5,2


[State 3001]
type = StateTypeSet
trigger1 = AnimElem = 8
physics = S


[State 3001]
type = ChangeState
trigger1 = FrontEdgeDist < 5 && !MoveContact
value = 3019
ctrl = 0

[State 3001]
type = ChangeState
trigger1 = AnimTime = 0
value = 12
ctrl = 1





;---------------------------------------------------------------------------
;Berserker Barrage X End
[Statedef 3019]
type    = S
movetype= I
physics = S
juggle  = 1
;poweradd=
velset = 0,0
;anim = 3001
ctrl = 0
sprpriority = 0
;facep2 = 1



[State 3019]
type = null;ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0


[State 3019]
type = null;VelAdd
trigger1 = Time >= 12
y = 0.4


[State 3019]
type = null;CtrlSet
trigger1 = Anim = 70
value = 1
persistent = 0

[State 3019]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3019]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3019]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0


[State 3019]
type = null;ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1


[State 3019]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Berserker Charge

[Statedef 3040]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3040
poweradd= 150
ctrl = 0
sprpriority = 0
;facep2 = 1


[State 3040]
type = Explod
trigger1 = AnimElem = 1
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1

[State 3040]
type = SuperPause
trigger1 = Time = 4
anim = -1;S32701
sound = -1;S3000,3
poweradd = -1000
time = 60
movetime = 60
unhittable = 1
darken = 0


;about 8 ticks before 3110
[State 3040]
type = Helper
trigger1 = Time = 5
stateno = 33117
supermovetime = 9999
pausemovetime = 9999
pos = 0,-200
ownpal = 1
postype = back
size.xscale = 1
size.yscale = 1

[State 3040]
type = Helper
trigger1 = Time = 13
stateno = 33110
id = 33110
supermovetime = 9999
pausemovetime = 9999
pos = -8,-63
ownpal = 1



[State 3040]
type = null;NotHitBy
trigger1 = AnimElem = 4, >= 0
value = SCA


[State 3040]
type = null;ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0


[State 3040]
type = null;PalFX
trigger1 = Time%2 = 0
time = 1
add = 64,-255,-255
color = 0
ignorehitpause = 1


[State 3040]
type = ChangeState
trigger1 = AnimTime = 0
value = 3041
ctrl = 0


;---------------------------------------------------------------------------
;Berserker Charge
[Statedef 3041]
type    = U
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = 3041
ctrl = 0
sprpriority = 0
;facep2 = 1


[State 3041]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3041]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3041]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0


[State 3041]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3041]
type = PlaySnd
trigger1 = Time = 0
value = 310,0


[State 3041]
type = PlaySnd
trigger1 = AnimElem = 3
value = 192,1


[State 3041]
type = VarSet
trigger1 = AnimElem = 4
var(39) = 1

[State 3041]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 3 || AnimElem = 4
;trigger1 = hitcount < 1
;trigger1 = moveguarded < 1
damage = var(30),floor(var(30)/8)
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 2,2
sparkxy = -10,-50+floor(P2Dist Y)
hitsound   = S1,11
guardsound = S4,0
sparkno = S7280
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -9
air.velocity = -9
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;all.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 5,2
persistent = 0


[State 3041]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1





;---------------------------------------------------------------------------
;Berserker Charge End
[Statedef 3049]
type    = S
movetype= I
physics = N
juggle  = 1
;poweradd=
velset = 0,0
;anim = 3049
ctrl = 0
sprpriority = 0
;facep2 = 1


[State 3049]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3049]
type = null;PlayerPush
trigger1 = 1
value = 0


[State 3049]
type = null;PalFx
trigger1 = Time%8 = 0
color = 256
time = 4
add = 255,63,-255

[State 3049]
type = null;AfterImage
trigger1 = time = 0
time = 30
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3


[State 3049]
type = null;ChangeAnim
trigger1 = AnimTime = 0
value = 41
elem = 7
persistent = 0

[State 3049]
type = null;VelAdd
trigger1 = 1
y = 0.4


[State 3049]
type = null;ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0

[State 3049]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;Fatal Claw

[Statedef 3080]
type    = U
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3080 + 10*(StateType = A)
poweradd= 150
ctrl = 0
sprpriority = 0
;facep2 = 1


[State 3080]
type = Explod
trigger1 = AnimElem = 1 && StateType != A
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1

[State 3080]
type = SuperPause
trigger1 = Time = 8
anim = -1;S32701
sound = -1;S3000,3
poweradd = -1000
time = 60
movetime = 60
unhittable = 1
darken = 0


;about 8 ticks before 3110
[State 3080]
type = Helper
trigger1 = Time = 9
stateno = 33117
supermovetime = 9999
pausemovetime = 9999
pos = 0,-200
ownpal = 1
postype = back
size.xscale = 1
size.yscale = 1

[State 3080]
type = Helper
trigger1 = Time = 17 && StateType != A
stateno = 33110
id = 33110
supermovetime = 9999
pausemovetime = 9999
pos = 70,-50
ownpal = 1


[State 3080]
type = Helper
trigger1 = Time = 17 && StateType = A
stateno = 33110
id = 33110
supermovetime = 9999
pausemovetime = 9999
pos = 29,-58
ownpal = 1

[State 3080]
type = null;NotHitBy
trigger1 = AnimElem = 4, >= 0
value = SCA


[State 3080]
type = null;ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0


[State 3080]
type = null;PalFX
trigger1 = Time%2 = 0
time = 1
add = 64,-255,-255
color = 0
ignorehitpause = 1


[State 3080]
type = ChangeState
trigger1 = AnimTime = 0
value = 3081
ctrl = 0


;---------------------------------------------------------------------------
;Fatal Claw

[Statedef 3081]
type    = U
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = 3081
ctrl = 0
sprpriority = 0
;facep2 = 1


[State 3081]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3081]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3081]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0


[State 3081]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3081]
type = PlaySnd
trigger1 = Time = 0
value = 220,0


[State 3081]
type = VelSet
trigger1 = AnimElem = 1 && StateType != A
x = 3
y = -7

[State 3081]
type = VelSet
trigger1 = Time > 14 && StateType != A
x = 0.5
y = -0.5
persistent = 0


[State 3081]
type = VelSet
trigger1 = Time = 0 && StateType = A
x = 1
y = -0.5
persistent = 0

[State 3081]
type = Helper
trigger1 = AnimElem = 4, >= 1 && Time%17 = 0
stateno = 23080
id = 23080



[State 3081]
type = ChangeState
trigger1 = Time >= 70
value = 3089
ctrl = 0


;---------------------------------------------------------------------------
;Berserker Charge End
[Statedef 3089]
type    = S
movetype= I
physics = N
juggle  = 1
;poweradd=
velset = 2,-1
;anim = 3049
ctrl = 0
sprpriority = 0
;facep2 = 1


[State 3089]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3089]
type = null;PlayerPush
trigger1 = 1
value = 0


[State 3089]
type = null;PalFx
trigger1 = Time%8 = 0
color = 256
time = 4
add = 255,63,-255

[State 3089]
type = null;AfterImage
trigger1 = time = 0
time = 30
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3


[State 3089]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 42
elem = 9
persistent = 0

[State 3089]
type = VelAdd
trigger1 = 1
y = 0.4


[State 3089]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0

[State 3089]
type = null;ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Tornado Claw X

[Statedef 3120]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3120
poweradd= 150
ctrl = 0
sprpriority = 0
;facep2 = 1


[State 3120]
type = Explod
trigger1 = AnimElem = 1 && StateType != A
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1

[State 3120]
type = SuperPause
trigger1 = Time = 7
anim = -1;S32701
sound = -1;S3000,3
poweradd = -1000
time = 60
movetime = 60
unhittable = 1
darken = 0


;about 8 ticks before 3110
[State 3120]
type = Helper
trigger1 = Time = 8
stateno = 33117
supermovetime = 9999
pausemovetime = 9999
pos = 0,-200
ownpal = 1
postype = back
size.xscale = 1
size.yscale = 1

[State 3120]
type = Helper
trigger1 = Time = 16
stateno = 33110
id = 33110
supermovetime = 9999
pausemovetime = 9999
pos = 67,-40
ownpal = 1



[State 3120]
type = null;NotHitBy
trigger1 = AnimElem = 4, >= 0
value = SCA


[State 3120]
type = null;ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0


[State 3120]
type = null;PalFX
trigger1 = Time%2 = 0
time = 1
add = 64,-255,-255
color = 0
ignorehitpause = 1


[State 3120]
type = ChangeState
trigger1 = AnimTime = 0
value = 3121
ctrl = 0


;---------------------------------------------------------------------------
;Tornado Claw X
[Statedef 3121]
type    = S
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = 3121
ctrl = 0
sprpriority = 0
;facep2 = 1


[State 3121]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3121]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3121]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0


[State 3121]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3121]
type = PlaySnd
trigger1 = Time = 0
value = 1510,0
persistent = 0


[State 3121]
type = PlaySnd
trigger1 = Time%7 = 0
value = 200,1



[State 3121]
type = HitDef
attr = SA, HA
;trigger1 = Time%2 = 0
trigger1 = hitcount < 12
trigger1 = moveguarded < 1
damage = 2*var(30),floor(var(30)/8)
animtype = Medium
priority  = 5, Hit
guardflag = HA
pausetime = 3,1
sparkxy = -10,-70+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+10*(random%2) +random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 0,-10
air.velocity = 0,-10
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
all.recover = 1
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25


[State 3002]
type = HitDef
attr = SA, HA
;trigger1 = Time%2 = 0
trigger1 = hitcount > 11
trigger1 = moveguarded < 1
damage = 2*var(30),floor(var(30)/8)
animtype = Medium
priority  = 5, Hit
guardflag = HA
pausetime = 3,1
sparkxy = -10,-70+floor(P2Dist Y)
hitsound   = S220,2
guardsound = S4,0
sparkno = S(8200+10*(random%2) +random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -30,-11
air.velocity = -30,-5
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
all.recover = 1
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25
p2stateno = 9020
persistent = 0

[State 3121]
type = VelSet
trigger1 = AnimElem = 1
y = -11
persistent = 0



[State 3121]
type = null;VelAdd
trigger1 = Pos Y < 0
y = 0.4


[State 3121]
type = Varset
trigger1 = time = 0
var(0) = 13

[State 3121]
type = VarAdd
trigger1 = MoveGuarded
var(0) = -1

[State 3121]
type = MoveHitReset
trigger1 = var(0) > 0
trigger1 = MoveGuarded

[State 3121]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


[State 3121]
type = ChangeState
trigger1 = Time >= 60
value = 3129
ctrl = 0





;---------------------------------------------------------------------------
;Tornado Claw X End
[Statedef 3129]
type    = A
movetype= I
physics = N
juggle  = 1
;poweradd=
velset = 0,0
;anim = 3049
ctrl = 0
sprpriority = 0
;facep2 = 1


[State 3129]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3129]
type = null;PlayerPush
trigger1 = 1
value = 0


[State 3129]
type = null;PalFx
trigger1 = Time%8 = 0
color = 256
time = 4
add = 255,63,-255

[State 3129]
type = null;AfterImage
trigger1 = time = 0
time = 30
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3


[State 3129]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 1515
persistent = 0

[State 3129]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.4


[State 3129]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0

[State 3129]
type = null;ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Drill Claw X

[Statedef 3160]
type    = U
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3160;+10*(StateType = A)
poweradd= 150
ctrl = 0
sprpriority = 0
;facep2 = 1


[State 3160]
type = PosSet
trigger1 = Anim = 3160
x = -150*facing

[State 3160]
type = Explod
trigger1 = AnimElem = 1 && StateType != A
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1



[State 3160]
type = SuperPause
trigger1 = Time = 8
anim = -1;S32701
sound = -1;S3000,3
poweradd = -1000
time = 60
movetime = 60
unhittable = 1
darken = 0


;about 8 ticks before 3110
[State 3160]
type = Helper
trigger1 = Time = 9
stateno = 33117
supermovetime = 9999
pausemovetime = 9999
pos = 0,-200
ownpal = 1
postype = back
size.xscale = 1
size.yscale = 1

[State 3160]
type = Helper
trigger1 = Time = 17
stateno = 33110
id = 33110
supermovetime = 9999
pausemovetime = 9999
pos = -10,-60
ownpal = 1



[State 3160]
type = null;NotHitBy
trigger1 = AnimElem = 4, >= 0
value = SCA


[State 3160]
type = null;ScreenBound
trigger1 = 1
value = 1
movecamera = 1,1


[State 3160]
type = null;PalFX
trigger1 = Time%2 = 0
time = 1
add = 64,-255,-255
color = 0
ignorehitpause = 1


[State 3160]
type = varset
trigger1 = Time = 0
var(4) = 0

[State 3160]
type = ChangeState
trigger1 = AnimTime = 0
value = 3161
ctrl = 0


;---------------------------------------------------------------------------
;Drill Claw X
[Statedef 3161]
type    = U
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
;anim = var(4)
ctrl = 0
sprpriority = 0
facep2 = 1
movehitpersist = 1
;hitcountpersist = 1

[State 3161]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3161]
type = PlayerPush
trigger1 = 1
value = 0

[State 3161]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0



[State 3161]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3161]
type = PlaySnd
trigger1 = Time = 0 && !var(4)
value = 1580,0


[State 3161]
type = VarSet
trigger1 = Time = 0
trigger1 = Pos X = Enemynear,Pos X
fvar(1) = (Pos Y -  (enemynear,Pos Y))


[State 3161]
type = VarSet
trigger1 = Time = 0
trigger1 = Pos X != Enemynear,Pos X
fvar(1) = facing*((Pos Y - (enemynear,Pos Y))/(Pos X - (enemynear,Pos X)))


[State 3161]
type = VarSet
trigger1 = Time = 0 && fvar(1) = 0
fvar(1) = 1

[State 3161]
type = VelSet
trigger1 = Time = 0
x = 27


[State 3161]
type = VelSet
trigger1 = Time = 0
y = (Vel X)*fvar(1)


[State 3161]
type = VelSet
trigger1 = Time = 0 && Vel Y > 37
y = 37


[State 3161]
type = VelSet
trigger1 = Time = 0 && Vel Y < -37
y = -37

[State 3161]
type = VelSet
trigger1 = Time = 0 && abs(Vel Y) = 37
x = floor(Vel Y/(fvar(1)))


[State 3161]
type = VelSet
trigger1 = Time = 0 && Vel X = 0
x = 1



[State 3161]
type = ChangeAnim
trigger1 = Time = 0
value = 3161+floor(((atan(((Vel Y))/(Vel X)))*(360/(2*pi))+90)/20)



[State 3161]
type = HitDef
attr = A, HA
trigger1 = var(4) < 6
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 4*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
hitflag = MAFD
guardflag = MA
pausetime = 3,1
sparkxy = -10,-70+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+10*(random%2)+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 1,-7
air.velocity = 1,-7
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
all.recover = 1
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25


[State 3161]
type = HitDef
attr = A, HA
trigger1 = var(4) >= 6
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 5*var(30),floor(var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = HA
pausetime = 7,7
sparkxy = -10,-70+floor(P2Dist Y)
hitsound   = S220,2
guardsound = S4,0
sparkno = S(8200+10*(random%2)+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -30,-9
air.velocity = -30,-9
;guard.velocity = -9
;airguard.velocity = -9
;fall.xvelocity = -3
;ground.cornerpush.veloff = 0
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
all.recover = 1
;fall.animtype = Up
;p2stateno = 9020
;getpower = 50,25
p2stateno = 9020

[State 3161]
type = varadd
trigger1 = MoveHit
var(4) = 1
persistent = 0

[State 3161]
type = ChangeAnim
trigger1 = Anim != [3170,3173]
trigger1 = MoveHit && FrontEdgeDist < 15
value = 3170
persistent = 0


[State 3161]
type = ChangeAnim
trigger1 = Anim != [3170,3173]
trigger1 = MoveHit && ScreenPos Y < 80 && Vel Y < 0
value = 3173
persistent = 0

[State 3161]
type = ChangeAnim
trigger1 = Anim != [3170,3173]
trigger1 = MoveHit && ScreenPos Y > 240 && Vel Y > 0
value = 3172
persistent = 0

[State 3161]
type = VelSet
trigger1 = Anim = [3170,3173]
x = 0
y = 0




[State 3161]
type = Turn
trigger1 = Anim = [3170,3173]
trigger1 = p2bodydist x < 0
persistent = 0

[State 3161]
type = ChangeState
trigger1 = Anim = [3170,3173]
trigger1 = AnimTime = 0
value = 3161
ctrl = 0


[State 3161]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = var(4) > 7
value = 3178
ctrl = 0

[State 3161]
type = ChangeState
trigger1 = !MoveContact && Anim = [3161,3169]
trigger1 = FrontEdgeDist < 15 || ScreenPos Y > 320+abs(p2dist y) || ScreenPos Y < -abs(p2dist y)
value = 3178
ctrl = 0

[State 3161]
type = ChangeState
trigger1 = !MoveContact
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



;---------------------------------------------------------------------------
;Drill Claw X Start

[Statedef 3170]
type    = U
movetype= A
physics = N
juggle  = 4
velset = 0,0
;anim = 3160;+10*(StateType = A)
;poweradd= 150
ctrl = 0
sprpriority = 0
facep2 = 1

[State 3170]
type = ChangeAnim
trigger1 = Time = 0
value = 3180

[State 3170]
type = Explod
trigger1 = AnimElem = 1 && StateType != A
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1


[State 3170]
type = VelSet
trigger1 = Time = 0
x = -3-(BackEdgeDist)*0.03
y = -8-(BackEdgeDist)*0.01

[State 3170]
type = VelAdd
trigger1 = 1
y = 0.3

[State 3170]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0


[State 3170]
type = ChangeState
trigger1 = BackEdgeDist < 15 && Pos Y < -80
value = 3160
ctrl = 0

[State 3170]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
;Drill Claw X End
[Statedef 3178]
type    = A
movetype= I
physics = A
juggle  = 1
;poweradd=
velset = -2,-3
anim = 5040
ctrl = 0
sprpriority = 0
facep2 = 1





[State 3178]
type = null;ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0


[State 3178]
type = null;VelAdd
trigger1 = Time >= 12
y = 0.4


[State 3178]
type = null;CtrlSet
trigger1 = Anim = 70
value = 1
persistent = 0

[State 3178]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3178]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3178]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0


[State 3178]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


[State 3178]
type = null;ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;Weapon X

[Statedef 3400]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3400
poweradd= 150
ctrl = 0
sprpriority = 0
facep2 = 1


[State 3400]
type = Explod
trigger1 = AnimElem = 1
anim = 7023
;scale = .5,.5
ontop = 1
ownpal = 1

[State 3400]
type = SuperPause
trigger1 = Time = 15
anim = -1;S32701
sound = -1;S3400,3
poweradd = -1000
time = 60
movetime = 60
unhittable = 1
darken = 0


;about 8 ticks before 3110
[State 3400]
type = Helper
trigger1 = Time = 16
stateno = 33117
supermovetime = 9999
pausemovetime = 9999
pos = 0,-200
ownpal = 1
postype = back
size.xscale = 1
size.yscale = 1

[State 3400]
type = Helper
trigger1 = Time = 24
stateno = 33110
id = 33110
supermovetime = 9999
pausemovetime = 9999
pos = 0,-48
ownpal = 1


[State 3400]
type = null;NotHitBy
trigger1 = AnimElem = 4, >= 0
value = SCA


[State 3400]
type = null;ScreenBound
trigger1 = 1
value = 1
movecamera = 1,1


[State 3400]
type = null;PalFX
trigger1 = Time%2 = 0
time = 1
add = 64,-255,-255
color = 0
ignorehitpause = 1


[State 3400]
type = PlaySnd
trigger1 = Time = 7
value = 192,0

[State 3400]
type = PlaySnd
trigger1 = AnimElem = 5
value = 192,1

[State 3400]
type = ChangeState
trigger1 = AnimTime = 0
value = 3401
ctrl = 0


;---------------------------------------------------------------------------
;Weapon X
[Statedef 3401]
type    = S
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = 3401
ctrl = 0
sprpriority = 0
facep2 = 1


[State 3401]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3401]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3401]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1



[State 3401]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3401]
type = Helper
trigger1 = Time = 0
stateno = 23402
ownpal = 1



[State 3401]
type = AfterImage
trigger1 = Time = 0
time = 27
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3


[State 3401]
type = null;ChangeAnim
trigger1 = Time = 2
value = anim
elem = 2
persistent = 0


[State 3401]
type = VelSet
trigger1 = Time = 0
x = 13


[State 3401]
type = VelAdd
trigger1 = Vel X < 23
x = 0.3


[State 3401]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,6


[State 3401]
type = HitDef
attr = S, HA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 2*var(30),var(30)/2
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -20,-50
hitsound   = S1,1
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = 0,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
airguard.velocity = -9
guard.velocity = -9
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 5,2
;p2stateno = 3031



[State 3401]
type = ChangeState
trigger1 = MoveHit
trigger1 = !HitPauseTime
;trigger2 = AnimElem = 4
value = stateno + 1


[State 3401]
type = ChangeState
trigger1 = Time >= 27 || MoveGuarded
trigger2 = FrontEdgeDist < 5 && !MoveContact
value = 3419
ctrl = 0



;---------------------------------------------------------------------------
;Weapon X 2
[Statedef 3402]
type    = S
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 3,0
anim = 200
ctrl = 0
sprpriority = 0
facep2 = 1


[State 3402]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3402]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3402]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1



[State 3402]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1



[State 3402]
type = AfterImage
trigger1 = Time = 0
time = 27
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3


[State 3401]
type = null;ChangeAnim
trigger1 = Time = 2
value = anim
elem = 3
persistent = 0

[State 3402]
type = Velset
trigger1 = P2BodyDist X <= 0
x = 0.5

[State 3402]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 3402]
type = HitDef
attr = S, HA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = var(30),var(30)/2
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-50
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8220+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = 0,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
airguard.velocity = -5
guard.velocity = -5
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 5,2
;p2stateno = 3031



[State 3402]
type = ChangeState
trigger1 = MoveHit
trigger1 = !HitPauseTime
trigger2 = AnimElem = 3
value = stateno + 1


[State 3402]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Weapon X 3
[Statedef 3403]
type    = S
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 3,0
anim = 210
ctrl = 0
sprpriority = 0
facep2 = 1


[State 3403]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3403]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3403]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1



[State 3403]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3403]
type = AfterImage
trigger1 = Time = 0
time = 27
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3



[State 3403]
type = Velset
trigger1 = P2BodyDist X <= 0
x = 0.5

[State 3403]
type = null;ChangeAnim
trigger1 = Time = 2
value = anim
elem = 2
persistent = 0


[State 3403]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,1

[State 3403]
type = PlaySnd
trigger1 = AnimElem = 1
value = 210,0


[State 3403]
type = HitDef
attr = S, HA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = var(30),var(30)/2
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-60
hitsound   = S1,13
guardsound = S4,0
sparkno = S(8200+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = 0,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
airguard.velocity = -5
guard.velocity = -5
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 5,2
;p2stateno = 3031



[State 3403]
type = ChangeState
trigger1 = MoveHit
trigger1 = !HitPauseTime
trigger2 = AnimElem = 5
value = stateno + 1


[State 3403]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Weapon X 4
[Statedef 3404]
type    = S
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 3,0
anim = 211
ctrl = 0
sprpriority = 0
facep2 = 1


[State 3404]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3404]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3404]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1



[State 3404]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3404]
type = AfterImage
trigger1 = Time = 0
time = 27
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3



[State 3404]
type = Velset
trigger1 = P2BodyDist X <= 0
x = 0.5


[State 3404]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,1

[State 3404]
type = PlaySnd
trigger1 = AnimElem = 1
value = 210,0


[State 3404]
type = HitDef
attr = S, HA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = var(30),var(30)/2
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-60
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = 0,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
airguard.velocity = -5
guard.velocity = -5
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 5,2
;p2stateno = 3031



[State 3404]
type = ChangeState
trigger1 = MoveHit
trigger1 = !HitPauseTime
trigger2 = AnimElem = 5
value = stateno + 1


[State 3404]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;Weapon X 5
[Statedef 3405]
type    = S
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 3,0
anim = 300
ctrl = 0
sprpriority = 0
facep2 = 1


[State 3405]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3405]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3405]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1



[State 3405]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3405]
type = AfterImage
trigger1 = Time = 0
time = 27
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3



[State 3405]
type = Velset
trigger1 = P2BodyDist X <= 0
x = 0.5


[State 3405]
type = null;ChangeAnim
trigger1 = Time = 2
value = anim
elem = 2
persistent = 0

[State 3405]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,1


[State 3405]
type = HitDef
attr = S, HA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = var(30),var(30)/2
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-30
hitsound   = S1,5
guardsound = S4,0
sparkno = S(8220+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = 0,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
airguard.velocity = -5
guard.velocity = -5
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 5,2
;p2stateno = 3031



[State 3405]
type = ChangeState
trigger1 = MoveHit
trigger1 = !HitPauseTime
trigger2 = AnimElem = 4
value = stateno + 1


[State 3405]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;---------------------------------------------------------------------------
;Weapon X 6
[Statedef 3406]
type    = S
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 3,0
anim = 600
ctrl = 0
sprpriority = 0
facep2 = 1


[State 3406]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3406]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3406]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1



[State 3406]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3406]
type = AfterImage
trigger1 = Time = 0
time = 27
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3



[State 3406]
type = Velset
trigger1 = P2BodyDist X <= 0
x = 0.5


[State 3406]
type = null;ChangeAnim
trigger1 = Time = 0
value = anim
elem = 3
persistent = 0


[State 3406]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1


[State 3406]
type = HitDef
attr = S, HA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = var(30),var(30)/2
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-70
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8200+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = 0,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
airguard.velocity = -5
guard.velocity = -5
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 5,2
;p2stateno = 3031



[State 3406]
type = ChangeState
trigger1 = MoveHit
trigger1 = !HitPauseTime
trigger2 = AnimElem = 4, >= 4
value = stateno + 1


[State 3406]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Weapon X 7
[Statedef 3407]
type    = S
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 3,0
anim = 700
ctrl = 0
sprpriority = 0
facep2 = 1


[State 3407]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3407]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3407]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1



[State 3407]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3407]
type = AfterImage
trigger1 = Time = 0
time = 27
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3



[State 3407]
type = Velset
trigger1 = P2BodyDist X <= 0
x = 0.5


[State 3407]
type = null;ChangeAnim
trigger1 = Time = 2
value = anim
elem = 3
persistent = 0


[State 3407]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0


[State 3407]
type = HitDef
attr = S, HA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = var(30),var(30)/2
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-70
hitsound   = S1,6
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = 0,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
airguard.velocity = -5
guard.velocity = -5
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 5,2
;p2stateno = 3031



[State 3407]
type = ChangeState
trigger1 = MoveHit
trigger1 = !HitPauseTime
trigger2 = AnimElem = 3, >= 4
value = stateno + 1


[State 3407]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Weapon X 8
[Statedef 3408]
type    = S
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 3,0
anim = 610
ctrl = 0
sprpriority = 0
facep2 = 1


[State 3408]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3408]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3408]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1



[State 3408]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3408]
type = AfterImage
trigger1 = Time = 0
time = 27
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3



[State 3408]
type = Velset
trigger1 = P2BodyDist X <= 0
x = 0.5

[State 3408]
type = null;ChangeAnim
trigger1 = Time = 2
value = anim
elem = 2
persistent = 0


[State 3408]
type = PlaySnd
trigger1 = Time = 4
value = 310,0


[State 3408]
type = PlaySnd
trigger1 = Time = 4
value = 210,1


[State 3408]
type = HitDef
attr = S, HA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = var(30),var(30)/2
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-50
hitsound   = S1,12
guardsound = S4,0
sparkno = S(8220+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = 0,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
airguard.velocity = -5
guard.velocity = -5
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 5,2
;p2stateno = 3031



[State 3408]
type = ChangeState
trigger1 = MoveHit
trigger1 = !HitPauseTime
trigger2 = AnimElem = 3
value = stateno + 1


[State 3408]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Weapon X 9
[Statedef 3409]
type    = S
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 3,0
anim = 611
ctrl = 0
sprpriority = 0
facep2 = 1


[State 3409]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3409]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3409]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1



[State 3409]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3409]
type = AfterImage
trigger1 = Time = 0
time = 27
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3



[State 3409]
type = Velset
trigger1 = P2BodyDist X <= 0
x = 0.5


[State 3409]
type = null;ChangeAnim
trigger1 = Time = 0
value = anim
elem = 3
persistent = 0


[State 3409]
type = PlaySnd
trigger1 = Time = 4
value = 310,0


[State 3409]
type = PlaySnd
trigger1 = Time = 4
value = 210,1


[State 3409]
type = HitDef
attr = S, HA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = var(30),var(30)/2
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-50
hitsound   = S1,13
guardsound = S4,0
sparkno = S(8200+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = 0,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
airguard.velocity = -5
guard.velocity = -5
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 5,2
;p2stateno = 3031



[State 3409]
type = ChangeState
trigger1 = MoveHit
trigger1 = !HitPauseTime
trigger2 = AnimElem = 4
value = stateno + 1

[State 3409]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Weapon X 10
[Statedef 3410]
type    = S
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 3,0
anim = 710
ctrl = 0
sprpriority = 0
facep2 = 1


[State 3410]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3410]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3410]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1



[State 3410]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3410]
type = AfterImage
trigger1 = Time = 0
time = 27
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3



[State 3410]
type = Velset
trigger1 = P2BodyDist X <= 0
x = 0.5


[State 3410]
type = null;ChangeAnim
trigger1 = Time = 0
value = anim
elem = 2
persistent = 0


[State 3410]
type = PlaySnd
trigger1 = Time = 2
value = 0,1

[State 3410]
type = PlaySnd
trigger1 = Time = 5
value = 320,0


[State 3410]
type = HitDef
attr = S, HA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = var(30),var(30)/2
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,5
sparkxy = -10,-50
hitsound   = S1,6
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = 0,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
airguard.velocity = -5
guard.velocity = -5
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 5,2




[State 3410]
type = ChangeState
trigger1 = MoveHit
trigger1 = !HitPauseTime
trigger2 = AnimElem = 4
value = stateno + 1


[State 3410]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Weapon X 11
[Statedef 3411]
type    = S
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 3,0
anim = 620
ctrl = 0
sprpriority = 0
facep2 = 1


[State 3411]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3411]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3411]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1



[State 3411]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3411]
type = AfterImage
trigger1 = Time = 0
time = 27
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3



[State 3411]
type = Velset
trigger1 = P2BodyDist X <= 0
x = 0.5


[State 3411]
type = null;ChangeAnim
trigger1 = Time = 2
value = anim
elem = 2
persistent = 0


[State 3411]
type = PlaySnd
trigger1 = Time = 8
value = 220,1

[State 3411]
type = PlaySnd
trigger1 = Time = 5
value = 220,0


[State 3411]
type = HitDef
attr = S, HA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 3*var(30),var(30)/2
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 5,3
sparkxy = -10,-70
hitsound   = S1,6
guardsound = S4,0
sparkno = S(8220+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 15
ground.hittime  = 25
ground.velocity = 0,-4
air.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
airguard.velocity = -5
guard.velocity = -5
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 5,2
;p2stateno = 3031
;p2stateno = 7321


[State 3411]
type = ChangeState
trigger1 = MoveHit
trigger1 = !HitPauseTime
trigger2 = AnimElem = 4
value = stateno + 1


[State 3411]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Weapon X 12
[Statedef 3412]
type    = S
movetype= A
physics = N
juggle  = 1
;poweradd=
velset = 0,0
anim = 3412
ctrl = 0
sprpriority = 0
facep2 = 1


[State 3412]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3412]
type = PlayerPush
trigger1 = 1
value = 0

[State 3412]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0



[State 3412]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1


[State 3412]
type = AfterImage
trigger1 = Time = 0
time = 27
length = 7
palbright = 30,30,130
palpostbright = 0,0,50
palcontrast =120,120,220
paladd = 0,0,0
palmul = 1,1,1
palcolor = 0
timegap = 2
framegap = 3



[State 3412]
type = null;Velset
trigger1 = P2BodyDist X <= 0
x = 0.5


[State 3412]
type = Velset
trigger1 = AnimElem = 3
x = 7
y = -7
persistent = 0

[State 3412]
type = VelSet
trigger1 = Time > 15
x = 1
y = -1
persistent = 0

[State 3412]
type = PlaySnd
trigger1 = AnimElem = 3
value = 220,0
persistent = 0


[State 3412]
type = Helper
trigger1 = MoveHit
stateno = 23403
pos = 0,-abs(enemynear,const(size.mid.pos.y))
ownpal = 1
persistent = 0
postype = p2


[State 3412]
type = Pause
trigger1 = MoveHit < 30 && Time%2 = 0
time = 3
movetime = 1

[State 3412]
type = HitDef
attr = A, HA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 9*var(30),floor(var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = MA
hitflag = MAF
pausetime = 7,27
sparkxy = -10,-10 + floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(7280+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 0,-9
air.velocity = 0,-9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 10,5
sprpriority = 2
p2stateno = 3416

[State 3412]
type = ChangeState
trigger1 = Time >= 30
value = 3089
ctrl = 0


;---------------------------------------------------------------------------
;Weapon X Get Hit

[Statedef 3416]
type    = U
movetype= H
physics = N
;velset = 0,0
sprpriority = -1

[State 3418]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0


[State 3418]
type = PlayerPush
trigger1 = 1
value = 0


[State 3418]
type = null;SprPriority
trigger1 = AnimElem = 2
value = -1



[State 3418]
type = null;ChangeAnim2
trigger1 = Time = 0
value = 828



[State 3418]
type = null;Turn
trigger1 = facing = enemynear,facing

[State 3418]
type = null;PalFx
trigger1 = AnimElemNo(0) = [4,7]
color = 0
time = 15
add = 64,-128,64


[State 3418]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0

[State 3418]
type = VelAdd
trigger1 = 1
y = .4

[State 3418]
type = DestroySelf
trigger1 = ishelper


[State 3418]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

;---------------------------------------------------------------------------
;Weapon X End
[Statedef 3417]
type    = A
movetype= I
physics = S
juggle  = 1
;poweradd=
velset = 0,0
;anim = 3419
ctrl = 0
sprpriority = 0
;facep2 = 1



[State 3417]
type = ChangeAnim
trigger1 = Time = 0
value = 42
persistent = 0


[State 3417]
type = VelAdd
trigger1 = Time >= 0
y = 0.4


[State 3417]
type = null;CtrlSet
trigger1 = Anim = 70
value = 1
persistent = 0

[State 3417]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3417]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3417]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0


[State 3417]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1


[State 3417]
type = null;ChangeState
trigger1 = AnimTime = 0
value = 12
ctrl = 1



;---------------------------------------------------------------------------
;Weapon X Get Hit

[Statedef 3418]
type    = U
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 3418]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 3418]
type = null;SprPriority
trigger1 = AnimElem = 2
value = -1



[State 3418]
type = ChangeAnim2
trigger1 = Time = 0
value = 828



[State 3418]
type = null;Turn
trigger1 = facing = enemynear,facing

[State 3418]
type = null;PalFx
trigger1 = AnimElemNo(0) = [4,7]
color = 0
time = 15
add = 64,-128,64


[State 3418]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0

[State 3418]
type = SelfState
trigger1 = Time > 120
value = 5000 + 40*(StateType = A)
ctrl = 1

[State 3418]
type = DestroySelf
trigger1 = ishelper


;---------------------------------------------------------------------------
;Weapon X End
[Statedef 3419]
type    = S
movetype= I
physics = S
juggle  = 1
;poweradd=
velset = 0,0
anim = 3419
ctrl = 0
sprpriority = 0
;facep2 = 1



[State 3419]
type = null;ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0


[State 3419]
type = null;VelAdd
trigger1 = Time >= 12
y = 0.4


[State 3419]
type = null;CtrlSet
trigger1 = Anim = 70
value = 1
persistent = 0

[State 3419]
type = null;NotHitBy
trigger1 = 1
value = SCA


[State 3419]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 3419]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0


[State 3419]
type = null;ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1


[State 3419]
type = ChangeState
trigger1 = AnimTime = 0
value = 12
ctrl = 1


;---------------------------------------------------------------------------
; Hyper Spark Helper
[Statedef 33110]
type    = S
movetype= I
physics = N
juggle  = 5
;poweradd= 65
ctrl = 0
velset = 0,0
anim = 32701
sprpriority = 4

[State 33110]
type = PlaySnd
trigger1 = Time = 0
value = 3000,3

[State 33110]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Parent,MoveType = H

;---------------------------------------------------------------------------
; Hyper Portrait Helper
[Statedef 33117]
type    = S
movetype= I
physics = N
juggle  = 5
;poweradd= 65
ctrl = 0
velset = 0,0
anim = 9800;32717
sprpriority = -2


[State 33117]
type = AssertSpecial 
trigger1 = anim = 9800;32717
flag = noBG 
flag2 = nobardisplay
flag3 = noFG 
ignorehitpause = 1

[State 33117]
type = VarSet
trigger1 = Time = 0
var(1) = random%2

[State 33117]
type  = Explod 
trigger1 = Time = 0 && facing = 1
anim = 32717+var(1)
postype = left;back
ID = 32717 
sprpriority = -2
removetime = 7
pos = 0,0
scale = 0.55,0.55
bindtime = 5
facing = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
supermove = 9999
pausemove = 9999

[State 33117]
type  = Explod 
trigger1 = Time = 0 && facing = -1
anim = 32717+var(1)
postype = right;back
ID = 32717 
sprpriority = -2
removetime = 7
pos = 0,0
scale = 0.55,0.55
bindtime = 5
facing = -1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
supermove = 9999
pausemove = 9999

[State 33117]
type= Modifyexplod
trigger1 = Numexplod(32717) && Time <= 6
ID = 32717
scale = 1.3-(.13*(time)),1.3-(.13*(time))

[State 33117]
type  = Explod 
trigger1 = Time = 7 && facing = 1
anim = 32717+var(1)
postype = left;back
ID = 32717 
sprpriority = -2
removetime = 55
pos = 0,0
scale = 0.55,0.55
;bindtime = -1
facing = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
supermove = 9999
pausemove = 9999
vel = -0.2

[State 33117]
type  = Explod 
trigger1 = Time = 7 && facing = -1
anim = 32717+var(1)
postype = right;back
ID = 32717 
sprpriority = -2
removetime = 55
pos = 0,0
scale = 0.55,0.55
;bindtime = -1
facing = -1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
supermove = 9999
pausemove = 9999
vel = 0.2

[State 33117]
type = RemoveExplod
trigger1 = Time > 17
trigger1 = NumHelper(33110) = 0
trigger2 = Parent,MoveType = H
id = 32717

[State 33117]
type = DestroySelf
trigger1 = Time > 17
trigger1 = NumHelper(33110) = 0
trigger2 = Parent,MoveType = H


;---------------------------------------------------------------------------
; Hyper Bg
[Statedef 33120]
physics = N
anim = 9800
sprpriority = -3



[State 33120]
type = VarSet
trigger1 = Time = 0
var(3) = Root,Stateno


[State 33120]
type = AssertSpecial 
trigger1 = anim = 9800
flag = noBG 
flag2 = noFG 
;flag3 = nobardisplay
ignorehitpause = 1


[State 33120]
type  = Explod 
triggerall = Time = 0
trigger1 = p2life > 0
anim = 32710
postype = left
ID = 32710 
sprpriority = -4
removetime = -1
pos = 0,0
scale = 1,1
bindtime = -1
;facing=1
ignorehitpause=1
supermovetime=9999
pausemovetime=9999
supermove = 9999
pausemove = 9999



[State 33120]
type  = null;Explod 
triggerall = Time = 0
trigger1 = p2life > 0
anim = 32710
postype = left
ID = 32710 
sprpriority = -4
removetime = -1
pos = 0,0
scale = 1,1
bindtime = -1
;facing=1
ignorehitpause=1
supermovetime=9999
pausemovetime=9999
supermove = 9999
pausemove = 9999


[State 33120]
type  = null;Explod 
triggerall = Time = 0
trigger1 = p2life > 0
anim = 32710
postype = right
ID = 32710 
sprpriority = -4
removetime = 270
pos = -160,0
scale = 0.642,1
bindtime = -1
facing=-1
ignorehitpause=1
supermovetime=9999
pausemovetime=9999
supermove = 9999
pausemove = 9999



[State 33120] 
type = RemoveExplod 
triggerall = Numexplod(32710)
trigger1 = Root, stateno != var(3)
trigger2 = p2life = 0
trigger3 = Root,MoveType = H

[State 33120] 
type = Destroyself 
triggerall = Numexplod(32710)= 0
triggerall = Time > 7
trigger1 = Root, stateno != var(3)
trigger2 = Root,MoveType = H

[State 33120]
type = ChangeState
trigger1 = p2life = 0
trigger2 = roundstate = 3
value = 33121

;---------------------------------------------------------------------------
; Hyper KO Bg
[Statedef 33121]
physics = N
anim = 9800
sprpriority = -3




[State 33121]
type = AssertSpecial 
trigger1 = anim = 9800
flag = noBG 
flag2 = nobardisplay
flag3 = noFG 
ignorehitpause = 1

[State 33121]
type  = Explod 
triggerall = Time = 0
trigger1 = p2life <= 0
anim = 32715
postype = left
ID = 32715 
sprpriority = -4
pos = 0,0
scale = 1,1
bindtime = -1
;facing=1
ignorehitpause=1
supermovetime=9999
pausemovetime=9999
supermove = 9999
pausemove = 9999

[State 33121]
type = null;PlaySnd
trigger1 = Time = 1
value = 8000,1
channel = 1

[State 33121] 
type = Destroyself 
trigger1 = roundstate = 4
trigger2 = Root,stateno = [180,189]
trigger3 = Time = 60

;---------------------------------------------------------------------------------------
;dizzy
[Statedef 5300]
type    = S
movetype= H
physics = N
juggle  = 4
velset = 0,0
anim = 5300
ctrl = 0
sprpriority = 2

[State 5300]
type = PosSet
trigger1 = time = 0
y = 0


[State 5300,e]
type = SelfState; ChangeState
trigger1 = time = 360
value = 0
ctrl = 1


;---------------------------------------------------------------------------------------
;Short Circuit Dizzyness
[Statedef 5301]
type    = S
movetype= H
physics = N
juggle  = 4
velset = 0,0
anim = 7030+random%3
ctrl = 0
sprpriority = 3


[State 5301]
type = PlaySnd
trigger1 = Time = 0
value = 5300, 0
loop = 1
channel = 4

[State 5301]
type = StopSnd
trigger1 = time = 359
trigger2 = enemy,anim != 5300
channel = 4

[State 5301]
type = DestroySelf
trigger1 = time = 360
trigger2 = enemy,anim != 5300



;------------------------------------------------------------------------------------------------------------
;
[Statedef 5999]
type = S
movetype = I
physics = N
anim = 6000
ctrl = 0
sprpriority = 3
velset = 0,Parent,Vel Y


[State 6003]
type = Varset
trigger1 = Time = 0
var(3) = parent,id

[State 6003]
type = Turn
trigger1 = parent,facing != facing

[State 6003]
type = DestroySelf
trigger1 = !PlayerIDExist(var(3))


[State 6003]
type = BindToParent
trigger1 = PlayerIDExist(var(3))



;------------------------------------------------------------------------------------------------------------
;Stand Spark Helper
[Statedef 6000]
type = S
movetype = I
physics = N
anim = 6000+random%6
ctrl = 0
sprpriority = 2
velset = 0,0



[State 6000]
type = varset
trigger1 = Time = 0
var(2) = parent,stateno

[State 6000]
type = varset
trigger1 = Time = 0
var(1) = random%4

[State 6000]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Parent,Stateno != var(2)


[State 6000]
type = BindToParent
trigger1 = var(1) = 0
pos = 4,-103


[State 6000]
type = BindToParent
trigger1 = var(1) = 1
pos = 20,-50

[State 6000]
type = BindToParent
trigger1 = var(1) = 2
pos = -34,-90

[State 6000]
type = BindToParent
trigger1 = var(1) = 3
pos = -17,-45


;------------------------------------------------------------------------------------------------------------
;Guard Shield Helper
[Statedef 6120]
type = S
movetype = I
physics = N
anim = 6120 + (Parent,StateType = C) + 2*(Parent,StateType = A)
ctrl = 0
sprpriority = 2
velset = 0,0


[State 6120]
type = Turn
trigger1 = AnimElem = 4, < 0
trigger1 = facing!= parent,facing

[State 6120]
type = ChangeAnim
trigger1 = AnimElem = 4
value = anim
elem = 3


[State 6120]
type = ChangeAnim
trigger1 = Parent,Anim = [140,142]
trigger2 = (Parent,Anim != [120,155])
value = anim
elem = 4
persistent = 0

[State 6120]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = NumHelper(6120) = 2

[State 6120]
type = BindToParent
trigger1 = AnimElemNo(0) = [1,4]
pos = 0,0


;------------------------------------------------------------------------------------------------------------
;Guard Push Shield Helper
[Statedef 6125]
type = S
movetype = I
physics = N
anim = 27610 + 5*(Parent,StateType = C) + 10*(Parent,StateType = A)
ctrl = 0
sprpriority = 2
velset = 0,0

[State 6125]
type = Turn
trigger1 = AnimElem = 5, < 0
trigger1 = facing!= parent,facing

[State 6125]
type = ChangeAnim
trigger1 = AnimTime = 0 && Anim = 27610
value = 6120
elem = 5
persistent = 0


[State 6125]
type = ChangeAnim
trigger1 = AnimTime = 0 && Anim = 27615
value = 6121
elem = 5
persistent = 0


[State 6125]
type = ChangeAnim
trigger1 = AnimTime = 0 && Anim = 27620
value = 6122
elem = 5
persistent = 0

[State 6125]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = NumHelper(6120) = 2

[State 6125]
type = BindToParent
trigger1 = Parent,Stateno = [7610,7620]
pos = 0,0




;------------------------------------------------------------------------------------------------------------
;Win 3 Helper
[Statedef 6183]
type = S
movetype = I
physics =N
anim = 6183
ctrl = 0
sprpriority = -1
velset = 0,0



[State 6183]
type = varset
trigger1 = Time = 0
var(2) = parent,stateno


[State 6183]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 6183]
type = ChangeAnim
trigger1 = AnimElem = 3
value = anim


[State 6183]
type = ChangeAnim
trigger1 = Parent,AnimElem = 21
value = anim
elem = 3


[State 6183]
type = PlaySnd
trigger1 = AnimElem = 3, = 1
value = 182,0


[State 6183]
type = DestroySelf
trigger1 = parent,stateno != var(2)




;------------------------------------------------------------------------------------------------------------
;Intro Helper
[Statedef 6192]
type = S
movetype = I
physics =N
anim = 6192
ctrl = 0
sprpriority = -1
velset = 0,0


[State 6192]
type = ChangeAnim
trigger1 = ParentDist Y < -90
value = anim
elem = 2
persistent = 0

[State 6192]
type = null;Turn
trigger1 = Parent,Facing != Facing

[State 6192]
type = DestroySelf
trigger1 = Parent,AnimElem = 8
trigger2 = parent,stateno != [192,199]


[State 6192]
type = null;BindToParent
trigger1 = 1




;------------------------------------------------------------------------------------------------------------
;Intro Helper
[Statedef 6193]
type = S
movetype = I
physics =N
anim = 6193
ctrl = 0
sprpriority = -1
velset = 0,0



[State 6193]
type = Turn
trigger1 = Time = 0

[State 6193]
type = VelSet
trigger1 = Time = 0
x = -2
y = -8

[State 6193]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.4


[State 6193]
type = PlaySnd
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 192,1
persistent = 0

[State 6193]
type = VelSet
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = -5
persistent = 0



[State 6193]
type = DestroySelf
trigger1 = parent,stateno != [192,199]


[State 6193]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 6194


;------------------------------------------------------------------------------------------------------------
;Intro Helper
[Statedef 6194]
type = S
movetype = I
physics =N
anim = 6194
ctrl = 0
sprpriority = -1
velset = 0,0


[State 6194]
type = PlaySnd
trigger1= Time = 0
value = 192,1

[State 6194]
type = null;Turn
trigger1 = Time = 0

[State 6194]
type = PosSet
trigger1 = Time = 0
y = 0



[State 6194]
type = DestroySelf
trigger1 = parent,stateno != [192,199]
trigger2 = Time >= 60

[State 6194]
type = AssertSpecial
trigger1 = Time >= 30 && Time%2 = 0
flag = invisible



;------------------------------------------------------------------------------------------------------------
;Taunt Helper
[Statedef 6195]
type = S
movetype = I
physics =N
anim = 6195+parent,var(1) - 20*(parent,facing = -1)
ctrl = 0
sprpriority = 1
velset = 0,0



[State 6195]
type = Turn
trigger1 = Time = 0
trigger1 = parent,facing = -1

[State 6195]
type = DestroySelf
trigger1 = Parent,Stateno != 195
trigger2 = Parent,AnimElem = 12



[State 6195]
type = BindToParent
trigger1 = parent,facing
pos = 20,5

[State 6195]
type = BindToParent
trigger1 = parent,facing = -1
pos = 0,5

;------------------------------------------------------------------------------------------------------------
;Cloak
[Statedef 6199]
type = S
movetype = I
physics =N
anim = 6000
ctrl = 0
sprpriority = 1
velset = 0,0



[State 6199]
type = Turn
trigger1 = Parent,Facing != Facing

[State 6199]
type = DestroySelf
trigger1 = parent,stateno != 199

[State 6199]
type = BindToParent
trigger1 = 1
pos = 0,-1



;------------------------------------------------------------------------------------------------------------
;Stand Strong Punch Helper
[Statedef 6220]
type = S
movetype = I
physics =N
anim = 6220
ctrl = 0
sprpriority = 2
velset = 0,0

[State 6220]
type = Varset
trigger1 = Time = 0
var(1) = parent,stateno

[State 6220]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 6220]
type = DestroySelf
trigger1 = Parent,Stateno != var(1)
trigger2 = AnimTime = 0

[State 6620]
type = BindToParent
trigger1 = 1
pos = 0,0


;------------------------------------------------------------------------------------------------------------
;Crouch Medium Punch Helper
[Statedef 6410]
type = S
movetype = I
physics =N
anim = 6410
ctrl = 0
sprpriority = 2
velset = 0,0



[State 6410]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 6410]
type = DestroySelf
trigger1 = Parent,Stateno != 410
trigger2 = AnimTime = 0

[State 6410]
type = BindToParent
trigger1 = 1
pos = 0,0


;------------------------------------------------------------------------------------------------------------
;Crouch Stron Punch Helper
[Statedef 6420]
type = S
movetype = I
physics =N
anim = 6420
ctrl = 0
sprpriority = 2
velset = 0,0



[State 6420]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 6420]
type = DestroySelf
trigger1 = Parent,Stateno != 420
trigger2 = AnimTime = 0

[State 6420]
type = BindToParent
trigger1 = 1
pos = 0,0



;------------------------------------------------------------------------------------------------------------
;Air Strong Punch Helper
[Statedef 6620]
type = S
movetype = I
physics =N
anim = 6620
ctrl = 0
sprpriority = 2
velset = 0,0



[State 6620]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 6620]
type = DestroySelf
;trigger1 = Parent,Stateno != 620
trigger1 = AnimTime = 0

[State 6620]
type = BindToParent
trigger1 = 1
pos = 0,0


;------------------------------------------------------------------------------------------------------------
;Web Ball Helper
[Statedef 6810]
type = U
movetype = A
physics = N
;anim = 21450
ctrl = 0
sprpriority = 2
velset = 0,0
;hitcountpersist = 1

[State 6810]
type = ChangeAnim
trigger1 = Time = 0 && Anim !=  6810
value = 6810


[State 6810]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 6810]
type = HitBy
trigger1 = 1
value = SCA,AP


[State 6810]
type = HitOverride
trigger1 = 1
stateno = 21459
attr = SCA,AP
slot = 0
time = -1


[State 6810]
type = VarSet
trigger1 = Time = 0
var(1) = 60

[State 6810]
type = VelSet
trigger1 = Time = 0
x = 1


;Movement in forward or back
[State 6810]
type = VelAdd
trigger1 = time > 0 && p2dist x > 0
x = (p2dist x)*0.03


[State 6810]
type = VelAdd
trigger1 = Time > 0 && p2dist x > 0
y = (P2dist Y)*0.01


;Decrease down Speed if distance in X is bigger then distance in Y
[State 6810]
type = VelAdd
trigger1 = p2dist x > p2dist y && Vel Y > 1
y = -1
 
;Increase down Speed if distance in Y is bigger then distance in X
[State 6810]
type = VelAdd
trigger1 = p2dist x < p2dist y && Vel Y > 0
y = 0.5


[State 6810]
type = Varset
trigger1 = 1
fvar(5) = Vel Y / Vel X


[State 6810]
type = VelSet
trigger1 = Vel X > 7
x = 7



[State 6810]
type = VelSet
trigger1 = Vel X = 7
y = (Vel X)*fvar(5)


[State 6810]
type = HitDef
attr = S, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 4*(Root,var(30)),floor(Root,var(30)/2)
animtype = Light
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-10
hitsound   = S1450,2
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 25
ground.velocity = 0
air.velocity = 0
guard.velocity = -7
airguard.velocity = -7
;fall.xvelocity = -3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25
;palfx.time = 1
;palfx.add = 256,256,256
sprpriority = 2
p1stateno = 21460
p2stateno = 21470
id = 21450

[State 6810]
type = null;ChangeState
trigger1 = var(0) < 1 || hitcount > 2
trigger2 = Time > 50
value = 21459
ignorehitpause  = 1


[State 6810]
type = ChangeState;DestroySelf
trigger1 = MoveGuarded
ignorehitpause = 1
value = 21459



[State 6810]
type = ChangeState;DestroySelf
trigger1 = MoveReversed
ignorehitpause = 1
value = 21459


[State 6810]
type = DestroySelf
trigger1 = FrontEdgeDist < -100
trigger2 = Time > 240



;------------------------------------------------------------------------------------------------------------
;Air Throw Helper
[Statedef 6930]
type = S
movetype = I
physics =N
anim = 6930
ctrl = 0
sprpriority = 2
velset = 0,0


[State 6930]
type = Varset
trigger1 = Time = 0
var(1) = parent,anim

[State 6930]
type = null;ChangeAnim
trigger1 = AnimTime = 0 && Anim = 6810
value = 6810
persistent = 0


[State 6930]
type = AssertSpecial
trigger1 = 1
flag = noshadow



[State 6930]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Parent,Anim != var(1)


[State 6930]
type = BindToParent
trigger1 = 1
pos = 0,0



[State 6930]
type = null;ChangeAnim
trigger1 = Parent,HitPauseTime
value = anim
elem = AnimElemNo(0)



;------------------------------------------------------------------------------------------------------------
;Cloak
[Statedef 7003]
type = S
movetype = I
physics =N
anim = 7003
ctrl = 0
sprpriority = 0
velset = 0,0

[State 7003]
type = Turn
trigger1 = Parent,Facing != Facing

[State 7003]
type = DestroySelf
trigger1 = root,anim != 21
trigger1 = root,anim != 3020

[State 7003]
type = BindToParent
trigger1 = 1


;------------------------------------------------------------------------------------------------------------
;Dash Forward Booster Helper
[Statedef 7005]
type = S
movetype = I
physics =N
anim = 6100
ctrl = 0
sprpriority = 0
velset = 0,0


[State 7005]
type = BindToParent
trigger1 = 1


[State 7005]
type = DestroySelf
trigger1 = parent,stateno != 100



;------------------------------------------------------------------------------------------------------------
;Dash Back Booster Helper
[Statedef 7006]
type = S
movetype = I
physics =N
anim = 6105
ctrl = 0
sprpriority = 0
velset = 0,0



[State 7006]
type = BindToParent
trigger1 = 1

[State 7006]
type = DestroySelf
trigger1 = parent,stateno != 105


;------------------------------------------------------------------------------------------------------------
;Explodsion A
[Statedef 7070]
type = S
movetype = I
physics =N
anim = 7070
ctrl = 0
sprpriority = 3
velset = 0,0



[State 7070]
type = AssertSpecial
trigger1 = Time%2 = 0
flag = invisible


[State 7070]
type = DestroySelf
trigger1 = AnimTime = 0



;------------------------------------------------------------------------------------------------------------
;Dust Trail
[Statedef 7106]
type = S
movetype = I
physics =N
anim = 7106
ctrl = 0
sprpriority = 3
velset = 0,0


[State 7106]
type = Varset
trigger1 = Time = 0
var(3) = parent,id


[State 7106]
type = Varset
trigger1 = Time = 0
var(2) = parent,stateno

[State 7106]
type = BindToParent
trigger1 = parent,stateno = var(2)
trigger1 = parent,id = var(3)
pos = -67,-floor(parent,pos y)


[State 7106]
type = DestroySelf
trigger1 = !PlayerIDExist(var(3))
trigger2 = parent,stateno != var(2)





;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 7321]
type    = A
movetype= H
physics = N
ctrl = 0

[State 7321]
type = VelAdd;Gravity
trigger1 = 1
y = 0.35;GetHitVar(yaccel)

[State 7321]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 7321]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse(SelfAnimExist(5055),5055,5050)

[State 7321]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 5055
value = ifelse(SelfAnimExist(5051),5051,5050)

[State 7321]
type = SelfState
trigger1 = Vel Y > 2
value = 5040 ;HITA_RECOV
persistent = 0

[State 7321]
type = null;SelfState
;triggerall = HitFall
trigger1 = Vel Y > 1 ;Anim is over
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5050 ;HITA_FALL

[State 7321]
type = null;SelfState
trigger1 = Vel Y > 0 
trigger1 = Pos Y >= 0 
value = 52 

;------------------------------------------------------------------------------------------------------------
;Guard Shield
[Statedef 7510]
type = S
movetype = I
physics =N
anim = 7510
ctrl = 0
sprpriority = 4
velset = 0,0

[State 7510]
type = Varset
trigger1 = Time = 0
var(2) = parent,stateno


[State 7510]
type = BindToParent
trigger1 = Parent,Anim = 130
trigger2 = Parent,Anim = 150
pos = 0,0

[State 7510]
type = BindToParent
trigger1 = Parent,Anim = 131
trigger2 = Parent,Anim = 151
pos = 13,18


[State 7510]
type = BindToParent
trigger1 = Parent,Anim = 132
trigger2 = Parent,Anim = 152
pos = 1,-44

[State 7510]
type = DestroySelf
trigger1 = parent,anim != [130,132]
trigger1 = parent,anim != [150,152]



;------------------------------------------------------------------------------------------------------------
;General Explode Helper, No Loop
[Statedef 7555]
type = S
movetype = I
physics = N
anim = Parent,var(15)
ctrl = 0
sprpriority = 4
velset = 0,0

[State 7555]
type = Varset
trigger1 = Time = 0
var(2) = Parent,Anim

[State 7555]
type = BindToParent
trigger1 = 1

[State 7555]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Parent,Anim != var(2)

;------------------------------------------------------------------------------------------------------------
[Statedef 7600]
type = s
movetype = i
physics = n

[State 7600]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

[State 7600]
type = NotHitBy
trigger1 = 1
value = SCA

[State 7600, Dramatic KO Helper]
type = helper
triggerall = (root,alive || enemy,alive)
trigger1 = roundstate = 3 && (root,life <= 0 || enemy,life <= 0)
helpertype = Normal
id = 7601
pos = 0,0
postype = p1
name = "K.O."
stateno = 7601
supermovetime = 9999999999
pausemovetime = 9999999999
persistent = 0
ignorehitpause = 1

;-----------------------------------------------------------------
;Dramatic K.O. Effects
;-----------------------------------------------------------------
[Statedef 7601]
type = s
movetype = i
physics = n



[State 7601]
type = PlaySnd
trigger1 = Time = 0
value = 170,1
ignorehitpause = 1
persistent = 0
pausemovetime = 99999
supermovetime = 99999

[State 7601]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
flag3 = nokoslow
ignorehitpause = 1

[State 7601]
type = NotHitBy
trigger1 = 1
value = SCA

[State 7601]
type = Pause
trigger1 = 1
time = 2
ignorehitpause = 1
persistent = 0


[State 7601, DestroySelf]
type = DestroySelf
trigger1 = time >= 2


;--------------------------------------------------------------------------------------------
; Guard Push (stand)
[Statedef 7610]
type    = S
movetype= I
physics = N
poweradd= 0
velset = 10,0
ctrl = 0
anim = 7610
sprpriority = 0
facep2 = 1



[State 7610, VelMul]
type = VelMul
trigger1 = 1
x = 0.75

[State 7610, VelSet]
type = VelSet
trigger1 = Time = 10
x = 0

[State 7610, Width]
type = Width
trigger1 = 1
value = 10,0

[State 7610, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 23


[State 7610, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = 30

[State 7610, PlaySnd 2]
type = PlaySnd
trigger1 = Time = 0
value = 210,0

[State 7610, Spark]
type = Explod
trigger1 = AnimElem = 2;Time = 0
anim = 7020
postype = p1
pos = 74,-55
ownpal = 1
vel = 0,0
;scale = 0.5,0.5
ignorehitpause = 1
sprpriority = 5

[State 7610, Guard Push Helper]
type = Helper
trigger1 = AnimElem = 2;Time = 0
helpertype = Normal
name = "GuardPush"
postype = P1
pos = -50,0
stateno = 7611
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 7610, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Guard Push (Helper)

[Statedef 7611]
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
anim = Parent,Anim
sprpriority = -4


[State 7611, PlayerPush]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 7611, PlayerPush]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 7611, VelSet 1]
type = VelSet
trigger1 = Time = [0,10]
x = 30

[State 7611, VelSet 2]
type = VelSet
trigger1 = Time = [11,13]
x = 20

[State 7611, VelSet 2]
type = VelSet
trigger1 = Time >= 14
x = 10

[State 7611, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 7611, DestroySelf]
type = DestroySelf
trigger1 = Time >= 18

;---------------------------------------------------------------------------
; Guard Push (Crouching)

[Statedef 7615]
type    = C
movetype= I
physics = N
poweradd= 0
velset = 10,0
ctrl = 0
anim = 7615
sprpriority = 0
facep2 = 1


[State 7615, VelMul]
type = VelMul
trigger1 = 1
x = 0.75

[State 7615, VelSet]
type = VelSet
trigger1 = Time = 10
x = 0

[State 7615, Width]
type = Width
trigger1 = 1
value = 10,0

[State 7615, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 23


[State 7615, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = 30

[State 7615, PlaySnd 2]
type = PlaySnd
trigger1 = Time = 0
value = 210,0

[State 7615, Spark]
type = Explod
trigger1 = AnimElem = 2;Time = 0
anim = 7020
postype = p1
pos = 74,-44
ownpal = 1
vel = 0,0
;scale = 0.5,0.5
ignorehitpause = 1
sprpriority = 5

[State 7615, Guard Push Helper]
type = Helper
trigger1 = AnimElem = 2;Time = 0
helpertype = Normal
name = "GuardPush"
postype = P1
pos = -50,0
stateno = 7611
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 7615, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
; Guard Push (Air)

[Statedef 7620]
type    = A
movetype= I
physics = N
poweradd= 0
velset = 10,0
ctrl = 0
anim = 7620
sprpriority = 0
facep2 = 1


[State 7620, VelMul]
type = VelMul
trigger1 = 1
x = 0.75

[State 7620, VelSet]
type = VelSet
trigger1 = Time = 10
x = 0

[State 7620, Width]
type = Width
trigger1 = 1
value = 10,0

[State 7620, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 23


[State 7620, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = 30

[State 7620, PlaySnd 2]
type = PlaySnd
trigger1 = Time = 0
value = 210,0

[State 7620, Spark]
type = Explod
trigger1 = AnimElem = 2;Time = 0
anim = 7020
postype = p1
pos = 77,-67
ownpal = 1
vel = 0,0
;scale = 0.5,0.5
ignorehitpause = 1
sprpriority = 4

[State 7620, Guard Push Helper]
type = Helper
trigger1 = AnimElem = 2;Time = 0
helpertype = Normal
name = "GuardPush"
postype = P1
pos = -50,0
stateno = 7622
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 7620, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 7621

;---------------------------------------------------------------------------
; Guard Push (Air - Falling)

[Statedef 7621]
type    = A
movetype= I
physics = A
poweradd= 0
ctrl = 1
anim = 70
sprpriority = 1

[State 7621, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 0

;---------------------------------------------------------------------------
; Guard Push (Air Helper)

[Statedef 7622]
type    = A
movetype= I
physics = N
poweradd= 0
ctrl = 0
anim = Parent,Anim
sprpriority = -4


[State 7622, PlayerPush]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 7622, PlayerPush]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 7622, VelSet 1]
type = VelSet
trigger1 = Time = [0,10]
x = 30

[State 7622, VelSet 2]
type = VelSet
trigger1 = Time = [11,13]
x = 20

[State 7622, VelSet 2]
type = VelSet
trigger1 = Time >= 14
x = 10

[State 7622, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 7622, DestroySelf]
type = DestroySelf
trigger1 = Time >= 18


;---------------------------------------------------------------------------
; Super Jump Start
[Statedef 7710]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 7710]
type = PlaySnd
trigger1 = Time = 1
value = 7710,0
channel = 1

[State 7710]
type = Explod
trigger1 = Time = 1
anim = 7055
ownpal = 1

[State 7710]
type = Explod
trigger1 = Time = 1
anim = 7055
facing = -1
ownpal = 1

[State 7710]
type = Explod
trigger1 = Time = 1
anim = 7022
sprpriority = 4
ownpal = 1

[State 7710, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 7710, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 7710, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 7710, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y) - 3

[State 7710, 5]
type = null;VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 7710, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 7711
ctrl = 1

;---------------------------------------------------------------------------
; Super Jump Up
[Statedef 7711]
type    = A
physics = A

[State 7711]
type = VelSet
trigger1 = Time = 0
y = -16

[State 7711,4]
type = VelAdd
triggerall = command = "holdfwd"
;trigger1 = sysvar(1) = 1
trigger1 = vel X <=4
;trigger2 = sysvar(1) = -1
trigger2 = Vel X <= -.4
x = .5

[State 7711,5]
type = VelAdd
triggerall = command = "holdback"
;trigger1 = sysvar(1) = -1
trigger1 = Vel X >= -4
;trigger2 = sysvar(1) = 1
trigger2 = Vel X >= .4
x = -.5

[State 7711, 1]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1


[State 7711]
type = Explod
trigger1 = Time%4 = 0
trigger1 = Time >= 4
trigger1 = Vel Y < 0
anim = 7056
pos = 0,0
random = 50,0
ontop = 1
ownpal = 1

[State 7711]
type = Explod
trigger1 = Time%2 = 0
trigger1 = Time >= 12
trigger1 = Vel Y < 0
anim = 7057+random%3
pos = 0,0
random = 60,0
ontop = 1
ownpal = 1

[State 7711, 1]
type = null;VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 7711, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 51, ifelse((vel x)>0, 52, 53))


[State 7711, 3]
type = ChangeAnim
trigger1 = Vel y > -4
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3


;---------------------------------------------------------------------------
;AI Super Jump Start
[Statedef 7720]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 7720]
type = PlaySnd
trigger1 = Time = 1
value = 7710,0
channel = 1

[State 7720]
type = Explod
trigger1 = Time = 1
anim = 7055
ownpal = 1


[State 7720]
type = Explod
trigger1 = Time = 1
anim = 7055
facing = -1
ownpal = 1


[State 7720]
type = Explod
trigger1 = Time = 1
anim = 7022
sprpriority = 4
ownpal = 1

[State 7720, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 7720, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 7720, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 7720, 4]
type = null;VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y) - 3

[State 7720, 4]
type = null;VelSet
trigger1 = AnimTime = 0
x = (P2Dist X)*0.07
y = (P2Dist Y)*0.07

[State 7720, 5]
type = null;VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 7720, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 7721
ctrl = 1

;---------------------------------------------------------------------------
; Super Jump Up
[Statedef 7721]
type    = A
physics = N


[State 7721, 4]
type = null;VelSet
trigger1 = 1;Time = 0
y = -11


[State 7721, 4]
type = VelSet
trigger1 = Time = 0
y = -15;-13

[State 7721, 4]
type = VelAdd
trigger1 = 1
y = 0.35;0.4



[State 7721]
type = veladd
triggerall = vel x <= 4
trigger1 = var(59)
trigger1 = p2bodydist x >= 0
persistent = 4
x = .9


[State 7721]
type = veladd
triggerall = vel x >= -4
trigger1 = var(59) 
trigger1 = p2bodydist x <= 0
persistent = 4
x = -.9


[State 7721,4]
type = null;VelAdd
triggerall = command = "holdfwd"
trigger1 = sysvar(1) = 1
trigger1 = vel X <=4
trigger2 = sysvar(1) = -1
trigger2 = Vel X <= -.4
x = .2

[State 7721,5]
type = null;VelAdd
triggerall = command = "holdback"
trigger1 = sysvar(1) = -1
trigger1 = Vel X >= -4
trigger2 = sysvar(1) = 1
trigger2 = Vel X >= .4
x = -.2

[State 7721, 1]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1


[State 7721]
type = Explod
trigger1 = Time%4 = 0
trigger1 = Time >= 4
trigger1 = Vel Y < 0
anim = 7056
pos = 0,0
random = 50,0
ontop = 1
ownpal = 1

[State 7721]
type = Explod
trigger1 = Time%2 = 0
trigger1 = Time >= 12
trigger1 = Vel Y < 0
anim = 7057+random%3
pos = 0,0
random = 60,0
ontop = 1
ownpal = 1

[State 7721, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 51, ifelse((vel x)>0, 52, 53))

[State 7721, 3]
type = ChangeAnim
trigger1 = Vel y > -4
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 7721]
type = turn
trigger1 = p2dist x < -5


;---------------------------------------------------------------------------
; Jump Land
[Statedef 7722]
type    = A
physics = A

[State 7722, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 7722, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 7722]
type = turn
trigger1 = p2dist x < -5



;---------------------------------------------------------------------------
; Triangle Jump 
[Statedef 7730]
type = A
movetype = I
physics = N
anim = 7730
;velset = -2*Vel X,-7
ctrl = 1
velset = 0,0


[State 7730]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 7730]
type = Turn
trigger1 = FrontEdgeBodyDist <= 3

[State 7730]
type = PlaySnd
trigger1 = time = 0
value = 7730, 0


[State 7730]
type = PosSet
trigger1 = Anim = 7730
x = -150*facing

[State 7730]
type = VelSet
trigger1 = AnimTime = 0
x = 3
y = -7

[State 7730]
type = ChangeState
trigger1 = AnimTime = 0
value = 7731



;---------------------------------------------------------------------------
; Triangle Jump End
[Statedef 7731]
type = A
movetype = I
physics = A
;velset = 0, 0
ctrl = 1



[State 7731, 3]
type = ChangeAnim
trigger1 = Time = 0
value = 42


;---------------------------------------------------------------------------
; Flying to End of Screen
[Statedef 7740]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 5010

[State 7740]
type = null;ScreenBound
trigger1 = 1
value = 0

[State 7740]
type = SelfState
trigger1 = Alive = 0
value = 5000

[State 7740]
type = ChangeAnim
trigger1 = Time < 10
value = 5010

[State 7740]
type = AfterImage
trigger1 = Time = 5
length = 5
timegap = 1
framegap = 1
PalBright   = 0,0,0
PalContrast = 100,100,100
PalMul      = 1,1,1
trans = Add1
time = 0

[State 7740]
type = AfterImageTime
trigger1 = 1
time = 2

[State 7740]
type = ChangeAnim
trigger1 = Time >= 10
value = 5011

[State 7740]
type = HitVelSet
trigger1 = Time = 10
x = 1

[State 7740]
type = ChangeState
triggerall = Time >= 10
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 7741

[State 7740]
type = SelfState
trigger1 = Time = 150
value = 5000


;---------------------------------------------------------------------------
; Hit Wall or Stop Moving
[Statedef 7741]
type    = A
movetype= H
physics = N
anim = 5010

[State 7741]
type = EnvShake
trigger1 = time = 0
time = 30
freq = 100
ampl = -10
phase = 10

[State 7741]
type = PosAdd
trigger1 = Time = 0
x = 10 - BackEdgeBodyDist

[State 7741]
type = PosFreeze
trigger1 = Time < 10
x = 1
y = 1

[State 7741]
type = ScreenBound
trigger1 = 1
value = 0

[State 7741]
type = null;Explod
trigger1 = time = 0
anim = F72
pos = -30,-50
postype = p1
facing = 1
sprpriority = 3
bindtime = 2
supermove = 1

[State 7741]
type =null; PlaySnd
trigger1 = Time = 0
value = F7,2

[State 7741]
type = LifeAdd
trigger1 = Time = 0
value = -100

[State 7741]
type = ChangeAnim
triggerall = SelfAnimExist(5030)
trigger1 = Time = 10
value = 5030

[State 7741]
type = VelSet
trigger1 = Time = 10
x = 2
y = -4

[State 7741]
type = VelAdd
trigger1 = Time > 10
y = .4

[State 7741]
type = ChangeAnim
triggerall = SelfAnimExist(5035)
trigger1 = Anim = 5030
trigger1 = AnimTime = 0
value = 5035

[State 7741]
type = ChangeAnim
triggerall = SelfAnimExist(5050)
triggerall = AnimTime = 0
trigger1 = Anim = 5030
trigger2 = Anim = 5035
value = 5050

[State 7741]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y > 20
value = 5100 ;Hit ground


;---------------------------------------------------------------------------
; Wall Hit Helper
[Statedef 7750]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 9800


[State 7750]
type = explod
trigger1 = Time = 1
trigger1 = enemynear,screenpos x < 150
anim = 7024
id = 7024
pos = 0,floor(enemynear,screenpos y -abs(enemynear,const(size.mid.pos.y)))
postype = left
bindtime = -1
facing = -1
removetime = -2
scale = 1, 1
sprpriority = 4
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 7750]
type = explod
trigger1 = Time = 1
trigger1 = enemynear,screenpos x > 150
anim = 7024
id = 7024
pos = 0,floor(enemynear,screenpos y -abs(enemynear,const(size.mid.pos.y)))
postype = right
bindtime = -1
facing = 1
removetime = -2
scale = 1, 1
sprpriority = 4
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 7750]
type = playsnd
trigger1 = Time = 1
value = 825,0
channel = 1
volume = 255
persistent = 0

[State 7750]
type = EnvShake
trigger1 = Time = 1
time = 8
ampl = -8
phase = 10
freq = 100


[State 7750]
type = DestroySelf
trigger1 = enemynear,movetype != H


;---------------------------------------------------------------------------
; Ground Hit Helper
[Statedef 7755]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 9800

[State 7755]
type = explod
trigger1 = Time = 1
anim = 7052;7510
id = 7510
postype = p2
pos = 0, floor(-enemynear,pos y - enemynear,vel y)
bindtime = 1
facing = -1
removetime = -2
scale = 1, 1
sprpriority = -4
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 7755]
type = playsnd
trigger1 = Time = 1
value = 5100,4


[State 7755]
type = EnvShake
trigger1 = Time = 1
time = 8
ampl = -8
phase = 10
freq = 100


[State 7755]
type = DestroySelf
trigger1 = enemynear,movetype != H



;---------------------------------------------------------------------------
; Ko Sound Helper
[Statedef 7760]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 9800


[State 7760]
type = playsnd
trigger1 = Time = 1
value = 5500,0
channel = 1
volume = 255
persistent = 0


[State 7760]
type = DestroySelf
trigger1 = Parent,alive


;---------------------------------------------------------------------------------------
;res
[Statedef 7777]
type    = A
movetype= I
physics = A
juggle  = 4
velset = ifelse(random < 500,3,-3),-13
anim = 43
ctrl = 0
sprpriority = 0


[state 7777]
type = superpause
trigger1 = Time = 0
anim = -1
time = 30
movetime = 30
darken = 0
unhittable = 1

[State 7777]
type = ChangeAnim
trigger1 = Vel Y > 0
value = 46
persistent = 0

[State 7777]
type = LifeAdd
trigger1 = Time = 0
value = 30*var(30)



[State 7777, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 60

[State 7777,e]
type = ChangeState
triggerall = Time >= 32
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger2 = Time = 90
value = 52
ctrl = 0




;---------------------------------------------------------------------------
;Roll Recovery Forward

[Statedef 7800]
type    = S
movetype= I
physics = N
ctrl = 0
;anim = 7800
sprpriority = 0
velset = 7,0

[State 7800]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 7800
value = 7800


[State 7800]
type = PlayerPush
trigger1 = 1
value = 0


[State 7800]
type = VelSet
trigger1 = 1
x = 7



[State 7800]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State  7800]
type = ChangeState
trigger1 = prevstateno = 7800
value = 7801
ctrl = 0



[State  7800]
type = ChangeState
trigger1 = Time >= 18
trigger2 = FrontEdgeBodyDist <= 10
value = 11
ctrl = 1

[State 7800]
type = ChangeState
trigger1 = !alive
value = 5050


;---------------------------------------------------------------------------
;Roll Recovery Backward

[Statedef 7801]
type    = S
movetype= I
physics = N
ctrl = 0
;anim = 7801
sprpriority = 0
velset = -7,0




[State 7801]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 7801
value = 7801



[State 7801]
type = PlayerPush
trigger1 = 1
value = 0


[State 7800]
type = VelSet
trigger1 = 1
x = -7



[State 7801]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State  7801]
type = ChangeState
trigger1 = Time >= 18
trigger2 = BackEdgeBodyDist <= 10
value = 11
ctrl = 1

[State 7801]
type = ChangeState
trigger1 = !alive
value = 5050


;---------------------------------------------------------------------------
;Roll Recovery End

[Statedef 7802]
type    = S
movetype= I
physics = N
ctrl = 1
anim = 5120
sprpriority = 0
velset = 0,0



[State 7802]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 7802]
type = null;ChangeAnim
trigger1 = Time = 0 && Anim != 5120
value = 5120


[State  7802]
type = ChangeState
trigger1 = AnimTime = 0
;trigger2 = FrontEdgeBodyDist <= 10
value = 0
ctrl = 1

[State 7802]
type = ChangeState
trigger1 = !alive
value = 5050

;---------------------------------------------------------------------------
;Remove Helper

[Statedef 7805]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9800
sprpriority = 0
velset = 0,0


[State 7805]
type = PlayerPush
trigger1 = 1
value = 0

[State 7805]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State  7805]
type = DestroySelf
trigger1 = 1


;-------------------------------------------------------------------------
;General Purpose Helper
[Statedef 7825]
type = S
movetype = I
physics = N
velset = 0,0
ctrl = 0
;anim = 9800



[State 7827]
type = DestroySelf
trigger1 = Time = 0
y = 0

;-------------------------------------------------------------------------
;Stand by
[Statedef 7827]
type = S
movetype = I
physics = N
velset = 0,0
ctrl = 0
anim = 9800

[State 7827]
type = PosSet
trigger1 = Time = 0
y = 0

[State 7827]
type = ChangeState
trigger1 = NumEnemy = [1,2]
trigger1 = Enemy(0),statetype = L || Enemy(0),movetype != H
value = 102


[State 7827]
type = ChangeState
trigger1 = NumEnemy = 2
trigger1 = Enemy(1),statetype = L || Enemy(1),movetype != H
value = 102


;---------------------------------------------------------------------------

;Special reversal
[Statedef 7970]
type = S
movetype = A
physics = S
anim = 7970
ctrl = 0
sprpriority = 0
velset = 0,0


[State 7970]
type = PosSet
trigger1 = Time = 0
y = 0



[State 7970]
type = VarRandom
trigger1 = time = 0
v = 4
range = 1200



[State 7970]
type = VarSet
trigger1 = time = 0
var(3) = 120



[State 7970]
type = ReversalDef
trigger1 = hitcount < 1
reversal.attr = SCA,AA,AT; NA, SA, HA, NT, ST,HT, NP, SP, HP
pausetime = 10,15
sparkno = -1
;p1stateno = ifelse( var(4) < 400,1273, ifelse(var(4) > 800,ifelse(enemy,isHelper,1240+10*(random%3),900),1210))
hitsound = S7970,0
persistent = 0
id = 7970


[State 7970,a]
type = VarSet
trigger1 = var(4) < 400
trigger1 = P2bodydist X < 70
var(3) = ifelse(random < 500,7973,ifelse(random < 500,220,520))


[State 7970,b]
type = VarSet
trigger1 = var(4) = [400,800]
trigger1 = P2bodydist X < 20
trigger1 = NumTarget(7970)
trigger1 = Target(7970),IsHelper < 1
var(3) = 800

[State 7970,c]
type = VarSet
trigger1 = var(4) > 800
trigger1 = power > 1000
trigger1 = P2bodydist X < 200
var(3) = 3000


[State 7970]
type = ChangeState
trigger1 = NumTarget(7970)
value = var(3)
ctrl = 0


[State 7970]
type = PalFX
trigger1 = Time <= 50
trigger1 = Time%2 = 0
time = 1
add = 0,0,128
color = 0
ignorehitpause = 1

[State 7970]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Special reversal punch

[Statedef 7972]
type    = S                     
movetype= A                      
physics = S                      
juggle  = 1                    
velset = 5,0                    
ctrl = 0                         
anim = 200                      
poweradd = 20                    
sprpriority = 2                  


[State 7972]
type = NotHitBy
trigger1 = 1
value = SCA


[State 7972, 1]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = S, SA                     
damage = 7*var(30), floor(var(30)/2)                   
animtype = Heavy                
guardflag = MA                   
hitflag = MAF                    
priority = 5, Hit               
pausetime = 10,10                
sparkno = S(8220+random%2)                    
sparkxy = -10,-70               
hitsound = S1,30                
guardsound = S4,0               
guard.sparkno = S8430
ground.type = High               
ground.slidetime = 10            
ground.hittime  = 10             
ground.velocity = -9,-7           
;airguard.velocity = -4,-3     
air.type = High                  
air.velocity = -9,-7           
air.hittime = 12               
getpower = 85,10
givepower = 40
;p2stateno = 9020
;persistent = 0



[State 7972]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0


[State 7972]
type = PalFX
trigger1 = Time <= 30
trigger1 = Time%2 = 0
time = 1
add = 0,0,128
color = 0
ignorehitpause = 1


[State 7972, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------------------
[Statedef 7973]
type = S
movetype = I
physics = S
ctrl = 0
sprpriority = 2

[State 7973]
type = AllPalFx
trigger1 = Time = 0
time = 3
add = 256,256,256


[State 7973]
type = ChangeState
trigger1 = Time = 5
value = 7972
ctrl = 0



;---------------------------------------------------------------------------
; Down Kick
[Statedef 8016]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 40
ctrl = 0
velset = 0,0
anim = 8016
sprpriority = 0
facep2 = 1

[State 8016]
type = Turn
trigger1 = Time = 0
trigger1 = FrontEdgeBodyDist <= 5

[State 8016]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1



[State 8016]
type = VelSet
trigger1 = AnimElem = 1
x = 3
y = 11


[State 8016]
type = VelAdd
trigger1 = AnimElem = 1, >= 0
y = 0.3


[State 8016]
type = null;PlaySnd
trigger1 = AnimElem = 1
value = 100,4

[State 8016]
type = PlaySnd
trigger1 = Time = 5
value = 187,0

[State 8016, 2]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = A, SA
animtype  = Medium
damage    = 4*var(30),floor(var(30)/2)
guardflag = HA
pausetime = 7,7
sparkno = S(8200+random%2)  
guard.sparkno = S8430
sparkxy = -10,-64+floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -7,-4
air.velocity = -7,-4
getpower = 13,7
;fall.animtype = Up
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 211
;air.animtype = back
;air.type = Low
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;p2stateno = 9020


[State 8016]
type = VarAdd
trigger1 = MoveContact
var(19) = 1
ignorehitpause = 1
persistent = 0

[State 8016, 3]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0




;---------------------------------------------------------------------------
; Down Kick Medium
[Statedef 8017]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 40
ctrl = 0
velset = 0,0
anim = 8017
sprpriority = 0
facep2 = 1

[State 8017]
type = Turn
trigger1 = Time = 0
trigger1 = FrontEdgeBodyDist <= 5

[State 8017]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1



[State 8017]
type = VelSet
trigger1 = AnimElem = 1
x = 5
y = 11


[State 8017]
type = VelAdd
trigger1 = AnimElem = 1, >= 0
y = 0.3

[State 8017]
type = PlaySnd
trigger1 = Time = 7
value = 220,0

[State 8017]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = A, SA
animtype  = Medium
damage    = 7*var(30),floor(var(30)/2)
guardflag = HA
pausetime = 7,7
sparkno = S(8210+random%2)  
guard.sparkno = S8430
sparkxy = -10,-64+floor(P2Dist Y)
hitsound   = S1,5
guardsound = S4,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -7,-4
air.velocity = -7,-4
getpower = 30,15
;fall.animtype = Up
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 211
;air.animtype = back
;air.type = Low
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;p2stateno = 9020


[State 8017]
type = VarAdd
trigger1 = MoveContact
var(20) = 1
ignorehitpause = 1
persistent = 0

[State 8017]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
; Down Kick Hard
[Statedef 8018]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 40
ctrl = 0
velset = 0,0
anim = 8018
sprpriority = 0
facep2 = 1

[State 8018]
type = Turn
trigger1 = Time = 0
trigger1 = FrontEdgeBodyDist <= 5

[State 8018]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1



[State 8018]
type = VelSet
trigger1 = Time = 0
x = 9
y = 11


[State 8018]
type = VelAdd
trigger1 = 1
y = 0.4

[State 8018]
type = PlaySnd
trigger1 = Time = 5
value = 210,0


[State 8018]
type = HitDef
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
attr = A, SA
animtype  = Medium
damage    = 7*var(30),floor(var(30)/2)
guardflag = HA
pausetime = 7,7
sparkno = S(8220+random%2)  
guard.sparkno = S8430
sparkxy = -10,-64+floor(P2Dist Y)
hitsound   = S1,5
guardsound = S4,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -7,-4
air.velocity = -7,-4
getpower = 40,14
;fall.animtype = Up
;fall = 1
;air.fall = 1
;fall.recover =0
;p2stateno = 211
;air.animtype = back
;air.type = Low
;air.cornerpush.veloff = 0
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
;airguard.cornerpush.veloff = 0
;p2stateno = 9020


[State 8018]
type = VarAdd
trigger1 = MoveContact
var(21) = 1
ignorehitpause = 1
persistent = 0


[State 8018]
type = VarAdd
trigger1 = !MoveContact && Time >= 25
var(9) = 1
ignorehitpause = 1
persistent = 0


[State 8018]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0



;------------------------------------------------------------------------------------------------------------
;Super Armor
[Statedef 8600]
type = U
movetype = I
physics = N
;anim =9800
ctrl = 0
sprpriority = 4
velset = 0,0



[State 8600]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1


[State 8600]
type = ChangeAnim
trigger1 = Parent,Anim != Anim
value = Parent,Anim
elem = Parent,AnimElemNo(0)
ignorehitpause = 1

[State 8600]
type = ChangeAnim
trigger1 = Parent,AnimElemNo(0) != AnimElemNo(0)
value = Parent,Anim
elem = Parent,AnimElemNo(0)
ignorehitpause = 1

[State 8600]
type = AssertSpecial
trigger1 = 1
flag = invisible


[State 8600]
type = HitBy
trigger1 = 1
value = SCA,AA,AP,AT


[State 8600]
type = HitOverride
trigger1 = 1
stateno = 8601
attr = SCA,AA,AP,AT
slot = 0
time = -1


[State 8600]
type = null;ParentVarSet
trigger1 = Time = 0
var(55) = 1



[State 8600]
type = BindToParent
trigger1 = 1
ignorehitpause = 1


[State 8600]
type = DestroySelf
trigger1 = Parent,StateType = A || Pos Y < 0

;------------------------------------------------------------------------------------------------------------
;Super Armor End
[Statedef 8601]
type = U
movetype = H
physics = N
;anim = 9800
ctrl = 0
sprpriority = 4
velset = 0,0



[State 8601]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1


[State 8601]
type = ChangeAnim
trigger1 = Parent,Anim != Anim
trigger1 = SelfAnimExist(Parent,Anim)
value = Parent,Anim
elem = Parent,AnimElemNo(0)
ignorehitpause = 1

[State 8601]
type = ChangeAnim
trigger1 = Parent,AnimElemNo(0) != AnimElemNo(0)
trigger1 = SelfAnimExist(Parent,Anim)
value = Parent,Anim
elem = Parent,AnimElemNo(0)
ignorehitpause = 1

[State 8601]
type = AssertSpecial
trigger1 = 1
flag = invisible


[State 8601]
type = ParentVarAdd
trigger1 = Time = 0
var(55) = 1

[State 8601]
type = PlaySnd
trigger1 = Time = 0
value = 4,9


[State 8601]
type = ParentVarSet
trigger1 = !var(52)
trigger1 = Parent,Stateno != [120,159]
var(52) = GetHitVar(Damage)

[State 8601]
type = ChangeState 
trigger1 = Time = 0 && parent,var(55) < 2
value = 8600

[State 8601]
type = NotHitBy
trigger1 = parent,var(55) < 2
value = SCA

[State 8601]
type = ParentVarSet
trigger1 = Time = 12
var(55) = 0


[State 8601]
type = DestroySelf
trigger1 = Time = 48

[State 8601]
type = BindToParent
trigger1 = 1
ignorehitpause = 1


;------------------------------------------------------------------------------------------
; Hit by  - shaking from the hit
; (a custom gethit state)

[Statedef 9020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 9020, Anim] ;Custom animation
type = null;ChangeAnim2
trigger1 = 1
value = 5012


[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim ;2
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)


[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type



[State 5050, 2] ; anim for trip
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(groundtype) = 3
trigger1 = SelfAnimExist(5070)
value = 5070


[State 9020, State]
type = AfterImage
trigger1 = Time = 5
length = 5
timegap = 1
framegap = 1
PalBright   = 0,0,0
PalContrast = 100,100,100
PalMul      = 1,1,1
trans = Add1
time = 0

[State 9020, State]
type = AfterImageTime
trigger1 = 1
time = 2

[State 9020, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 9030

;----------------------------------------------------------------------
; Hit by - flying through the air
; (a custom gethit state)
[Statedef 9030]
type    = A
movetype= H
physics = N


[State 9030]
type = AfterImage
trigger1 = Time = 5
length = 5
timegap = 1
framegap = 1
PalBright   = 0,0,0
PalContrast = 100,100,100
PalMul      = 1,1,1
trans = Add1
time = 0

[State 9030]
type = AfterImageTime
trigger1 = 1
time = 2

[State 9030, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 9030, Gravity]
type = VelAdd
trigger1 = 1
y = .39

[State 9030, No scroll]
type = null;ScreenBound
;triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 0
movecamera = 0,1

[State 9030, Hit wall]
type = ChangeState
;triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 9027


[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050
trigger2 = Anim != 5070

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0


[State 5050, 2] ;Coming down anim for trip
type = ChangeAnim
trigger1 = anim = 5070
trigger1 = Vel Y >= 0
trigger1 = SelfAnimExist(anim-10) || SelfAnimExist(5071)
value = ifelse(SelfAnimExist(5071),5071,anim-10)
persistent = 0


[State 5035, 3]
type = null;ChangeState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5040 ;HITA_RECOV

[State 5050, 4] ;Recover near ground
type = null;SelfState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = 1;Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = null;ChangeState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 9030, Hit ground]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5071]), 0, 25)
value = 5100 ;HIT_BOUNCE

;-----------------------------------------------------------------------------------------------------
; Hit by  - hit wall
; (a custom gethit state)
[Statedef 9027]
type    = A
movetype= H
physics = N

[State 9027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 9027]
type = EnvShake
trigger1 = time = 0
time = 30
freq = 100
ampl = -10
phase = 10

[State 9027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 9027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 9027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 9027, Spark]
type = null;Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 9027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 825

[State 9027, Sound]
type = null;PlaySnd
trigger1 = Time = 0
value = F7,0

[State 9027, State]
type = ChangeState
trigger1 = Time = 5
value = 9028

;----------------------------------------------------------------
; Hit by  - bounce off wall
; (a custom gethit state)
[Statedef 9028]
type    = A
movetype= H
physics = N


[State 9028, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP

[State 9028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -2

[State 9028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 2


[State 9028, Turn]
type = null;Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 9028, Gravity]
type = VelAdd
trigger1 = 1
y = .39

[State 9028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 9028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 9028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 9028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 9028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100


;------------------------------------------------------------------------------------------------------------
;Arm For Stand State
[Statedef 10000]
type = S
movetype = I
physics =N
anim = 10000
ctrl = 0
sprpriority = -1
velset = 0,0


[State 10000]
type = null;SprPriority
trigger1 = Parent,Facing = 1
value = -1
ignorehitpause = 1

[State 10000]
type = SprPriority
trigger1 = 1
value = -1-(Parent,MoveType = H)
ignorehitpause = 1

[State 10000]
type = SprPriority
trigger1 = Parent,Stateno = 220 || Parent,Stateno = 222 || Parent,Stateno = 701
trigger2 = Parent,Stateno = 320 && Parent,AnimElemNo(0) = [11,13]
trigger3 = Parent,Stateno = 620 && Parent,AnimElemNo(0) = [1,5]
trigger4 = Parent,Stateno = 720 && Parent,AnimElemNo(0) = [1,3]
value = 2
ignorehitpause = 1


[State 10000]
type = SprPriority
trigger1 = Parent,Stateno = 520 && Parent,AnimElemNo(0) = [5,10]
trigger2 = Parent,anim = 1571 && Parent,AnimElemNo(0) = [5,10]
trigger3 = Parent,anim = 810 && Parent,AnimElemNo(0) = [6,11]
value = 2
ignorehitpause = 1

[State 10000]
type = SprPriority
trigger1 = Parent,Stateno = 221 && Parent,AnimElemNo(0) = [13,17]
trigger2 = Parent,Stateno = 311 && Parent,AnimElemNo(0) = [2,5]
trigger3 = Parent,Stateno = 312 && Parent,AnimElemNo(0) = [3,14]
trigger4 = Parent,anim = 1570 && Parent,AnimElemNo(0) = [3,14]
value = 2
ignorehitpause = 1


[State 10000]
type = SprPriority
trigger1 = Parent,Stateno = 21270 && Parent,AnimElemNo(0) = [1,5]
trigger2 = Parent,Stateno = 21270 && Parent,AnimElemNo(0) = [15,19]
trigger3 = Parent,Stateno = 21300 && Parent,AnimElemNo(0) = [1,5]
trigger4 = Parent,Stateno = 21300 && Parent,AnimElemNo(0) = [15,19]
value = 2
ignorehitpause = 1

[State 10000]
type = BindToParent
trigger1 = 1
facing = 1
time = -1
ignorehitpause = 1


[State 10000]
type = NotHitBy
trigger1 = 1
value = SCA

[State 10000]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 10000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 10000]
type = PlayerPush
trigger1 = (Parent,Stateno = [7800,7801])
trigger2 = (Parent,Stateno = 100)
value = 0
ignorehitpause = 1



[State 10000]
type = PlayerPush
trigger1 = Parent,Stateno = 21275 && Parent,StateTime < 20
trigger2 = Parent,Stateno = 21305 && Parent,StateTime < 20
value = 0
ignorehitpause = 1

[State 10000]
type = AssertSpecial
trigger1 = parent,movetype = h
trigger1 = (parent,anim != [4900,5300])
flag = invisible


[State 10000]
type = ChangeAnim
triggerall = Anim != 9800
trigger1 = !SelfAnimExist(Parent,Anim+10000)
value = 9800
trigger2 = Parent,Facing = -1


[State 10000]
type = ChangeAnim
trigger1 = !(parent,movetype = h && (parent,anim != [4900,5300]))
trigger1 = Parent,Anim+10000 != Anim
trigger1 = SelfAnimExist(Parent,Anim+10000)
value = Parent,Anim+10000
elem = Parent,AnimElemNo(0)
ignorehitpause = 1


[State 10000]
type = ChangeAnim
trigger1 = !(parent,movetype = h && (parent,anim != [4900,5300]))
trigger1 = Parent,AnimElemNo(0) != AnimElemNo(0)
trigger1 = SelfAnimExist(Parent,Anim+10000)
value = Parent,Anim+10000
elem = Parent,AnimElemNo(0)
ignorehitpause = 1


[State 10000]
type = null;ChangeAnim
triggerall = Anim != 9800
trigger1 = Parent,var(37)
value = 9800

[State 10000]
type = null;ChangeState
trigger1 = parent,var(57) = 4
value = 10001


;------------------------------------------------------------------------------------------------------------
;Arm Detached
[Statedef 10001]
type = S
movetype = I
physics =N
anim = 10001
ctrl = 0
sprpriority = 3
velset = -2,-7


[State 10001]
type = Varset
trigger1 = time = 0
var(2) = 0

[State 10001]
type = PlaySnd
trigger1 = Time = 0
value = 10000,0

[State 10001]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.4


[State 10001]
type = Velset
trigger1 = FrontEdgeBodyDist <= -5
trigger2 = BackEdgeBodyDist <= -5
x = ifelse(vel x > 0,-Vel X,abs(Vel X))

[State 10001]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 10002


[State 10001]
type = null;Varset
trigger1 = time > 10
trigger1 = RootDist X = [-25,25]
trigger1 = RootDist Y = [-25,60]
var(2) = 4

[State 10001]
type = null;PlaySnd
trigger1 = var(2) = 4
value = 10000,1


[State 10001]
type =  null;ChangeState
trigger1 = var(2) = 4
value = 10000


;------------------------------------------------------------------------------------------------------------
;Arm Detached Land
[Statedef 10002]
type = S
movetype = I
physics =N
;anim = 10001
ctrl = 0
sprpriority = 3
velset = 0,0

[State 10002]
type = PlaySnd
trigger1 = Time = 0
value = 10000,0

[State 10002]
type = Velset
trigger1 = FrontEdgeBodyDist <= -5
trigger2 = BackEdgeBodyDist <= -5
x = ifelse(vel x > 0,-Vel X,abs(Vel X))



[State 10002]
type = VelSet
trigger1 = parent,var(57) != 4
trigger1 = parent,movetype != H
x = (RootDist X)*0.1


[State 10002]
type = Varset
trigger1 = time > 10
trigger1 = parent,var(57) != 4
trigger1 = RootDist X = [-25,25]
trigger1 = RootDist Y = [-25,60]
var(2) = 4


[State 10002]
type = ParentVarset
trigger1 = var(2) = 4
var(57) = 1

[State 10002]
type = PlaySnd
trigger1 = var(2) = 4
value = 10000,1


[State 10002]
type =  ChangeState
trigger1 = var(2) = 4
value = 10000






;---------------------------------------------------------------------------
;Warp Top Left Helper
[Statedef 21400]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1401
sprpriority = -1


[State 21400]
type = PosSet
trigger1 = Time = 0
y = -100

[State 21400]
type = PosSet
trigger1 = Pos X != -100
x = -100

[State 21400]
type = Turn
trigger1 = Time = 0
trigger1 = p2bodydist x < -5

[State 21400]
type = DestroySelf
trigger1 = AnimTime = 0




;---------------------------------------------------------------------------
;Warp Top Left Helper var
[Statedef 21401]
type    = U
movetype= I
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
anim = 9800
sprpriority = -1


[State 21401]
type = varset
trigger1 = Time = 0
var(1) = parent,stateno



[State 21401]
type = DestroySelf
trigger1 = parent,stateno != var(1)


[State 21401]
type = BindToParent
trigger1 = 1


[State 21401]
type = VarSet
trigger1 = Time = 0
var(2) = 0

[State 21401]
type = VarSet
trigger1 = Time = 0
var(3) = 0



[State 21401]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 13, >= 0
trigger1 = parent,command = "holdx" || parent,command = "holdy" || parent,command = "holdz"
trigger2 = parent,command = "holda" || parent,command = "holdb" || parent,command = "holdc"
var(2) = 1

[State 21401]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 13, >= 0
trigger1 = parent,command = "holdfwd"
trigger1 = parent,command != "holdup"
trigger1 = parent,command != "holddown"
var(3) = 1


[State 21401]
type = VarSet
triggerall = !parent,var(59)
triggerall = AnimElem = 13, >= 0
trigger1 = parent,command = "holdback"
trigger1 = parent,command != "holdup"
trigger1 = parent,command != "holddown"
var(3) = -1


[State 21401]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 13, >= 0
trigger1 = parent,command = "holdfwd" && parent,command = "holdup"
var(3) = 2

[State 21401]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 13, >= 0
trigger1 = parent,command = "holdback" && parent,command = "holdup"
var(3) = -2


[State 21401]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 13, >= 0
trigger1 = parent,command != "holdfwd"
trigger1 = parent,command != "holdback"
trigger1 = parent,command = "holdup"
var(3) = 3


[State 21401]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 13, >= 0
trigger1 = parent,command = "holddown"
trigger1 = parent,command != "holdfwd"
trigger1 = parent,command != "holdback"
var(3) = -3

[State 21401]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 13, >= 0
trigger1 = parent,command = "holdfwd" && parent,command= "holddown"
var(3) = 4


[State 21401]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 13, >= 0
trigger1 = parent,command = "holddown" && parent,command = "holdback"
var(3) = -4


;Forward
[State 21401]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = 1
trigger2 = parent,var(59) && random < 100
trigger2 = parent,var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [10,120]
var(4) = 1442

;Back
[State 21401]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = -1
trigger2 = parent,var(59) && random < 100
trigger2 = parent,var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [-120,-10]
var(4) = 1446

;Up Forward
[State 21401]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = 2
trigger2 = parent,var(59) && random < 100
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [10,120]
trigger2 = parent,p2bodydist y/parent,p2bodydist x = [-1.3,-0.7]
var(4) = 1441

;Up Backward
[State 21401]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = -2
trigger2 = parent,var(59) && random < 100
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [-120,-10]
trigger2 = parent,p2bodydist y/parent,p2bodydist x = [0.7,1.3]
var(4) = 1447

;Up
[State 21401]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = 3
trigger2 = parent,var(59) && random < 100
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [-30,30]
trigger2 = parent,p2bodydist y = [-50,-200]
var(4) = 1440

;Down
[State 21401]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = -3
trigger2 = var(59) && random < 100
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [-30,30]
trigger2 = parent,p2bodydist y = [200,50]
var(4) = 1444


;Forward Down
[State 21401]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = 4
trigger2 = var(59) && random < 100
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [10,200]
trigger2 = parent,p2bodydist y/parent,p2bodydist x = [0.7,1.3]
var(4) = 1443

;Back Down
[State 21401]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = -4
trigger2 = var(59) && random < 100
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [-200,-10]
trigger2 = parent,p2bodydist y/parent,p2bodydist x = [-1.3,-0.7]
var(4) = 1445

;---------------------------------------------------------------------------
;Warp Top Middle Helper
[Statedef 21405]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1401
sprpriority = 2

[State 21405]
type = NotHitBy
trigger1 = 1
value = SCA

[State 21405]
type = Turn
trigger1 = Time = 0
trigger1 = p2bodydist x < -5

[State 21405]
type = Width
trigger1 = Time = 0
edge = 150,150


[State 21405]
type = PosSet
trigger1 = Time = 0
y = -100


[State 21405]
type = DestroySelf
trigger1 = AnimTime = 0


;---------------------------------------------------------------------------
;Warp Top Right Helper
[Statedef 21410]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1401
sprpriority = -1

[State 21410]
type = PosSet
trigger1 = Time = 0
y = -100

[State 1410]
type = PosSet
trigger1 = Pos X != 100
x = 100


[State 21410]
type = Turn
trigger1 = Time = 0
trigger1 = p2bodydist x < -5


[State 21410]
type = DestroySelf
trigger1 = AnimTime = 0




;---------------------------------------------------------------------------
;Warp Bottom Left Helper
[Statedef 21415]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1401
sprpriority = -1


[State 21415]
type = PosSet
trigger1 = Time = 0
y = 0

[State 21415]
type = PosSet
trigger1 = Pos X != -100
x = -100

[State 21415]
type = Turn
trigger1 = Time = 0
trigger1 = p2bodydist x < -5

[State 21415]
type = DestroySelf
trigger1 = AnimTime = 0




;---------------------------------------------------------------------------
;Warp Bottom Middle Helper
[Statedef 21420]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1401
sprpriority = 2


[State 21420]
type = NotHitBy
trigger1 = 1
value = SCA

[State 21420]
type = Turn
trigger1 = Time = 0
trigger1 = p2bodydist x < -5

[State 21420]
type = Width
trigger1 = Time = 0
edge = 150,150


[State 21420]
type = PosSet
trigger1 = Time = 0
y = 0


[State 21420]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
;Warp Bottom Right Helper
[Statedef 21425]
type    = U
movetype= A
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1401
sprpriority = -1



[State 21415]
type = PosSet
trigger1 = Time = 0
y = 0

[State 21425]
type = PosSet
trigger1 = Pos X != 100
x = 100

[State 21425]
type = Turn
trigger1 = Time = 0
trigger1 = p2bodydist x < -5


[State 21425]
type = DestroySelf
trigger1 = AnimTime = 0



;------------------------------------------------------------------------------------------------------------
;Web Ball Helper
[Statedef 21450]
type = U
movetype = A
physics = N
;anim = 21450
ctrl = 0
sprpriority = 2
velset = 0,0
;hitcountpersist = 1

[State 21450]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 21450
value = 21450


[State 21450]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 21450]
type = HitBy
trigger1 = 1
value = SCA,AP


[State 21450]
type = HitOverride
trigger1 = 1
stateno = 21459
attr = SCA,AP
slot = 0
time = -1


[State 21450]
type = VarSet
trigger1 = Time = 0 && Parent,stateno = 1450
var(1) = 30

[State 21450]
type = VarSet
trigger1 = Time = 0 && Parent,stateno = 1460
var(1) = 60

[State 21450]
type = VarSet
trigger1 = Time = 0 && Parent,stateno = 1470
var(1) = 120

[State 21450]
type = VelSet
trigger1 = Time = 0
x = 7



[State 21450]
type = HitDef
attr = S, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 8*(Root,var(30)),floor(Root,var(30)/2)
animtype = Light
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-10
hitsound   = S1450,2
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 25
ground.velocity = 0
air.velocity = 0
guard.velocity = -7
airguard.velocity = -7
;fall.xvelocity = -3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25
;palfx.time = 1
;palfx.add = 256,256,256
sprpriority = 2
p1stateno = 21460
p2stateno = 21470
id = 21450

[State 21450]
type = null;ChangeState
trigger1 = var(0) < 1 || hitcount > 2
trigger2 = Time > 50
value = 21459
ignorehitpause  = 1


[State 21450]
type = ChangeState;DestroySelf
trigger1 = MoveGuarded
ignorehitpause = 1
value = 21459



[State 21450]
type = ChangeState;DestroySelf
trigger1 = MoveReversed
ignorehitpause = 1
value = 21459


[State 21450]
type = DestroySelf
trigger1 = FrontEdgeDist < -100
trigger2 = Time > 240



;------------------------------------------------------------------------------------------------------------
;Web Ball Air Helper
[Statedef 21451]
type = U
movetype = A
physics = N
;anim = 21451
ctrl = 0
sprpriority = 2
velset = 0,0
;hitcountpersist = 1

[State 21451]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 21451
value = 21451


[State 21451]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 21451]
type = HitBy
trigger1 = 1
value = SCA,AP


[State 21451]
type = HitOverride
trigger1 = 1
stateno = 21458
attr = SCA,AP
slot = 0
time = -1


[State 21451]
type = VarSet
trigger1 = Time = 0 && Parent,stateno = 1451
var(1) = 30

[State 21451]
type = VarSet
trigger1 = Time = 0 && Parent,stateno = 1461
var(1) = 60

[State 21451]
type = VarSet
trigger1 = Time = 0 && Parent,stateno = 1471
var(1) = 120

[State 21451]
type = VelSet
trigger1 = Time = 0
x = 7
y = 7


[State 21451]
type = HitDef
attr = S, SP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 8*(Root,var(30)),floor(Root,var(30)/2)
animtype = Light
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-10
hitsound   = S1450,2
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 25
ground.velocity = 0
air.velocity = 0
guard.velocity = -7
airguard.velocity = -7
;fall.xvelocity = -3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25
;palfx.time = 1
;palfx.add = 256,256,256
sprpriority = 2
p1stateno = 21460
p2stateno = 21470
id = 21450

[State 21451]
type = null;ChangeState
trigger1 = var(0) < 1 || hitcount > 2
trigger2 = Time > 50
value = 21458
ignorehitpause  = 1


[State 21451]
type = ChangeState;DestroySelf
trigger1 = MoveGuarded
ignorehitpause = 1
value = 21458



[State 21451]
type = ChangeState;DestroySelf
trigger1 = MoveReversed
ignorehitpause = 1
value = 21458


[State 21451]
type = ChangeState
trigger1 = Pos Y >= -20
trigger1 = Vel Y > 0
value = 21457

[State 21451]
type = DestroySelf
trigger1 = FrontEdgeDist < -100
trigger2 = Time > 240


;------------------------------------------------------------------------------------------------------------
;Web Ball End
[Statedef 21457]
type = S
movetype = I
physics = N
anim = 21457
ctrl = 0
sprpriority = 2
;velset = 0,0
;movehitpersist = 1
;hitcountpersist = 1
velset = 0,0

[State 21457]
type = PosSet
trigger1 = Time = 0
y = 0

[State 21457]
type = AssertSpecial
trigger1 = 1
flag = noshadow



[State 21457]
type = DestroySelf
trigger1 = AnimTime = 0


;------------------------------------------------------------------------------------------------------------
;Web Ball End
[Statedef 21458]
type = S
movetype = I
physics = N
anim = 21458
ctrl = 0
sprpriority = 2
;velset = 0,0
;movehitpersist = 1
;hitcountpersist = 1
velset = 0,0


[State 21458]
type = AssertSpecial
trigger1 = 1
flag = noshadow



[State 21458]
type = DestroySelf
trigger1 = AnimTime = 0


;------------------------------------------------------------------------------------------------------------
;Web Ball End
[Statedef 21459]
type = S
movetype = I
physics = N
anim = 21459
ctrl = 0
sprpriority = 2
;velset = 0,0
;movehitpersist = 1
;hitcountpersist = 1
velset = 0,0


[State 21459]
type = AssertSpecial
trigger1 = 1
flag = noshadow



[State 21459]
type = DestroySelf
trigger1 = AnimTime = 0



;---------------------------------------------------------------------------
; Web Trap

[Statedef 21460]
type    = S
movetype= A
physics = S
anim = 21454
;poweradd = 60
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0


[State 21460]
type = PosSet
trigger1 = Time = 0
y = enemynear,pos y
x = enemynear,pos x

[State 21460]
type = null;Explod
trigger1 = Time = 0
anim = 7515
ontop = 1
ownpal = 1
pos = 77,-62

[State 21460]
type = null;PlayerPush
trigger1 = 1
value = 0

[State 21460]
type = null;NotHitBy
trigger1 = 1
value = SCA



[State 21460]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 1,1


[State 21460]
type = null;AngleDraw
trigger1 = 1
value = 0


[State 21460]
type = TargetBind
trigger1 = 1
pos = 0,0


[State 21460]
type = null;VelAdd
trigger1 = Pos Y < 0
y = 0.4


[State 21460]
type = null;PosSet
trigger1 = Pos Y >= 0 && Vel Y > 0
y = 0

[State 21460]
type = null;VelSet
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
y = 0



[State 21460]
type = TargetState
trigger1 = Time >= var(1)
value = 21475

[State 21460]
type = ChangeState
trigger1 = Time >= var(1)
value = 21465
ctrl = 0



[State 21460]
type = ChangeState
trigger1 = !NumTarget(21450)
value = 21465
ctrl = 1



;------------------------------------------------------------------------------------------------------------
;Web Trap End
[Statedef 21465]
type = S
movetype = I
physics = N
anim = 21478
ctrl = 0
sprpriority = 2
;velset = 0,0
;movehitpersist = 1
;hitcountpersist = 1
velset = 0,0


[State 21465]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 21465]
type = PlaySnd
trigger1 = Time = 0
value = 1450,3



[State 21465]
type = DestroySelf
trigger1 = AnimTime = 0
trigger1 = Parent,stateno != [3001,3009]

;---------------------------------------------------------------------------
;Thrown

[Statedef 21470]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 21470]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 21470]
type = null;SprPriority
trigger1 = AnimElem = 2
value = -1



[State 21470]
type = ChangeAnim2
trigger1 = Time = 0
value = 6500


[State 21470]
type = AssertSpecial
trigger1 = Time > 4
flag = invisible

[State 21470]
type = null;Turn
trigger1 = facing = enemynear,facing

[State 21470]
type = null;PalFx
trigger1 = AnimElemNo(0) = [4,7]
color = 0
time = 15
add = 64,-128,64

[State 21470]
type = null;SelfState
trigger1 = !gethitvar(isbound)
value = 5050


[State 21470]
type = DestroySelf
trigger1 = ishelper


;---------------------------------------------------------------------------
;Thrown

[Statedef 21471]
type    = U
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 21471]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 21471]
type = null;SprPriority
trigger1 = AnimElem = 2
value = -1



[State 21471]
type = ChangeAnim2
trigger1 = Time = 0
value = 6500



[State 21471]
type = null;Turn
trigger1 = facing = enemynear,facing

[State 21471]
type = null;PalFx
trigger1 = AnimElemNo(0) = [4,7]
color = 0
time = 15
add = 64,-128,64


[State 21471]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0

[State 21471]
type = SelfState
trigger1 = Time > 120
value = 5000 + 40*(StateType = A)
ctrl = 1

[State 21471]
type = DestroySelf
trigger1 = ishelper


;---------------------------------------------------------------------------
;Trap By Web

[Statedef 21475]
type    = S
movetype= I
physics = N
velset = 0,0
;poweradd = 60



[State 21475]
type = null;ChangeAnim2
trigger1 = Time = 0
value = 823

[State 21475]
type = null;Turn
trigger1 = Time = 0

[State 21475]
type = null;VelSet
trigger1 = Time = 0
x = -13
y = -5

[State 21475] ;Gravity
type = null;VelAdd
trigger1 = 1
y = .4


[State 21475]
type = null;ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0


[State 21475]
type = null;ChangeState
;triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 9027


[State 21475]
type = null;SelfState
trigger1 = BackEdgeBodyDist <= 15
trigger2 = FrontEdgeBodyDist <= 15
value = 5040


[State 21475]
type = SelfState
trigger1 = Time >= 0
value = 5000 + 40*(Pos Y < 0)
ctrl = 1


[State 21475] ;Hit ground
type = null;SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground


[State 21475] ;Hit ground
type = null;ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 824



;------------------------------------------------------------------------------------------------------------
;Berserker Barrage
[Statedef 21480]
type = S
movetype = A
physics =N
anim = 9800
ctrl = 0
sprpriority = 4
velset = 0,0



[State 21480]
type = Explod
trigger1 = Time = 0
anim = 21480
sprpriority = 4
;removetime = 16
ownpal = 1

[State 21480]
type = Explod
trigger1 = Time = 0
anim = 21481
sprpriority = 5
;removetime = 16
ownpal = 1


[State 21480]
type = Explod
trigger1 = Time = 4
anim = 21482
sprpriority = 5
ownpal = 1

[State 21480]
type = DestroySelf
trigger1 = Time = 9


;------------------------------------------------------------------------------------------------------------
;Berserker Barrage
[Statedef 21481]
type = S
movetype = A
physics =N
anim = 9800
ctrl = 0
sprpriority = 4
velset = 0,0



[State 21481]
type = Explod
trigger1 = Time = 0
anim = 21485
sprpriority = 4
;removetime = 16
ownpal = 1

[State 21481]
type = Explod
trigger1 = Time = 0
anim = 21486
sprpriority = 5
;removetime = 16
ownpal = 1


[State 21481]
type = Explod
trigger1 = Time = 4
anim = 21487
sprpriority = 5
ownpal = 1

[State 21481]
type = DestroySelf
trigger1 = Time = 9


;------------------------------------------------------------------------------------------------------------
;Venom Rush Helper
[Statedef 21510]
type = S
movetype = I
physics =N
anim = 21510
ctrl = 0
sprpriority = -1
velset = 0,0



[State 21510]
type = varset
trigger1 = Time = 0
var(1) = parent,stateno


[State 21510]
type = varset
trigger1 = Time = 0
var(2) = 0



[State 21510]
type = AssertSpecial
trigger1 = 1
flag = noshadow



[State 21510]
type = PosAdd
trigger1 = Time < 9
x = 11



[State 21510]
type = Helper
trigger1 = Time = 9
stateno = 21511
id = 21511
ownpal = 1


[State 21510]
type = varset
trigger1 = Time > 10 && !NumHelper(21511)
var(2) = 1



[State 21510]
type = PosAdd
trigger1 = var(2)
trigger1 = ParentDist X < 0
x = -11


[State 21510]
type = DestroySelf
trigger1 = Parent,Stateno != var(1)
trigger2 = var(2)
trigger2 = ParentDist X >= 0



[State 21510]
type = BindToParent
trigger1 = Time > 9 && !var(2)
pos = 9*11,0



;------------------------------------------------------------------------------------------------------------
;Venom Rush Helper
[Statedef 21511]
type = U
movetype = A
physics = N
;anim = 21511
ctrl = 0
sprpriority = 2
velset = 0,0
;hitcountpersist = 1

[State 21511]
type = Varset
trigger1 = Time = 0
var(3) = parent,id

[State 21511]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 21511
value = 21511

[State 21511]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1480,1


[State 21511]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 21511]
type = HitBy
trigger1 = 1
value = SCA,AP


[State 21511]
type = HitOverride
trigger1 = 1
stateno = 21511
attr = SCA,AP
slot = 0
time = -1


[State 21511]
type = HitDef
attr = S, SP
trigger1 = hitcount < 3
trigger1 = moveguarded < 1
damage = 3*(Root,var(30)),floor(Root,var(30)/2)
animtype = Light
priority  = 5, Hit
guardflag = MA
pausetime = 5,3
sparkxy = -10,-70+floor(P2Dist Y)
hitsound   = S1,6
guardsound = S4,0
sparkno = S(8210+random%2)
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 25
ground.velocity = -1,-7
air.velocity = -1 - 7*(hitcount > 1),-7
guard.velocity = -7
airguard.velocity = -7
;fall.xvelocity = -3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;fall = 1
;air.fall = 1
;fall.recover = 1
;fall.animtype = Up
;p2stateno = 9020
getpower = 20,10
;palfx.time = 1
;palfx.add = 256,256,256
sprpriority = 2


[State 21511]
type = Varset
trigger1 = time = 0
var(0) = 3

[State 21511]
type = VarAdd
trigger1 = MoveGuarded
var(0) = -1

[State 21511]
type = MoveHitReset
trigger1 = var(0) > 0
trigger1 = MoveGuarded

[State 21511]
type = null;ChangeState
trigger1 = var(0) < 1 || hitcount > 2
trigger2 = Time > 50
value = 21459
ignorehitpause  = 1


[State 21511]
type = null;ChangeState;DestroySelf
trigger1 = MoveGuarded
ignorehitpause = 1
value = 21459



[State 21511]
type = ChangeState;DestroySelf
trigger1 = MoveReversed
ignorehitpause = 1
value = 21511


[State 21511]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = !PlayerIDExist(var(3))


[State 21511]
type = BindToParent
trigger1 = PlayerIDExist(var(3))


;------------------------------------------------------------------------------------------------------------
;Venom Rush Helper
[Statedef 21520]
type = S
movetype = I
physics =N
anim = 21510
ctrl = 0
sprpriority = -1
velset = 0,0



[State 21520]
type = varset
trigger1 = Time = 0
var(1) = parent,stateno


[State 21520]
type = varset
trigger1 = Time = 0
var(2) = 0



[State 21520]
type = AssertSpecial
trigger1 = 1
flag = noshadow



[State 21520]
type = PosAdd
trigger1 = Time < 9
x = 17


[State 21520]
type = Explod
trigger1 = ParentDist X < -99
anim = 21510
id = 21520
removetime = -1
bindtime = -1
ownpal = 1
pos = -45,0
persistent = 0

[State 21520]
type = Helper
trigger1 = Time = 9
stateno = 21511
id = 21511
ownpal = 1


[State 21520]
type = varset
trigger1 = Time > 10 && !NumHelper(21511)
var(2) = 1



[State 21520]
type = PosAdd
trigger1 = var(2)
trigger1 = ParentDist X < 0
x = -17


[State 21520]
type = RemoveExplod
trigger1 = NumExplod(21520)
trigger1 = ParentDist X > -50
trigger2 = Parent,Stateno != var(1)
id = 21520


[State 21520]
type = DestroySelf
trigger1 = Parent,Stateno != var(1)
trigger2 = var(2)
trigger2 = ParentDist X >= 0

[State 21520]
type = BindToParent
trigger1 = Time > 9 && !var(2)
pos = 9*17,0


;------------------------------------------------------------------------------------------------------------
;Venom Rush Helper
[Statedef 21530]
type = S
movetype = I
physics =N
anim = 21510
ctrl = 0
sprpriority = -1
velset = 0,0



[State 21530]
type = varset
trigger1 = Time = 0
var(1) = parent,stateno


[State 21530]
type = varset
trigger1 = Time = 0
var(2) = 0



[State 21530]
type = AssertSpecial
trigger1 = 1
flag = noshadow



[State 21530]
type = PosAdd
trigger1 = Time < 9
x = 25


[State 21530]
type = Explod
trigger1 = ParentDist X < -100
anim = 21510
id = 21520
removetime = -1
bindtime = -1
ownpal = 1
pos = -45,0
persistent = 0


[State 21530]
type = Explod
trigger1 = ParentDist X < -190
anim = 21510
id = 21521
removetime = -1
bindtime = -1
ownpal = 1
pos = -160,0
persistent = 0


[State 21530]
type = Helper
trigger1 = Time = 9
stateno = 21511
id = 21511
ownpal = 1


[State 21530]
type = varset
trigger1 = Time > 10 && !NumHelper(21511)
var(2) = 1



[State 21530]
type = PosAdd
trigger1 = var(2)
trigger1 = ParentDist X < 0
x = -25


[State 21530]
type = RemoveExplod
trigger1 = NumExplod(21520)
trigger1 = ParentDist X > -50
trigger2 = Parent,Stateno != var(1)
id = 21520

[State 21530]
type = RemoveExplod
trigger1 = NumExplod(21521)
trigger1 = ParentDist X > -100
trigger2 = Parent,Stateno != var(1)
id = 21521

[State 21530]
type = DestroySelf
trigger1 = Parent,Stateno != var(1)
trigger2 = var(2)
trigger2 = ParentDist X >= 0

[State 21530]
type = BindToParent
trigger1 = Time > 9 && !var(2)
pos = 9*25,0


;---------------------------------------------------------------------------
;Drill Claw Helper var
[Statedef 21570]
type    = U
movetype= I
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
anim = 9800
sprpriority = -1


[State 21570]
type = varset
trigger1 = Time = 0
var(1) = parent,stateno



[State 21570]
type = DestroySelf
trigger1 = parent,stateno != var(1)


[State 21570]
type = BindToParent
trigger1 = 1


[State 21570]
type = null;VarSet
trigger1 = Time = 0
var(2) = 1

[State 21570]
type = VarSet
trigger1 = Time = 0
var(3) = 0



[State 21570]
type = null;VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 1, >= 0
trigger1 = parent,command = "holdx" || parent,command = "holdy" || parent,command = "holdz"
trigger2 = parent,command = "holda" || parent,command = "holdb" || parent,command = "holdc"
var(2) = 1

[State 21570]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 1, >= 0
trigger1 = parent,command = "holdfwd"
trigger1 = parent,command != "holdup"
trigger1 = parent,command != "holddown"
var(3) = 1


[State 21570]
type = VarSet
triggerall = !parent,var(59)
triggerall = AnimElem = 1, >= 0
trigger1 = parent,command = "holdback"
trigger1 = parent,command != "holdup"
trigger1 = parent,command != "holddown"
var(3) = -1


[State 21570]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 1, >= 0
trigger1 = parent,command = "holdfwd" && parent,command = "holdup"
var(3) = 2

[State 21570]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 1, >= 0
trigger1 = parent,command = "holdback" && parent,command = "holdup"
var(3) = -2


[State 21570]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 1, >= 0
trigger1 = parent,command != "holdfwd"
trigger1 = parent,command != "holdback"
trigger1 = parent,command = "holdup"
var(3) = 3


[State 21570]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 1, >= 0
trigger1 = parent,command = "holddown"
trigger1 = parent,command != "holdfwd"
trigger1 = parent,command != "holdback"
var(3) = -3

[State 21570]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 1, >= 0
trigger1 = parent,command = "holdfwd" && parent,command= "holddown"
var(3) = 4


[State 21570]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 1, >= 0
trigger1 = parent,command = "holddown" && parent,command = "holdback"
var(3) = -4


;Forward
[State 21570]
type = ParentVarSet
;trigger1 = var(2)
trigger1 = var(3) = 1
trigger2 = parent,var(59) && random < 300
trigger2 = parent,var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [10,320]
var(4) = 1582

;Back
[State 21570]
type = ParentVarSet
;trigger1 = var(2)
trigger1 = var(3) = -1
trigger2 = parent,var(59) && random < 300
trigger2 = parent,var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [-320,-10]
var(4) = 1586

;Up Forward
[State 21570]
type = ParentVarSet
;trigger1 = var(2)
trigger1 = var(3) = 2
trigger2 = parent,var(59) && random < 300
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [10,320]
trigger2 = parent,p2bodydist y/parent,p2bodydist x = [-1.3,-0.7]
var(4) = 1581

;Up Backward
[State 21570]
type = ParentVarSet
;trigger1 = var(2)
trigger1 = var(3) = -2
trigger2 = parent,var(59) && random < 300
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [-320,-10]
trigger2 = parent,p2bodydist y/parent,p2bodydist x = [0.7,1.3]
var(4) = 1587

;Up
[State 21570]
type = ParentVarSet
;trigger1 = var(2)
trigger1 = var(3) = 3
trigger2 = parent,var(59) && random < 300
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [-30,30]
trigger2 = parent,p2bodydist y = [-240,-10]
var(4) = 1580

;Down
[State 21570]
type = ParentVarSet
;trigger1 = var(2)
trigger1 = var(3) = -3
trigger2 = var(59) && random < 300
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [-30,30]
trigger2 = parent,p2bodydist y = [10,240]
var(4) = 1584


;Forward Down
[State 21570]
type = ParentVarSet
;trigger1 = var(2)
trigger1 = var(3) = 4
trigger2 = var(59) && random < 300
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [10,320]
trigger2 = parent,p2bodydist y/parent,p2bodydist x = [0.7,1.3]
var(4) = 1583

;Back Down
[State 21570]
type = ParentVarSet
;trigger1 = var(2)
trigger1 = var(3) = -4
trigger2 = var(59) && random < 300
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [-320,-10]
trigger2 = parent,p2bodydist y/parent,p2bodydist x = [-1.3,-0.7]
var(4) = 1585



;---------------------------------------------------------------------------
;Drill Claw Helper var Wall Bounce
[Statedef 21571]
type    = U
movetype= I
physics = N
juggle  = 3
poweradd= 0
ctrl = 0
velset = 0,0
anim = 9800
sprpriority = -1


[State 21571]
type = varset
trigger1 = Time = 0
var(1) = parent,stateno



[State 21571]
type = DestroySelf
trigger1 = parent,stateno != var(1)


[State 21571]
type = BindToParent
trigger1 = 1


[State 21571]
type = null;VarSet
trigger1 = Time = 0
var(2) = 1

[State 21571]
type = VarSet
trigger1 = Time = 0
var(3) = 0



[State 21571]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 2, >= 0
trigger1 = parent,command = "holdx" || parent,command = "holdy" || parent,command = "holdz"
trigger2 = parent,command = "holda" || parent,command = "holdb" || parent,command = "holdc"
var(2) = 1

[State 21571]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 2, >= 0
trigger1 = parent,command = "holdfwd"
trigger1 = parent,command != "holdup"
trigger1 = parent,command != "holddown"
var(3) = 1


[State 21571]
type = VarSet
triggerall = !parent,var(59)
triggerall = AnimElem = 2, >= 0
trigger1 = parent,command = "holdback"
trigger1 = parent,command != "holdup"
trigger1 = parent,command != "holddown"
var(3) = -1


[State 21571]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 2, >= 0
trigger1 = parent,command = "holdfwd" && parent,command = "holdup"
var(3) = 2

[State 21571]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 2, >= 0
trigger1 = parent,command = "holdback" && parent,command = "holdup"
var(3) = -2


[State 21571]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 2, >= 0
trigger1 = parent,command != "holdfwd"
trigger1 = parent,command != "holdback"
trigger1 = parent,command = "holdup"
var(3) = 3


[State 21571]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 2, >= 0
trigger1 = parent,command = "holddown"
trigger1 = parent,command != "holdfwd"
trigger1 = parent,command != "holdback"
var(3) = -3

[State 21571]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 2, >= 0
trigger1 = parent,command = "holdfwd" && parent,command= "holddown"
var(3) = 4


[State 21571]
type = VarSet
triggerall = !parent,var(59)
triggerall = parent,AnimElem = 2, >= 0
trigger1 = parent,command = "holddown" && parent,command = "holdback"
var(3) = -4


;Forward
[State 21571]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = 1
trigger2 = parent,var(59) && random < 300
trigger2 = parent,var(8) = [-20,20]
trigger2 = parent,p2bodydist x = [10,320]
var(4) = 1582

;Back
[State 21571]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = -1
trigger2 = parent,var(59) && random < 300
trigger2 = parent,var(8) = [-20,20]
trigger2 = parent,p2bodydist x = [-320,-10]
var(4) = 1586

;Up Forward
[State 21571]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = 2
trigger2 = parent,var(59) && random < 300
;trigger2 = var(8) = [-130,130]
trigger2 = parent,p2bodydist x = [10,320]
trigger2 = parent,p2bodydist y/parent,p2bodydist x = [-1.3,-0.7]
var(4) = 1581

;Up Backward
[State 21571]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = -2
trigger2 = parent,var(59) && random < 300
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [-320,-10]
trigger2 = parent,p2bodydist y/parent,p2bodydist x = [0.7,1.3]
var(4) = 1587

;Up
[State 21571]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = 3
trigger2 = parent,var(59) && random < 300
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [-30,30]
trigger2 = parent,p2bodydist y = [-240,-10]
var(4) = 1580

;Down
[State 21571]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = -3
trigger2 = var(59) && random < 300
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [-30,30]
trigger2 = parent,p2bodydist y = [10,240]
var(4) = 1584


;Forward Down
[State 21571]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = 4
trigger2 = var(59) && random < 300
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [10,320]
trigger2 = parent,p2bodydist y/parent,p2bodydist x = [0.7,1.3]
var(4) = 1583

;Back Down
[State 21571]
type = ParentVarSet
trigger1 = var(2)
trigger1 = var(3) = -4
trigger2 = var(59) && random < 300
;trigger2 = var(8) = [-30,30]
trigger2 = parent,p2bodydist x = [-320,-10]
trigger2 = parent,p2bodydist y/parent,p2bodydist x = [-1.3,-0.7]
var(4) = 1585



;------------------------------------------------------------------------------------------------------------
;Berserker Barrage X
[Statedef 23000]
type = S
movetype = A
physics =N
anim = 9800
ctrl = 0
sprpriority = 4
velset = 0,0



[State 23000]
type = Explod
trigger1 = Time = 0
anim = 21480
sprpriority = 4
;removetime = 16
ownpal = 1

[State 23000]
type = Explod
trigger1 = Time = 0
anim = 21481
sprpriority = 5
;removetime = 16
ownpal = 1


[State 23000]
type = Explod
trigger1 = Time = 4
anim = 21482
sprpriority = 5
ownpal = 1

[State 23000]
type = DestroySelf
trigger1 = Time = 9


;------------------------------------------------------------------------------------------------------------
;Berserker Barrage X
[Statedef 23001]
type = S
movetype = A
physics =N
anim = 9800
ctrl = 0
sprpriority = 4
velset = 0,0



[State 23001]
type = Explod
trigger1 = Time = 0
anim = 21485
sprpriority = -2
;removetime = 16
ownpal = 1

[State 23001]
type = Explod
trigger1 = Time = 0
anim = 21486
sprpriority = -1
;removetime = 16
ownpal = 1


[State 23001]
type = Explod
trigger1 = Time = -2
anim = 21487
sprpriority = 5
ownpal = 1

[State 23001]
type = DestroySelf
trigger1 = Time = 9


;------------------------------------------------------------------------------------------------------------
;Berserker Barrage X
[Statedef 23002]
type = S
movetype = A
physics =N
anim = 23000
ctrl = 0
sprpriority = 2
velset = 0,0




[State 23002]
type = DestroySelf
trigger1 = Parent,stateno != 3001
trigger2 = Parent,AnimElem = 7

[State 23002]
type = BindToParent
trigger1 = 1


;------------------------------------------------------------------------------------------------------------
;Fatal Claw X Helper
[Statedef 23080]
type = S
movetype = A
physics = N
;anim = 23040
ctrl = 0
sprpriority = 2
velset = 0,0
hitcountpersist = 1


[State 23080]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 23080]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 23080
value = 23080

[State 3081]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,13


[State 23080]
type = Helper
trigger1 = AnimElem = 1
stateno = 23081
id = 23081
ownpal = 1
pos = 0,0
persistent = 0


[State 23080]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 23080]
type = PlayerPush
trigger1 = 1
value = 0



[State 23080]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 23080]
type = HitOverride
trigger1 = 1
stateno = 23080
attr = SCA,AP
slot = 0
time = -1

 

[State 23080]
type = HitDef
attr = SA, HP
trigger1 = Time%5 = 0
;trigger1 = hitcount < 1
;trigger1 = moveguarded < 1
damage = floor(1.5*(Root,var(30))),floor(root,var(30)/2)
animtype = Medium
priority  = 5, Hit
guardflag = MA
hitflag = MAFD
pausetime = 0,3
sparkxy = -10,-10 + floor(P2Dist Y)
hitsound   = S1,12
guardsound = S4,0
sparkno = S(7280+random%2)
guard.sparkno = S8430
ground.type = Low
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = 2,-7
air.velocity = 2,-7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 10,5
sprpriority = 2


[State 23080]
type = BindToParent
trigger1 = 1
pos = -27,-7

[State 23080]
type = DestroySelf
trigger1 = AnimTime = 0


[State 23080]
type = null;DestroySelf
trigger1 = Parent,Stateno != 3001


;------------------------------------------------------------------------------------------------------------
;Fatal Claw Helper
[Statedef 23081]
type = S
movetype = I
physics = N
anim = 23081
ctrl = 0
sprpriority = -2
velset = 0,0
hitcountpersist = 1


[State 23081]
type = null;ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0



[State 23081]
type = null;ChangeAnim
trigger1 = Time = 0 && Anim != 23000
value = 23000

[State 23081]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23081]
type = Varset
trigger1 = Time = 0
var(3) = parent,id



[State 23081]
type = DestroySelf
trigger1 = !PlayerIDExist(var(3))

[State 23081]
type = BindToParent
trigger1 = PlayerIDExist(var(3))


;------------------------------------------------------------------------------------------------------------
;Weapon X
[Statedef 23402]
type = S
movetype = A
physics =N
anim = 23000
ctrl = 0
sprpriority = 2
velset = 0,0




[State 23402]
type = DestroySelf
trigger1 = Parent,stateno != 3401


[State 23402]
type = BindToParent
trigger1 = 1



;------------------------------------------------------------------------------------------------------------
;Weapon X
[Statedef 23403]
type = S
movetype = I
physics =N
anim = 9800
ctrl = 0
sprpriority = 2
velset = 0,0

[State 23403]
type = PlaySnd
trigger1 = Time = 0
value = 220,2

[State 23403]
type = Explod
trigger1 = Time = 0
anim = 23400
sprpriority = 4
;removetime = 16
ownpal = 1

[State 23403]
type = Explod
trigger1 = Time = 0
anim = 23401
sprpriority = -2
;removetime = 16
ownpal = 1



[State 23403]
type = DestroySelf
trigger1 = Time = 29

;------------------------------------------------------------------------------------------------------------
;Bomb Explod Helper on Ground
[Statedef 23125]
type = A
movetype = A
physics = N
;anim = 23125
ctrl = 0
sprpriority = 2
velset = 0,0

[State 23125]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 23125
value = 23125

[State 23125]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23125]
type = PlaySnd
trigger1 = Time = 1
value = 32720


[State 23125]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 23125]
type = HitOverride
trigger1 = 1
stateno = 23125
attr = SCA,AP
slot = 0
time = -1


[State 23125]
type = HitDef
attr = A, HP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 21*(Root,var(30)),Root,var(30)
animtype = Large
priority  = 5, Hit
guardflag = MA
pausetime = 0,7
sparkxy = -10,-40
hitsound   = S8,0
guardsound = S4,0
sparkno = S7419
guard.sparkno = S8430
ground.type = High
ground.slidetime = 10
ground.hittime  = 25
ground.velocity = -8,-7
air.velocity = -8,-7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
;fall.animtype = Up
;p2stateno = 9020
getpower = 50,25
palfx.time = 1
palfx.add = 256,256,256
envshake.time = 30
envshake.freq = 100
envshake.ampl = -10
envshake.phase = 10


[State 23125]
type = DestroySelf
trigger1 = AnimTime = 0



;------------------------------------------------------------------------------------------------------------
;Blood Spit
[Statedef 28103]
type = A
movetype = I
physics = N
anim = 8103
ctrl = 0
sprpriority = 4
velset = 0,0


[State 28103]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 28103]
type = VelSet
trigger1 = Time = 0 && parent,anim = 8108
x = 2+random%2
y = 1+random%2


[State 28103]
type = VelSet
trigger1 = Time = 0 && parent,anim = 8109
x = 4+random%2
y = -3-random%2


[State 28103]
type = VelAdd
trigger1 = 1
y = 0.4

[State 28103]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 28104



;------------------------------------------------------------------------------------------------------------
;Blood Spit
[Statedef 28104]
type = S
movetype = I
physics = N
anim = 8104
ctrl = 0
sprpriority = 4
velset = 0,0


[State 28103]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 28104]
type = DestroySelf
trigger1 = AnimTime = 0


;------------------------------------------------------------------------------------------------------------
;Blood Spit
[Statedef 28108]
type = S
movetype = I
physics = N
anim = 8108+random%2
ctrl = 0
sprpriority = 5
velset = 0,0


[State 28108]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 28108]
type = Helper
trigger1 = AnimElem = 2 && Anim = 8108
stateno = 28103
pos = 56,28


[State 28108]
type = Helper
trigger1 = AnimElem = 2 && Anim = 8109
stateno = 28103
pos = 56,-28

[State 28108]
type = null;Turn
trigger1 = root,facing != facing


[State 28108]
type = BindToTarget
trigger1 = Root,Var(10)
id = Root,var(10)
pos = -100,0,mid


[State 28108]
type = DestroySelf
trigger1 = AnimTime = 0



;------------------------------------------------------------------------------------------------------------
;Blood Spit
[Statedef 28109]
type = S
movetype = I
physics = N
anim = 8108+random%2
ctrl = 0
sprpriority = 5
velset = 0,0


[State 28109]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 28109]
type = Helper
trigger1 = AnimElem = 2 && Anim = 8108
stateno = 28103
pos = 56,28


[State 28109]
type = Helper
trigger1 = AnimElem = 2 && Anim = 8109
stateno = 28103
pos = 56,-28

[State 28109]
type = null;Turn
trigger1 = root,facing != facing


[State 28109]
type = null;BindToParent
trigger1 = 1

[State 28109]
type = DestroySelf
trigger1 = AnimTime = 0



;-----------------------------------------------------------------
; Override common states (use same number to override) :
;-----------------------------------------------------------------



;-----------------------------------------------------------------
; States that are always executed (use statedef -2)
;-----------------------------------------------------------------

;-----------------------------------------------------------------
; States that are executed when in se

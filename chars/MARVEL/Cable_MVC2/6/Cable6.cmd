;-| Super Motions |--------------------------------------------------------
[Command]
name = "Hyper Viper Beam"
command = D, F, x+y
time = 25
[Command]
name = "Hyper Viper Beam"
command = D, F, x+z
time = 25
[Command]
name = "Hyper Viper Beam"
command = D, F, z+y
time = 25
[Command]
name = "Time Flip"
command = D, F, a+c
time = 25
[Command]
name = "Time Flip"
command = D, F, c+b
time = 25
[Command]
name = "Time Flip"
command = D, F, a+b
time = 25
;[Command]
;name = "SnapBack"
;command = D, F, z
;time = 25
[Command]
name = "Counter1"
command = B, D, z
time = 25
;-| Special Motions |------------------------------------------------------
[Command]
name = "Viper Beam"
command = D, F, x
time = 15
[Command]
name = "Strong Viper Beam"
command = D, F, y
time = 15
[Command]
name = "Fierce Viper Beam"
command = D, F, z
time = 15
[Command]
name = "Scimitar_X"
command = ~F, D, DF, x
time = 25
[Command]
name = "Scimitar_Y"
command = ~F, D, DF, y
time = 25
[Command]
name = "Scimitar_Z"
command = ~F, D, DF, z
time = 25
[Command]
name = "Grenade_A"
command = D, B, a
time = 15
[Command]
name = "Grenade_B"
command = D, B, b
time = 15
[Command]
name = "Grenade_B"
command = D, B, c
time = 15
[Command]
name = "CrackDown_A"
command = D, F, a
time = 15
[Command]
name = "CrackDown_B"
command = D, F, b
time = 15
[Command]
name = "CrackDown_C"
command = D, F, c
time = 15
[Command]
name = "Kinetic Shock"
command = F, D, B, x
time = 30
[Command]
name = "Kinetic Shock"
command = F, D, B, y
time = 30
[Command]
name = "Kinetic Shock"
command = F, D, B, z
time = 30
;-| Double Tap |-----------------------------------------------------------
[Command]
name = "FF"     ;Required (do not remove)
command = F, F
time = 10
[Command]
name = "BB"     ;Required (do not remove)
command = B, B
time = 10
[command]
name = "SuperJump"
command = D, U
time = 20
[command]
name = "SuperJump"
command = D, UF
time = 12
[command]
name = "SuperJump"
command = D, UB
time = 12
[command]
name = "FF"
command = /F, x+y
time = 1
[command]
name = "BB"
command = /B, x+y
time = 1
;-| 2/3 Button Combination |-----------------------------------------------
[Command]
name = "recovery" ;Required (do not remove)
command = x+y
time = 1
[Command]
name = "recovery"
command = y+z
time = 1
[Command]
name = "recovery"
command = x+z
time = 1
[Command]
name = "recovery"
command = a+b
time = 1
[Command]
name = "recovery"
command = b+c
time = 1
[Command]
name = "recovery"
command = a+c
time = 1
[Command]
name = "recoveryroll"
command = ~B, DB, D, x
time = 10
[Command]
name = "recoveryroll"
command = ~B, DB, D, y
time = 10
[Command]
name = "recoveryroll"
command = ~B, DB, D, z
time = 10
[Command]
name = "recoveryroll"
command = ~B, DB, D, a
time = 10
[Command]
name = "recoveryroll"
command = ~B, DB, D, b
time = 10
[Command]
name = "recoveryroll"
command = ~B, DB, D, c
time = 10
[command] 
name = "Advguard"
command = x+y
time = 5
[command] 
name = "Advguard"
command = x+z
time = 5
[command] 
name = "Advguard"
command = z+y
time = 5
;-| Dir + Button |---------------------------------------------------------
[Command]
name = "back_x"
command = /$B,x
time = 1
[Command]
name = "back_y"
command = /$B,y
time = 1
[Command]
name = "back_z"
command = /$B,z
time = 1
[Command]
name = "down_x"
command = /$D,x
time = 1
[Command]
name = "down_y"
command = /$D,y
time = 1
[Command]
name = "down_z"
command = /$D,z
time = 1
[Command]
name = "fwd_x"
command = /$F,x
time = 1
[Command]
name = "fwd_y"
command = /$F,y
time = 1
[Command]
name = "fwd_z"
command = /$F,z
time = 1
[Command]
name = "up_x"
command = /$U,x
time = 1
[Command]
name = "up_y"
command = /$U,y
time = 1
[Command]
name = "up_z"
command = /$U,z
time = 1
[Command]
name = "back_a"
command = /$B,a
time = 1
[Command]
name = "back_b"
command = /$B,b
time = 1
[Command]
name = "back_c"
command = /$B,c
time = 1
[Command]
name = "down_a"
command = /$D,a
time = 1
[Command]
name = "down_b"
command = /$D,b
time = 1
[Command]
name = "down_c"
command = /$D,c
time = 1
[Command]
name = "fwd_a"
command = /$F,a
time = 1
[Command]
name = "fwd_b"
command = /$F,b
time = 1
[Command]
name = "fwd_c"
command = /$F,c
time = 1
[Command]
name = "up_a"
command = /$U,a
time = 1
[Command]
name = "up_b"
command = /$U,b
time = 1
[Command]
name = "up_c"
command = /$U,c
time = 1
;-| Single Button |---------------------------------------------------------
[Command]
name = "a"
command = a
time = 1
[Command]
name = "b"
command = b
time = 1
[Command]
name = "c"
command = c
time = 1
[Command]
name = "x"
command = x
time = 1
[Command]
name = "y"
command = y
time = 1
[Command]
name = "z"
command = z
time = 1
[Command]
name = "start"
command = s
time = 1
;-| Hold Button |--------------------------------------------------------------
[Command]
name = "hold_x"
command = /x
time = 1
[Command]
name = "hold_y"
command = /y
time = 1
[Command]
name = "hold_z"
command = /z
time = 1
[Command]
name = "hold_a"
command = /a
time = 1
[Command]
name = "hold_b"
command = /b
time = 1
[Command]
name = "hold_c"
command = /c
time = 1
[Command]
name = "hold_start"
command = /s
time = 1
;-| Hold Dir |--------------------------------------------------------------
[Command]
name = "holdfwd" ;Required (do not remove)
command = /$F
time = 1
[Command]
name = "holddownfwd"
command = /$DF
time = 1
[Command]
name = "holddown" ;Required (do not remove)
command = /$D
time = 1
[Command]
name = "holddownback"
command = /$DB
time = 1
[Command]
name = "holdback" ;Required (do not remove)
command = /$B
time = 1
[Command]
name = "holdupback"
command = /$UB
time = 1
[Command]
name = "holdup" ;Required (do not remove)
command = /$U
time = 1
[Command]
name = "holdupfwd"
command = /$UF
time = 1
; Don't remove the following line. It's required by the CMD standard.
[Statedef -1]
;===========================================================================

;---------------------------------------------------------------------------
; Time Flip
[State -1, Time Flip]
type = ChangeState
value = 3500
triggerall = pos y >= 0
triggerall = NumHelper(26) = 0
triggerall = power >= 1000
triggerall = command = "Time Flip"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = StateNo = [200, 250]
trigger2 = Time > 5
trigger3 = StateNo = [400, 450]
trigger3 = Time > 5
trigger4 = StateNo = [1000, 1399]
trigger4 = time > 5

;---------------------------------------------------------------------------
; Hyper Viper Beam
[State -1, Hyper Viper Beam]
type = ChangeState
value = 3000
triggerall = Command = "Hyper Viper Beam" && NumHelper(26) = 0
triggerall = pos y >= 0
triggerall = power >= 1000
triggerall = command = "Hyper Viper Beam"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = StateNo = [200, 250]
trigger2 = Time > 5
trigger3 = StateNo = [400, 450]
trigger3 = Time > 5
trigger4 = StateNo = [1000, 1399]
trigger4 = time > 5

; Hyper Viper Beam
[State -1, Hyper Viper Beam]
type = ChangeState
value = 3010
triggerall = Command = "Hyper Viper Beam" && NumHelper(26) = 0
triggerall = pos y < 0
triggerall = power >= 1000
triggerall = command = "Hyper Viper Beam"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = StateNo = [600, 650]
trigger2 = movecontact
trigger3 = StateNo = 620
trigger3 = Time > 5
trigger4 = StateNo = [1000, 1130]
trigger4 = time > 5

;---------------------------------------------------------------------------
; Kinetic Shock
[State -1, Kinetic Shock]
type = ChangeState
value = 1400
triggerall = command = "Kinetic Shock"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = StateNo = [200, 250]
trigger2 = Time > 5
trigger3 = StateNo = [400, 440]
trigger3 = Time > 5

;---------------------------------------------------------------------------
; Crack Down
[State -1, Crack Down A]
type = ChangeState
value = 1300
triggerall = command = "CrackDown_A"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = StateNo = [200, 250]
trigger2 = Time > 5
trigger3 = StateNo = [400, 450]
trigger3 = Time > 5

; CrackDown
[State -1, Crack Down B]
type = ChangeState
value = 1310
triggerall = command = "CrackDown_B"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = StateNo = [200, 250]
trigger2 = Time > 5
trigger3 = StateNo = [400, 450]
trigger3 = Time > 5

; CrackDown
[State -1, Crack Down C]
type = ChangeState
value = 1320
triggerall = command = "CrackDown_C"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = StateNo = [200, 250]
trigger2 = Time > 5
trigger3 = StateNo = [400, 450]
trigger3 = Time > 5

;---------------------------------------------------------------------------
; Grenade A
[State -1, Grenade A]
type = ChangeState
value = 1250
triggerall = command = "Grenade_A"
triggerall = NumHelper(1200) = 0
triggerall = NumProjID(7) = 0
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = StateNo = [200, 250]
trigger2 = Time > 5
trigger3 = StateNo = [400, 440]
trigger3 = movecontact

; Grenade B
[State -1, Grenade B]
type = ChangeState
value = 1260
triggerall = NumHelper(1200) = 0
triggerall = NumProjID(7) = 0
triggerall = command = "Grenade_B"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = StateNo = [200, 250]
trigger2 = Time > 5
trigger3 = StateNo = [400, 440]
trigger3 = movecontact

; Grenade A
[State -1, Grenade A]
type = ChangeState
value = 1250
triggerall = NumHelper(1200) = 0
triggerall = NumProjID(7) = 0
triggerall = command = "Grenade_A"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = StateNo = [600, 650]
trigger2 = movecontact
trigger3 = StateNo = 620
trigger3 = Time > 5

; Grenade B
[State -1, Grenade B]
type = ChangeState
value = 1260
triggerall = NumHelper(1200) = 0
triggerall = NumProjID(7) = 0
triggerall = command = "Grenade_B"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = StateNo = [600, 650]
trigger2 = movecontact
trigger3 = StateNo = 620
trigger3 = Time > 5

;---------------------------------------------------------------------------
; Scimitar_X
[State -1, Scimitar_X]
type = ChangeState
value = 1110
triggerall = command = "Scimitar_X"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = StateNo = [200, 250]
trigger2 = Time > 5
trigger3 = StateNo = [400, 440]
trigger3 = Time > 5

; Scimitar_Y
[State -1, Scimitar_Y]
type = ChangeState
value = 1120
triggerall = command = "Scimitar_Y"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = StateNo = [200, 250]
trigger2 = Time > 5
trigger3 = StateNo = [400, 440]
trigger3 = Time > 5

; Scimitar_Z
[State -1, Scimitar_Z]
type = ChangeState
value = 1130
triggerall = command = "Scimitar_Z"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = StateNo = [200, 250]
trigger2 = Time > 5
trigger3 = StateNo = [400, 440]
trigger3 = Time > 5

;---------------------------------------------------------------------------
; Viper Beam
[State -1, Viper Beam]
type = ChangeState
value = 1000
triggerall = command = "Viper Beam"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = StateNo = [200, 250]
trigger2 = Time > 5
trigger3 = StateNo = [400, 450]
trigger3 = Time > 5

; Air Viper Beam
[State -1, Viper Beam]
type = ChangeState
value = 1010
triggerall = command = "Viper Beam"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = StateNo = [600, 650]
trigger2 = movecontact
trigger3 = StateNo = 620
trigger3 = Time > 5

;---------------------------------------------------------------------------
; Strong Viper Beam
[State -1, Strong Viper Beam]
type = ChangeState
value = 1020
triggerall = command = "Strong Viper Beam"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = StateNo = [200, 250]
trigger2 = Time > 5
trigger3 = StateNo = [400, 450]
trigger3 = Time > 5

; Air Viper Beam
[State -1, Viper Beam]
type = ChangeState
value = 1021
triggerall = command = "Strong Viper Beam"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = StateNo = [600, 650]
trigger2 = movecontact
trigger3 = StateNo = 620
trigger3 = Time > 5

;---------------------------------------------------------------------------
; Fierce Viper Beam
[State -1, Strong Viper Beam]
type = ChangeState
value = 1030
triggerall = command = "Fierce Viper Beam"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = StateNo = [200, 250]
trigger2 = Time > 5
trigger3 = StateNo = [400, 450]
trigger3 = Time > 5

; Air Fierce Viper Beam
[State -1, Viper Beam]
type = ChangeState
value = 1031
triggerall = command = "Fierce Viper Beam"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = StateNo = [600, 650]
trigger2 = movecontact
trigger3 = StateNo = 620
trigger3 = Time > 5

;---------------------------------------------------------------------------
; Snap Back
;[State -1, Snap Back]
;type = Null;ChangeState
;value = 4000
;triggerall = pos y >= 0
;triggerall = power >= 500
;triggerall = command = "SnapBack"
;trigger1 = statetype != A
;trigger1 = ctrl
;trigger2 = StateNo = [200, 250]
;trigger2 = Time > 5
;trigger3 = StateNo = [400, 450]
;trigger3 = movecontact
;---------------------------------------------------------------------------
; Counter Scimitar
[State -1, Counter Scimitar]
type = ChangeState
value = 4500
triggerall = power >= 500
triggerall = command = "Counter1"
triggerall = StateNo = [150, 151]
trigger1 = statetype != A

;===========================================================================
;---------------------------------------------------------------------------
; Launcher
[State -1, Launcher]
type = ChangeState
value = 210
trigger1 = command = "z" && command = "holddownfwd"
trigger1 = statetype = C
trigger1 = ctrl

;---------------------------------------------------------------------------
; Run Fwd
[State -1, Run Fwd]
type = ChangeState
value = 100
triggerall = command = "FF"
triggerall = command != "holdback"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
; Run Back
[State -1, Run Back]
type = ChangeState
value = 105
triggerall = command = "BB"
triggerall = command != "holdfwd"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
; Throw
[State -1, Throw]
type = ChangeState
value = 800
triggerall = command = "z" || command = "c"
triggerall = statetype = S
triggerall = ctrl
triggerall = stateno != 100
trigger1 = command = "holdfwd"
trigger1 = p2bodydist X < 10
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger1 = p2movetype != H
trigger2 = command = "holdback"
trigger2 = p2bodydist X < 10
trigger2 = (p2statetype = S) || (p2statetype = C)
trigger2 = p2movetype != H

;---------------------------------------------------------------------------
; Throw
[State -1, Throw]
type = ChangeState
value = 801
triggerall = command = "z" || command = "c"
triggerall = P2bodyDist y != 10
triggerall = statetype = A
triggerall = ctrl
triggerall = stateno != 100
trigger1 = command = "holdfwd"
trigger1 = p2bodydist X < 10
trigger1 = (p2statetype = A) ;|| (p2statetype = C)
trigger1 = p2movetype != H
trigger2 = command = "holdback"
trigger2 = p2bodydist X < 10
trigger2 = (p2statetype = A) ;|| (p2statetype = C)
trigger2 = p2movetype != H

;===========================================================================
;---------------------------------------------------------------------------
; Angle Kick
[State -1, Angle Kick]
type = ChangeState
value = 251
triggerall = command = "fwd_c"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
;---------------------------------------------------------------------------
; Taunt
[State -1, Taunt]
type = ChangeState
value = 195
triggerall = command = "start"
trigger1 = statetype != A
trigger1 = ctrl

;----------------------------------------------------------------------------------------
; Recovery Roll
[State -1, Falling]
type = VarSet
triggerall = alive
triggerall = (StateNo = 5035) || (StateNo = 5050) || (StateNo = 5071)
triggerall = Stateno != 5040
trigger1 = (Command = "recoveryroll")
var(8) = 1

[State -1, Rolling]
type = ChangeState
value = 705
triggerall = Var(8) = 1 
triggerall = (StateNo = 5035) || (StateNo = 5050) || (StateNo = 5071)
trigger1 = (Pos Y >= 0) && (Vel Y > 0)

;---------------------------------------------------------------------------
; Advance Guard (Stand)
[State -1, Advance Guard]
type = ChangeState
value = 710
triggerall = command = "Advguard"
trigger1 = stateno = [150,151]

;Advance Guard (Crouch)
[State -1, Advance Guard]
type = ChangeState
value = 711
triggerall = command = "Advguard"
trigger1 = stateno = [152,153]

;Advance Guard (Air)
[State -1, Advance Guard]
type = ChangeState
value = 712
triggerall = command = "Advguard"
trigger1 = stateno = 154
trigger2 = stateno = 155
trigger2 = Time <= 10

;---------------------------------------------------------------------------
; Stand Light Punch
[State -1, Stand Light Punch]
type = ChangeState
value = 200
triggerall = command = "x"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
; Stand Medium Punch
[State -1, Stand Medium Punch]
type = ChangeState
value = 210
triggerall = command = "y"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
; Stand Strong Punch
[State -1, Stand Strong Punch]
type = ChangeState
value = 220
triggerall = command = "z"
triggerall = command != "holddown"
triggerall = var(42) < 5
trigger1 = statetype = S && ctrl && var(20) != 1
trigger1 = ctrl

;---------------------------------------------------------------------------
; Stand Light Kick
[State -1, Stand Light Kick]
type = ChangeState
value = 230
triggerall = command = "a"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
; Standing Medium Kick
[State -1, Standing Medium Kick]
type = ChangeState
value = 240
triggerall = command = "b"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
; Standing Strong Kick
[State -1, Standing Strong Kick]
type = ChangeState
value = 250
triggerall = command = "c"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
; Crouching Light Punch
[State -1, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = command = "x"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl

;---------------------------------------------------------------------------
; Crouching Medium Punch
[State -1, Crouching Medium Punch]
type = ChangeState
value = 410
triggerall = command = "y"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl

;---------------------------------------------------------------------------
; Crouching Strong Punch
[State -1, Crouching Strong Punch]
type = ChangeState
value = 420
triggerall = command = "z"
triggerall = command = "holddown" && command != "holddownfwd"
trigger1 = statetype = C
trigger1 = ctrl

;---------------------------------------------------------------------------
; Crouching Light Kick
[State -1, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = command = "a"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl

;---------------------------------------------------------------------------
; Crouching Medium Kick
[State -1, Crouching Medium Kick]
type = ChangeState
value = 440
triggerall = command = "b"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl

;---------------------------------------------------------------------------
; Crouching Strong Kick
[State -1, Crouching Strong Kick]
type = ChangeState
value = 450
triggerall = command = "c"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl

;---------------------------------------------------------------------------
; Jump Light Punch
[State -1, Jump Light Punch]
type = ChangeState
value = 600
triggerall = command = "x"
trigger1 = statetype = A
trigger1 = ctrl

;---------------------------------------------------------------------------
; Jump Medium Punch
[State -1, Jump Medium Punch]
type = ChangeState
value = 610
triggerall = command = "y"
trigger1 = statetype = A
trigger1 = ctrl

;---------------------------------------------------------------------------
; Jump Strong Punch
[State -1, Jump Strong Punch]
type = ChangeState
value = 620
triggerall = command = "z"
trigger1 = statetype = A
trigger1 = ctrl

;---------------------------------------------------------------------------
; Jump Light Kick
[State -1, Jump Light Kick]
type = ChangeState
value = 630
triggerall = command = "a"
trigger1 = statetype = A
trigger1 = ctrl

;---------------------------------------------------------------------------
; Jump Medium Kick
[State -1, Jump Medium Kick]
type = ChangeState
value = 640
triggerall = command = "b"
trigger1 = statetype = A
trigger1 = ctrl

;---------------------------------------------------------------------------
; Jump Strong Kick
[State -1, Jump Strong Kick]
type = ChangeState
value = 650
triggerall = command = "c"
trigger1 = statetype = A
trigger1 = ctrl

;---------------------------------------------------------------------------
; Super Jump After Launcher
[state -1, Launcher Jump]
type = changestate
value = 700
triggerall = command = "holdup"
trigger1 = MoveHit
trigger1 = stateno = 210

;---------------------------------------------------------------------------
;Super Jump
[state -1, Super Jump]
type = ChangeState
value = 700
triggerall = command = "SuperJump"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = StateNo = 250
trigger2 = movehit
trigger3 = StateNo = 420
trigger3 = movehit

;===========================================================================
;Marvel vs. Capcom - Eternity of Heroes - Constants Template V.5
;by REDHOT, Acey & eSkRo
;===========================================================================
[Data]
life = 1000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 255
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = .83333333
yscale = 1
ground.back = 40
ground.front = 30
air.back = 18
air.front = 22
height = 76
attack.dist = 160
attack.width = 4,4
proj.dist = 90
proj.attack.dist = 90 
proj.doscale = 0
head.pos = 1, -113
mid.pos = 1, -53
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.8
walk.back = -1.35
run.fwd  = 6, 0
run.back = -8,0
jump.neu = 0,-7.7 ;0,-9.7
jump.back = -2.99
jump.fwd = 3.2
runjump.back = -2.55,-8.1
runjump.fwd = 4,-8.1
airjump.neu = 0,-8.6
airjump.back = -2.55
airjump.fwd = 2.5
air.gethit.groundrecover = -.15,-3.5  ;Velocity for ground recovery state (x, y) **MUGEN 1.0**
air.gethit.airrecover.mul = .5,.2     ;Multiplier for air recovery velocity (x, y) **MUGEN 1.0**
air.gethit.airrecover.add = 0,-4.5    ;Velocity offset for air recovery (x, y) **MUGEN 1.0**
air.gethit.airrecover.back = -1       ;Extra x-velocity for holding back during air recovery **MUGEN 1.0**
air.gethit.airrecover.fwd = 0         ;Extra x-velocity for holding forward during air recovery **MUGEN 1.0**
air.gethit.airrecover.up = -2         ;Extra y-velocity for holding up during air recovery **MUGEN 1.0**
air.gethit.airrecover.down = 1.5

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .41
stand.friction = .80
crouch.friction = .80
air.friction = .80
air.gethit.groundlevel = 15          ;Y-position at which a falling player is considered to hit the ground **MUGEN 1.0**
air.gethit.groundrecover.ground.threshold = -20 ;Y-position below which falling player can use the recovery command **MUGEN 1.0**
air.gethit.groundrecover.groundlevel = 10   ;Y-position at which player in the ground recovery state touches the ground **MUGEN 1.0**
air.gethit.airrecover.threshold = -1  ;Y-velocity above which player may use the air recovery command **MUGEN 1.0**
air.gethit.airrecover.yaccel = .35    ;Vertical acceleration for player in the air recovery state **MUGEN 1.0**
air.gethit.trip.groundlevel = 10      ;Y-position at which player in the tripped state touches the ground **MUGEN 1.0**
down.bounce.offset = 0, 20            ;Offset for player bouncing off the ground (x, y) **MUGEN 1.0**
down.bounce.yaccel = .4               ;Vertical acceleration for player bouncing off the ground **MUGEN 1.0**
down.bounce.groundlevel = 12          ;Y-position at which player bouncing off the ground touches the ground again **MUGEN 1.0**
down.friction.threshold = .05

[Quotes]
victory1 = "I'm the Juggernaut"
victory2 = "Unstoppable"
victory3 = "Don't get in my way again!"
victory4 = "I have the power of the Crimson Gem of Cyttorak."
victory5 = "I will crush anyone!"
victory6 = "I'm the unstoppable force."
victory7 = "Never get in my way!"
victory8 = "Outta my way!  Ya runt!"
victory9 = "You just don't get it!"
victory10 = "You're outclassed!"


;[ja.Quotes]
;victory1 = ""

;---------------------------------------------------------------------------

; RUN_FWD
[Statedef 100]
type = S
physics = N
anim = 101
sprpriority = 1

[State 100, 1]
type = VelSet
trigger1 = animelem =1
x = 5.5

[State 100, 1]
type = Velmul
trigger1 = animelemtime(5) > 0
x = .78

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S9999,7

[State 9000, ChangeAnim]
type = ChangeAnim
triggerall = prevstateno = 9000
trigger1 = Time =0
value = Anim
elem  = var(33)

;[State 0, EnvShake]
;type = EnvShake
;trigger1 = animelem = 2
;trigger2 = animelem = 5
;time = 10
;freq = 60
;ampl = -4

;[State 0, PlaySnd]
;type = PlaySnd
;trigger1 = animelem = 5
;trigger2 = animelem = 2
;value = S15,1


[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

;[State 100, 4]
;type = ChangeState
;triggerall = !Var(59)
;trigger1 = command != "holdfwd";Time = 135
;value = 0
;ctrl = 1

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl=1

;---------------------------------------------------------------------------------------------
;RUN_BACK
[Statedef 105]
type    = A
physics = A
ctrl = 0
sprpriority = 1


[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 105


[State 105, VelSet]
type = VelSet
trigger1 = Time = 2
x = -4
y = -3

[State 105, ChangeState]
type = ChangeState
trigger1 = Time > 15
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106


;---------------------------------------------------------------------------------------------
;RUN_BACK
[Statedef 106]
type    = S
physics = S
ctrl = 0
sprpriority = 1


[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 106


[State 106, VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 106, posset]
type = posset
trigger1 = time = 0
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 15
freq = 60
ampl = -5

[State 106, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 8100,0


[State 106, VelSet]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------
;Win Poses

[Statedef 180]
type = S

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 0,300

[state 181, Assert]
type = assertspecial
trigger1 = Time >= 0
flag = NoBarDisplay

[State 180, 2]
type = ChangeState
trigger1 = Var(1) = [0,100]
value = 181

[State 180, 3]
type = ChangeState
trigger1 = Var(1) = [101,200]
value = 182

[State 180, 4]
type = ChangeState
trigger1 = Var(1) = [201,300]
value = 183

;---------------------------------------------------------------------------------------------
;Win Pose 1

[Statedef 181]
type = S
movetype = I
physics = S
ctrl = 0
anim = 181
velset = 0,0

[state 181, Assert]
type = assertspecial
trigger1 = Time >= 0
flag = NoBarDisplay

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S172,4

[State 181, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------------------------
;Win Pose 2

[Statedef 182]
type = S
movetype = I
physics = S
ctrl = 0
anim = 182
velset = 0,0

[state 181, Assert]
type = assertspecial
trigger1 = Time >= 0
flag = NoBarDisplay

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S172,2

[State 182, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------------------------
;Win Pose 3

[Statedef 183]
type = S
movetype = I
physics = S
ctrl = 0
anim = 183
velset = 0,0

[state 181, Assert]
type = assertspecial
trigger1 = Time >= 0
flag = NoBarDisplay

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S172,4

[State 183, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------------------------
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 190, 1]
type = ChangeState
trigger1 = random <499
value = 191


[State 190, 2]
type = ChangeState
trigger1 =  random >=499
value = 192

[State 190, 3] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------------------------
;Intro1
[Statedef 191]
type = S
movetype = I
physics = N
ctrl = 0
anim = 190          ;cpf 440 868 143-15   ;4004-1201
velset = 0,0
spriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S172,2
channel = 2

[State 0, VarSet]
type = VarRandom
trigger1 = time =0
v = 1
range = 6,8

[State 190, ChangeState]
type = changestate
trigger1 = AnimTime = 0 ;trigger1 = !animtime
value = 0

;---------------------------------------------------------------------------------------------

[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 200, 1]
type = PlaySnd
trigger1 = time = 7
value = s15,19
channel = 3

;[State 200, 1]
;type = PlaySnd
;trigger1 = time = 7
;value = s15,19
;channel = 3

[State 192, 3] ;Change to stand state when done
type = ChangeState
trigger1 = time = 50
value = 0

;-----------------------------------------------
[Statedef 194]; Move around before match
type = S
physics =S
sprpriority = 0

[State 0]
type = varset
trigger1 = time = 1
var(50) = 0

[State 0]
type = posset
trigger1 = 1
y = 0

[State 0]
type = VelSet
trigger1 = Time = 0
y = 0

;[State 20, 1]
;type = VelSet
;trigger1 = command = "holdfwd"
;x = 2.4

;[State 20, 2]
;type = VelSet
;trigger1 = command = "holdback"
;x = -2.0

;[State 2]
;type = ChangeAnim
;trigger1 = command = "holdfwd"
;trigger1 = Anim != 20
;value = 20

;[State 2]
;type = ChangeAnim
;trigger1 = command = "holdback"
;trigger1 = Anim != 21
;value = 21

[State 2]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
value = 0

;[State 20, 2]
;type = VelSet
;trigger1 = command != "holdback"
;trigger1 = command != "holdfwd"
;x = 0

[State var]
type = VarSet
trigger1 = roundstate != 2
var(9) = floor(pos x)

[State F]
type = posset
trigger1 = roundstate = 2
trigger1 = var(9) != 0
x = var(9)

[State F]
type = varset
trigger1 = roundstate = 2
var(9) = 0

[State F]
type = changestate
trigger1 = ctrl
value = 0

;---------------------------------------------------------------------------------------------
;Taunt

[Statedef 195]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = ifelse(PrevStateNo = 9000, 0, 50)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 195


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S172,4

[State 195, VarSet]
type = VarRandom
trigger1 = time =0
v = 28
range = 6,8

[State 195, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Basic Attacks
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Standing Light Punch

[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 15)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 200


[State 200, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,18

[State 200, HitDef]
type = HitDef
trigger1 = time=0
attr = S,NA
damage = 35,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,8
sparkno = 0
sparkxy = -10, -60
hitsound = 5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 9
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1

[State 200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Punch

[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 35)


[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 210


[State 210, VelMul, corrida]
type = VelMul
trigger1 = Time = 0
trigger1 = PrevStateNo = 100
x = .8

[State 210, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,17

[State 210, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S,NA
damage = 50,1
animtype = Medium
guardflag = MA
hitflag = MAF
pausetime = 9,9
priority = 3, Hit
sparkno = 1
sparkxy = -10,-60
hitsound = 5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1

[State 210, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Close Medium Punch

[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 35)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 211


[State 211, VelMul, corrida]
type = VelMul
trigger1 = Time = 0
trigger1 = PrevStateNo = 100
x = .8

[State 211, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,17

[State 211, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S,NA
damage = 55,1
animtype = Medium
guardflag = MA
hitflag = MAF
pausetime = 9,9
sparkno = 1
priority = 3, Hit
sparkxy = -10,-60
hitsound = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
air.type = Low
air.hittime = 15
air.velocity = -6,-5
envshake.time = 1
envshake.ampl = 1

[State 211, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Heavy Punch

[Statedef 220]
type = S
movetype = A
physics = S
juggle = 4
ctrl = 0
poweradd = ifelse(PrevStateNo = 9000, 0, 50)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 220


[State 250, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 3
value = 8400,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,19

[State 220, 4]
type = HitDef
trigger1 = time = 0
attr = S, NA
guardflag = MA
hitflag = MAF
animtype = Hard
pausetime = 10,10
priority = 5, Hit
damage = 95,2
sparkno = 2
sparkxy = -10, -66
hitsound = 5,4
guardsound = S1, 0
ground.type = High
ground.slidetime = 13
ground.hittime = 24
ground.velocity = -16, -8
guard.slidetime = 13
guard.hittime = 31
guard.velocity = -10
air.velocity = -10, -8
air.hittime = 45
fall.recovertime = 40
air.fall = 1
fall = 1
envshake.time = 4
envshake.ampl = 4


[State 220, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Close Heavy Punch

[Statedef 221]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 55)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 221


[State 221, VelMul, corrida]
type = VelMul
trigger1 = Time = 0
trigger1 = PrevStateNo = 100
x = .8

[State 221, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,19


[State 221, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S,NA
damage = 90,1
animtype = High
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = 2
sparkxy = -10, -60
hitsound = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-10
air.type = Low
air.hittime = 18
air.velocity = -6,-7
envshake.time = 2
envshake.ampl = 2
fall = 1
air.fall = 1

[State 221, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------
;Standing light kick

[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 15)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 230


[State 230, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,18

[State 230, VelMul, corrida]
type = VelMul
trigger1 = Time = 0
trigger1 = PrevStateNo = 100
x = .8

[State 230, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,0

[State 230, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S,NA
damage = 35,1
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 8,8
priority = 3, Hit
sparkno = 0
sparkxy = -10, -40
hitsound = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -3,0
air.type = Low
air.hittime = 3
air.velocity = -5,0

[State 230, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------
;Standing medium kick

[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 35)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 240


[State 240, VelMul, corrida]
type = VelMul
trigger1 = Time = 0
trigger1 = PrevStateNo = 100
x = .8

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 20
freq = 60
ampl = -4

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 3203
postype = p1
pos = 60,8
bindtime = 1
removetime = -2
sprpriority = 10
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S15,1

[State 240, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,17

[State 240, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S,NA
damage = 55,1
animtype = Medium
guardflag = MA
hitflag = MAF
pausetime = 9,9
priority = 3, Hit
sparkno = 1
sparkxy = 10,-10
hitsound = 5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5,0
air.type = Low
air.hittime = 5
air.velocity = -5,0

[State 240, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------------------------
;Standing strong Kick

[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 50)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 250

[State 250, VelMul, corrida]
type = VelMul
trigger1 = Time = 0
trigger1 = PrevStateNo = 100
x = .8

[State 250, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,19

[State 250, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S,NA
damage = 85,1
animtype = High
guardflag = MA
hitflag = MAF
pausetime = 10,10
priority = 4, Hit
sparkno = 2
sparkxy = -30, -100
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 13
ground.hittime = 13
ground.velocity = -8,-8
air.type = Low
air.hittime = 15
air.velocity = -7,-7
fall = 1
air.fall = 1

[State 250, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------
;

;---------------------------------------------------------------------------------------------
;Crouching light punch

[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 15)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 400


[State 400, VelMul, corrida]
type = VelMul
trigger1 = Time = 0
trigger1 = PrevStateNo = 100
x = .8

[State 200, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,18

[State 400, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = C,NA
damage = 25,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,8
sparkno = 0
sparkxy = -10, -53
hitsound = 5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -3,0
air.type = Low
air.hittime = 3
air.velocity = -5,0

[State 400, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------------------------
;Crouching medium punch

[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 35)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 410


[State 410, VelMul, corrida]
type = VelMul
trigger1 = Time = 0
trigger1 = PrevStateNo = 100
x = .8

[State 410, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S15,1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 5
time = 10
freq = 60
ampl = -4

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
ID = 3203
anim = 3203
pos = 90,8
bindtime = 1
postype = p1  ;p2,front,back,left,right
removetime = -2
sprpriority = 10

[State 410, HitDef]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
attr = C,NA
damage = 45,1
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 9,9
sparkno = 1
sparkxy = -10,-58
hitsound = 5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5,0
air.type = Low
air.hittime = 5
air.velocity = -5,0

[State 410, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------------------------
;Crouching strong punch

[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 55)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 420


[State 200, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,19


[State 420, VelMul, corrida]
type = VelMul
trigger1 = Time = 0
trigger1 = PrevStateNo = 100
x = .8

[State 420, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,2

[State 420, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = C,NA
damage = 75,1
animtype = up
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = 2
sparkxy = -10, -53
hitsound = 5,4
ground.type = High
ground.slidetime = 30
ground.hittime  = 40
ground.velocity = 0, -14
air.velocity = 0,-14
airguard.velocity = -6,0
yaccel = 0.39+(enemynear,const(movement.yaccel)/2)

[State 420, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------------------------
;Crouching light kick

[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 15)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 430


[State 430, VelMul, corrida]
type = VelMul
trigger1 = Time = 0
trigger1 = PrevStateNo = 100
x = .8

[State 430, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,18

[State 430, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = C,NA
damage = 35,1
animtype = Light
hitflag = MAFD
guardflag = L
priority = 3, Hit
pausetime = 8,8
sparkno = 0
sparkxy = -10, -30
hitsound = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -3,0
air.type = Low
air.hittime = 3
air.velocity = -5,0

[State 430, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------------------------
;Crouching medium kick

[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 35)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 440


[State 440, VelMul, corrida]
type = VelMul
trigger1 = Time = 0
trigger1 = PrevStateNo = 100
x = .8

[State 440, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,17

[State 440, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = C,NA
damage = 45,1
animtype = Medium
hitflag = MAFD
guardflag = L
priority = 3, Hit
pausetime = 9,9
sparkno = 1
sparkxy = -10,-30
hitsound = 5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5,0
air.type = Low
air.hittime = 5
air.velocity = -5,0

[State 440, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------------------------
;Crouching strong kick

[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 55)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 450


[State 450, VelMul, corrida]
type = VelMul
trigger1 = Time = 0
trigger1 = PrevStateNo = 100
x = .8

[State 450, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
trigger2 =  AnimElem = 6
value = 8400,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,19


[State 450, HitDef]
type = HitDef
trigger1 = time = 0
attr = C,NA
damage = 80,1
animtype = High
hitflag = MA
guardflag = L
priority = 4, Hit
pausetime = 10,10
sparkno = 2
sparkxy = -10, -90
hitsound = 5,4
guardsound = 6,0
ground.type = trip
ground.slidetime = 13
ground.hittime = 13
ground.velocity = -5,-2
air.type = Low
air.hittime = 5
air.velocity = -7,3

[State 450, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------------------------
;Jumping light punch

[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 15)


[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 600


[State 600, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,18

[State 600, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = A,NA
damage = 25,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,8
sparkno = 0
sparkxy = -10, -63
hitsound = 5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 25
ground.velocity = -6
air.fall = 0
air.velocity = -3.2, -10.5

[State 600, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1400
ctrl = 1

;---------------------------------------------------------------------------------------------
;Jumping medium punch

[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 35)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 611


[State 610, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,17

[State 610, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = A,NA
damage = 45,1
animtype = medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 9,9
sparkno = 1
sparkxy = -10,-68
hitsound = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 20
ground.velocity = -8
air.fall = 0
air.velocity = -3.2, -7.5

[State 600, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1400
ctrl = 1

;---------------------------------------------------------------------------------------------
;Jumping strong punch

[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 55)


[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 620


[State 620, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,19


[State 620, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,NA
damage = 95,1
animtype = High
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = 2
sparkxy = -40, -120
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 25
ground.velocity = -10
air.velocity = -12,10
air.hittime = 25
air.fall = 1

[State 600, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1400
ctrl = 1

;---------------------------------------------------------------------------------------------
;Jumping light kick

[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 15)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 630


[State 630, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,18

[State 630, HitDef]
type = HitDef
triggerall = anim = 630
trigger1 = time = 0
attr = A,NA
damage = 35,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,8
sparkno = 0
sparkxy = -10, -63
hitsound = 5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.fall = 0
air.velocity = -3.2, -10.5
air.hittime = 25

[State 600, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1400
ctrl = 1


;---------------------------------------------------------------------------------------------
;Jumping medium kick

[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 35)


[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 640


[State 640, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,17

[State 640, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,NA
damage = 45,1
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 9,9
sparkno = 1
sparkxy = -10,-68
hitsound = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.fall = 0
air.velocity = -3.2, -7.5
air.hittime = 25

[State 600, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1400
ctrl = 1

;---------------------------------------------------------------------------------------------
;Jumping strong kick

[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
sprpriority = 2
poweradd = ifelse(PrevStateNo = 9000, 0, 55)

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 650


[State 650, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,19

[State 650, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,NA
damage = 75,1
animtype = High
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = 2
sparkxy = -10, -90
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 25
ground.velocity = -10
air.velocity = -12,-10
air.fall = 1
air.hittime = 25

[State 600, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1400
ctrl = 1

;---------------------------------------------------------------------------
; Back Step
[Statedef 718]
type    = S
movetype= I
physics = N
anim = 861
ctrl = 0
sprpriority = -1

[State 0, PowerAdd]
type = null;PowerAdd
triggerall = prevstateno = 710
trigger1 = time= 0
value = 176

[State 5201, flash]
type=palfx
trigger1= animelem = 1
add=150,150,150
sinadd=-100,-100,-100,60
time=10

[State 0, HitBy]
type = HitBy
trigger1 = time<24
value = SCA,AP

[State 105, 1]
type = VelSet
trigger1 = 1
x = -3

[State 105, 1]
type = VelSet
trigger1 = time >= 25
x = 0

[State 105, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 105, Sound]
type = PlaySnd
trigger1 = animelem = 1
value = s15,1 ;40, 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 10
freq = 60
ampl = -4

[State 105, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 105, 4]
type = ChangeState
trigger1 = animtime = 0
ctrl = 1
value = 0
;---------------------------------------------------------------------------
; Forward Side Step
[Statedef 719]
type    = S
movetype= I
physics = N
anim = 841
ctrl = 0
sprpriority = -1

[State 0, PowerAdd]
type = null;PowerAdd
triggerall = prevstateno = 710
trigger1 = time= 0
value = 176

[State 5201, flash]
type=palfx
trigger1= animelem = 1
add=100,100,100
sinadd=-100,-100,-100,60
time=10

[State 0, HitBy]
type = HitBy
trigger1 = time<24
value = SCA,AT

[State 105, 1]
type = VelSet
trigger1 = 1
x = 4.25

[State 105, 1]
type = VelSet
trigger1 = time >= 25
x = 0

[State 105, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 105, Sound]
type = PlaySnd
trigger1 = animelem = 1
value = s15,1 ;40, 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 10
freq = 60
ampl = -4

[State 105, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 718, push]
type=playerpush
trigger1= 1
value=0

[State 105, 4]
type = ChangeState
trigger1 = animtime = 0
ctrl = 1
value = 0

;---------------------------------------------------------------------------
;Throw 1
[Statedef 800]
type = S
movetype = A
physics = S
juggle = 15
velset = 0, 0
ctrl = 0
anim = 800
sprpriority = 1
facep2 = 1

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 800

[State 800, Hitdef]
type = HitDef
Trigger1 = Time = 1
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkno = -1
hitsound = S1, 1
sprpriority = 0
p1facing = ifelse (command = "holdfwd", 1, -1)
p2facing = 1
p1stateno = 810
p2stateno = 820
guard.dist = 0
fall = 1

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
;Throw 1 - P1
[Statedef 810]
type = S
movetype = I
physics = N
anim = 810
poweradd = 60
velset = 0, 0
sprpriority = 0
ctrl = 0

[State 810, a]
type = Width
trigger1 = 1
value = 75, 0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 30, -145
time = 12

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
pos = 83, -80
time = 8

[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
pos = 80, -80
time = 8

[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
pos = 50, -145
time = 8

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElem = 7
pos = 71, -98
time = 6

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElem = 8
pos = 83, -58
time = 4

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElem = 9
pos = 117, -109
time = 3

[State 810, HitSparks]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
ID = 8
anim = f2
postype = p1
pos = 65, -80
bindtime = 1
removetime = -2
ontop = 1
ownpal = 1

[State 810, Hit Sparks]
type = Explod
trigger1 = AnimElem = 10
ID = 8
anim = f2
postype = p1 
pos = 78, -165
bindtime = 1
removetime = -2
ontop = 1
ownpal = 1

[State 810, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
value = S8000,1

[State 810, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = S8000,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 15
value = S15,12

[State 810, Hits]
type = TargetLifeAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
value = -35
kill = 0

[State 810, Hits]
type = TargetLifeAdd
trigger1 = AnimElem = 9
value = -50

[State 810, P2]
type = TargetState
trigger1 = AnimElem = 10
value = 825

[State 810, Change State]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------
;Throw 1 - P2
[Statedef 820]
type = A
movetype = H
physics = N
velset = 0, 0
ctrl = 0
poweradd = 80
sprpriority = 1

[State 820, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 820

[State 820, Hold Screen]
type = ScreenBound
trigger1 = 1
value = 0

;------------------------
[Statedef 825]
type = A
movetype = H
physics = N
velset = -3, -10

[State 820, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 825

[State 820, Grav]
type = Gravity
trigger1 = 1

[STate 820, End]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;Throw 2
[Statedef 830]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 1

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 800


[State 830, HitDef]
type = HitDef
Trigger1 = Time = 0
attr = S, NT         
hitflag = M-          
priority = 1, Miss    
sparkno = -1  
hitsound = S1, 1     
sprpriority = 0
p1facing = ifelse (command = "holdfwd", 1, -1) 
p2facing = 1         
p1stateno = 840      
p2stateno = 851
guard.dist = 0        
fall = 1              

[State 830, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------
;Throw 2 - P1
[Statedef 840]
type = S
movetype = I
physics = N
anim = 830
ctrl = 0
velset = 0, 0
poweradd = 80
sprpriority = 0

[State 840, a]
type = Width
trigger1 = 1
value = 100, 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S15,20

[State 840, 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 52, -145
time = 43

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S15,12

[State 840, SprPriority]
type = SprPriority
trigger1 = AnimElem = 12
value = 2

[State 840, Bind 1]
type = TargetBind
trigger1 = AnimElem = 12
pos = 3, -144
time = 16

[State 840, Bind 2]
type = TargetBind
trigger1 = AnimElem = 13
pos = 13, -155
time = 6

[State 840, SprPriority]
type = SprPriority 
trigger1 = AnimElem = 13
value = 0

[State 840, Bind 3]
type = TargetBind
trigger1 = AnimElem = 14
pos = 170, -89
time = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 15
value = S15,15

[State 840, Bind 4]
type = TargetBind
trigger1 = AnimElem = 15
pos = 167, 0
time = 40

[State 840, EnvShake]
type = EnvShake
trigger1 = AnimElem = 15
freq = 100
time = 10

[State 840, Hit]
type = TargetLifeAdd
trigger1 = AnimElem = 15
value = -128

[State 840, HitSparks]
type = Explod
trigger1 = AnimElem = 15
ID = 8
anim = 8880
postype = p1 
pos = 167, 0
bindtime = 1
removetime = -2
ontop = 1
ownpal = 1

[State 840, P2]
type = TargetState
trigger1 = AnimElem = 16 = 12
value = 856

[State 840, Drop]
type = TargetDrop
trigger1 = AnimElem = 16 = 13

[State 840, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------
;Throw 2 - P2
[Statedef 851]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0, 0
poweradd = 80
sprpriority = 1

[State 850, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 840

[State 850, Hold Screen]
type = ScreenBound
trigger1 = 1
value = 0

[Statedef 856]
type = A
movetype = H
physics = N
velset = -2, -9

[State 855, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 825

[State 855, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -(const(size.height))

[State 855, Grav]
type = Gravity
trigger1 = 1

[State 855, End]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5050

;---------------------------------------------------
;Air Throw
[Statedef 860]
type    = A
movetype= A
physics = A
juggle  = 0
ctrl = 0
anim = 850
sprpriority = 1

[State 860, HitDef]
type = HitDef
Trigger1 = Time = 0
attr = A, NT         
hitflag = A-          
priority = 1, Miss    
sparkno = -1  
hitsound = S1, 1     
sprpriority = 0       
p1facing = ifelse (command = "holdfwd", 1, -1) 
p2facing = 1         
p1stateno = 870      
p2stateno = 880       
guard.dist = 0        
fall = 1              

[State 860, ChangeState]
type = ChangeState
Trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------
;Air Throw - P1
[Statedef 870]
type = A
movetype = I
physics = N
anim = 860
velset = 0, 0
sprpriority = 2
ctrl = 0
poweradd = 80

[State 870, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 6, -182
time = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 2
value = S15,17

[State 870, SprPriority]
type = SprPriority 
trigger1 = AnimElem = 2
value = 0

[State 870, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 10, -196
time = 4

[State 870, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 135, -147
time = 4

[State 870, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
pos = 119, -42
time = 3

[State 870, P2]
type = TargetState
trigger1 = AnimElem = 5
value = 885

[State 870, Hit]
type = TargetLifeAdd
trigger1 = Target, Pos Y >= 0
value = -128
persistent = 0

[State 870, EnvShake]
type = EnvShake
trigger1 = Target, Pos Y >= 0
freq = 110
time = 12
persistent = 0

[State 870, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------
;Air Throw - P2
[Statedef 880]
type = A
movetype = H
physics = N
ctrl = 0
poweradd = 80
sprpriority = 1

[State 880, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 870

[State 880, Hold Screen]
type = ScreenBound
trigger1 = 1
value = 0

; Thrown into ground
[Statedef 885]
type = A
movetype = H
physics = N
velset = -8, 12

[State 885, PossAdd]
type = PosAdd
trigger1 = time = 0
x = -10

[State 885, Grav]
type = Gravity
trigger1 = 1

[State 885, 2]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;Falling

[Statedef 1201]
type    = A
movetype= I
physics = A
anim = 1201
sprpriority = 1

[State 1201, Ctrl]
type = CtrlSet
trigger1 = prevstateno = 4100
value = 0

[State 1201, Ctrl]
type = CtrlSet
triggerall = prevstateno != 4100
trigger1 = Var(12) = 0
value = 0

[State 1201, Ctrl]
type = CtrlSet
triggerall = prevstateno != 4100
trigger1 = Var(12) = 1
value = 1

[State 1201, Turn]
type = Turn
trigger1 = P2Dist X < -5

[State 1201, VelSet]
type = VelSet
trigger1 = FrontEdgeBodyDist <= 0
x = 0

[State 1201, ChangeState]
type = ChangeState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 52

;---------------------------------------------------------------------------
;Super Moves
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------------------------
;Special1_X

[Statedef 1000]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 0
ctrl = 0
sprpriority = 2


[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S15,15

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 10
y = 0
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = 0
y = 0
;ignorehitpause =
;persistent =
[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 8
time = 40
freq = 60
ampl = -4

[State 0, Explod]
type = Explod
trigger1 = animelem = 9
anim =  1001
pos = 143,15 ;105,18
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .8333,1
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim =  1002
pos = 143,15 ;105,18
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .8333,1
sprpriority = 3

[State 0, Width]
type = Width
trigger1 = 1
edge = 20,20
player = 70,0

[State 250, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA
damage = 70,15
animtype = High
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 9,9 ;4,14
sparkno = 3
sparkxy = -45, -50
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 13
ground.hittime = 31
ground.velocity = -8,-4
air.type = Low
air.hittime = 5
air.velocity = -7,-3
fall = 1
air.fall = 1


[State 1000, Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------
;Special1_Y

[Statedef 1010]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 0
ctrl = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 8
time = 40
freq = 60
ampl = -4

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1010

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S15,15

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 11
y = 0
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 0, Explod]
type = Explod
trigger1 = animelem = 9
anim =  1001
pos = 143,15 ;105,18
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .8333,1
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim =  1002
pos = 143,15 ;105,18
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .8333,1
sprpriority = 3

[State 0, Width]
type = Width
trigger1 = 1
edge = 20,20
player = 70,0

[State 250, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA
damage = 95,17
animtype = High
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 9,9 ;4,14
sparkno = 3
sparkxy = -45, -50
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 13
ground.hittime = 31
ground.velocity = -10,-5
air.type = Low
air.hittime = 5
air.velocity = -7,-4
fall = 1
air.fall = 1


[State 1010, Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------
;Special1_Z

[Statedef 1020]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 0
ctrl = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 8
time = 40
freq = 60
ampl = -4

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1020

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S15,15



[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 12
y = 0
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 0, Explod]
type = Explod
trigger1 = animelem = 9
anim =  1001
pos = 143,15 ;105,18
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .8333,1
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim =  1002
pos = 143,15 ;105,18
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .8333,1
sprpriority = 3

[State 0, Width]
type = Width
trigger1 = 1
edge = 10,10
player = 70,0

[State 250, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA
damage = 110,20
animtype = High
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 4,14
sparkno = 3
sparkxy = -45, -50
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 13
ground.hittime = 31
ground.velocity = -12,-6
air.type = Low
air.hittime = 5
air.velocity = -7,-4
fall = 1
air.fall = 1


[State 1020, Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------------------------
;Special2_c
[Statedef 1100]
type    = A
movetype= A
physics = N
ctrl = 0
vel = 0,0
juggle  = 4


[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1100

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S15,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S15,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S15,4

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 5
time = 40
freq = 60
ampl = -4

[State 250, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA
damage = 10,3
animtype = High
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13,14
sparkno = 2
sparkxy = -10, -70
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 13
ground.hittime = 13
ground.velocity = -8,0
air.type = Low
air.hittime = 5
air.velocity = -7,0

[State 1040, 8]
type = EnvShake
trigger1 = AnimElem = 5
freq = 320
time = 100

[State 1040, 9]
type = Helper
trigger1 =animelem = 5
ID = 1121
name = "terremoto"
postype = p1
pos = 100, 4
stateno = 1121
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim =  1001
pos = 100, 4
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 12

[State 1122, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------
; terremotinho
[Statedef 1121]
type = A
movetype = A
physics = N
anim = 1102
sprpriority = 10

[State 1050, 2]
type = VelSet
trigger1 = time = 0
x = 1.5

[State 250, HitDef]
type = HitDef
trigger1 = (time % 14) = 0
attr = S,NA
damage = 10,3
animtype = High
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 0,0
sparkno = 2
sparkxy = -10, -5
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 13
ground.hittime = 13
ground.velocity = -2,0
air.type = Low
air.hittime = 5
air.velocity = -7,0
airguard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0


;[State 1050, 3]
;type = Projectile
;trigger1 = (time % 14) = 0
;projanim = 1102
;projremove = 0
;projremovetime = 28
;projsprpriority = 2
;projID = 1102
;velocity = 0, 0
;postype = p1
;pos = 0, 0
;attr = S, SA
;hitflag = MAF
;guardflag = MA
;animtype = Hard
;damage = 20, 2
;pausetime = 0, 9
;guard.pausetime = 0, 10
;sparkno = 2
;sparkxy = -5, 0
;guard.sparkno = 40
;hitsound = S1, 7
;guardsound = S1, 0
;ground.type = Low
;ground.slidetime = 15
;ground.hittime = 16
;guard.slidetime = 13
;guard.hittime = 14
;ground.velocity = -6, 0
;air.velocity = -6, -1
;guard.velocity = -8
;hitonce = 1
;getpower = 5
;givepower = 35

[State 1050, 4]
type = PlaySnd
trigger1 = (time % 20) = 0
value = 121,16
volume = 10
channel = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time >=100 && anim != 1101
value = 1101
;elem = 1
;ignorehitpause =
;persistent =


[State 1050, 5]
type = DestroySelf
trigger1 = anim = 1101 && animtime = 0


;---------------------------------------------------------------------------------------------
; Special3 - Body Slam

[Statedef 1200]
type = U
movetype = A
physics = N
ctrl = 0
poweradd = 55
sprpriority = 0


[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1200

[State 1200, Vel]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,19

[State 1200, Air]
type = StateTypeSet
trigger1 = AnimElemNo(0) = 3
statetype = A

[State 1200, Vel]
type = VelSet
trigger1 = AnimElemNo(0) = 3
trigger1 = Vel Y = 0
x = 2
y = -11
persistent = 0

[State 1200, Vel]
type = VelAdd
trigger1 = AnimElemNo(0) = 3
trigger2 = AnimElemNo(0) = 4
y = .75

[State 1200, Hit]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
hitflag = MAFD
guardflag = HA
pausetime = 0,0
damage = 60, 10
priority = 5, hit
animtype = back
sparkno = 3
sparkxy = -25, -30
hitsound = 5,4 ;S1, 7
guardsound = S1, 0
ground.velocity = -7
air.velocity = -7.5, 10
down.velocity = -4, 10
envshake.time = 10
envshake.freq = 60
envshake.ampl = -4
guard.slidetime = 9
guard.hittime = 9
guard.velocity = -8
fall = 1
air.fall = 1
fall.yvel = .2
fall.recover = 0
givepower = 100
getpower = 50


[State 1200, Var]
type = VarSet
trigger1 = MoveContact
v = 0
value = 1

[State 1200, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 1202

;---------------------------------------------------------------------------------------------
; Special3 - Body Slam

[Statedef 1210]
type = U
movetype = A
physics = N
ctrl = 0
poweradd = 55
sprpriority = 0

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1200

[State 1200, Vel]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,19

[State 1200, Air]
type = StateTypeSet
trigger1 = AnimElemNo(0) = 3
statetype = A

[State 1200, Vel]
type = VelSet
trigger1 = AnimElemNo(0) = 3
trigger1 = Vel Y = 0
x = 3
y = -11
persistent = 0

[State 1200, Vel]
type = VelAdd
trigger1 = AnimElemNo(0) = 3
trigger2 = AnimElemNo(0) = 4
y = .75

[State 1200, Hit]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
hitflag = MAFD
guardflag = HA
pausetime = 0,0
damage = 60, 10
priority = 5, hit
animtype = back
sparkno = 3
sparkxy = -25, -30
hitsound = 5,4 ;S1, 7
guardsound = S1, 0
ground.velocity = -7
air.velocity = -7.5, 10
down.velocity = -4, 10
envshake.time = 10
envshake.freq = 60
envshake.ampl = -4
guard.slidetime = 9
guard.hittime = 9
guard.velocity = -8
fall = 1
air.fall = 1
fall.yvel = -.2
fall.recover = 0
givepower = 100
getpower = 50

[State 1200, Var]
type = VarSet
trigger1 = MoveContact
v = 0
value = 1

[State 1200, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 1202

;---------------------------------------------------------------------------------------------
; Special3 - Body Slam

[Statedef 1220]
type = U
movetype = A
physics = N
ctrl = 0
poweradd = 55
sprpriority = 0

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1200

[State 1200, Vel]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,19

[State 1200, Air]
type = StateTypeSet
trigger1 = AnimElemNo(0) = 3
statetype = A

[State 1200, Vel]
type = VelSet
trigger1 = AnimElemNo(0) = 3
trigger1 = Vel Y = 0
x = 4
y = -13
persistent = 0

[State 1200, Vel]
type = VelAdd
trigger1 = AnimElemNo(0) = 3
trigger2 = AnimElemNo(0) = 4
y = .75

[State 1200, Hit]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
hitflag = MAFD
guardflag = HA
pausetime = 0,0
damage = 60, 10
priority = 5, hit
animtype = back
sparkno = 3
sparkxy = -25, -30
hitsound = 5,4 ;S1, 7
guardsound = S1, 0
ground.velocity = -7;, 10
air.velocity = -7.5, 10
down.velocity = -4, 10
envshake.time = 10;,0
envshake.freq = 60
envshake.ampl = -4
guard.slidetime = 9
guard.hittime = 9
guard.velocity = -8
fall = 1
air.fall = 1
fall.yvel = -.2
fall.recover = 0
givepower = 100
getpower = 50

[State 1200, Var]
type = VarSet
trigger1 = MoveContact
v = 0
value = 1

[State 1200, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 1202

;-----------
[Statedef 1202]
type = S
movetype = I
physics = S
velset = 0, 0

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1202

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,16

[State 1202,PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State -3, Landing Wave]
type = Explod
trigger1 = time = 0
anim = 6020
postype = p1
pos = -20, 0
bindtime = 1
removetime = -2
sprpriority = -2
ownpal = 1

[State 1202, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 40
freq = 100
ampl = -6

[State 1202, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Falling
[Statedef 1400]
type    = A
movetype= I
physics = A
sprpriority = 1

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1400

[State 1201, Ctrl]
type = CtrlSet
trigger1 = prevstateno = 4100
value = 0

[State 1201, Ctrl]
type = CtrlSet
triggerall = prevstateno != 4100
trigger1 = Var(12) = 0
value = 0

[State 1201, Ctrl]
type = CtrlSet
triggerall = prevstateno != 4100
trigger1 = Var(12) = 1
value = 1

[State 1201, Turn]
type = Turn
trigger1 = P2Dist X < -5

[State 1201, VelSet]
type = VelSet
trigger1 = FrontEdgeBodyDist <= 0
x = 0

[State 1201, ChangeState]
type = ChangeState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 52






;special------------------
;Throw 1
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 0

[State 7001, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 8400,0

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1300

[State 800, Hitdef]
type = HitDef
Trigger1 = Time = 1
attr = S, NT
guardflag = MA
hitflag = MAF
priority = 1, Hit
sparkno = -1
hitsound = S1, 1
sprpriority = 0
p1facing =  1
p2facing = 1
p1stateno = 1310
p2stateno = 1320
guard.dist = 0
fall = 1

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
;Throw 1 - P1
[Statedef 1310]
type = S
movetype = I
physics = N
anim = 1310
poweradd = 60
velset = 0, 0
sprpriority = 0
ctrl = 0

[State 7001, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 8600,0

;[State 0, ScreenBound]
;type = ScreenBound
;trigger1 = 1
;value = 1
;movecamera = 0,10
;ignorehitpause =
;persistent =

; [State 0, Explod]
;type = Explod
;trigger1 = time = 24
;anim = 1311
;ID = 1311
;pos = 0,0
;postype = p1  ;p2,front,back,left,right
;bindtime = -1
;removetime = -1
;sprpriority = 4
;removeongethit = 1


;[State 0, Helper]
;type = Helper
;trigger1 = time = 24
;helpertype = normal ;player
;name = "segura"
;ID =  1311
;stateno = 1311
;pos = 0,0
;postype = p1    ;p2,front,back,left,right
;facing = 1




[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 85, -80
time = 5

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 2
pos = 90, -125
time = 6

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 3
pos = 90, -150
time = 12

[State 810, Bind 1]
type = TargetBind
trigger1 = time = 24
pos = 137, -75
time = -1

[State 0, VelAdd]
type = VelAdd
trigger1 =  time > 24 && vel x < 12
x = 0.5



[State 810, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 5
value = S15,1


[State 810, Hits]
type = TargetLifeAdd
trigger1 = AnimElem = 5
value = -10
kill = 0


[State 0, TargetState]
type = TargetState
trigger1 = frontEdgeBodyDist < 50
value = 1330 ;uhu

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 5
time = 10
freq = 60
ampl = -4

[State 810, Change State]
type = ChangeState
trigger1 = frontEdgeBodyDist < 50
value = 1340
ctrl = 0

;Throw 1 - P2
;[Statedef 1311]
;type = S
;movetype = I
;physics = N
;velset = 0, 0
;ctrl = 0
;anim = 1311
;sprpriority = 5

;[State 0, PosSet]
;type = PosSet
;trigger1 = 1
;x = parent, pos x
;y = parent, pos y
;ignorehitpause =
;persistent =

;[State 0, DestroySelf]
;type = DestroySelf
;trigger1 = parent, stateno!=1310


;------------------------
;Throw 1 - P2
[Statedef 1320]
type = A
movetype = H
physics = N
velset = 0, 0
ctrl = 0
poweradd = 80
sprpriority = 1



[State 820, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 1320



[Statedef 1340]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 1340
poweradd= 10
ctrl = 0
sprpriority = 0
facep2 = 1

[State 220, 4]
type = HitDef
trigger1 = time = 0
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Hard
pausetime = 9, 9
priority = 5, Miss
damage = 80
sparkno = 3
sparkxy = -10, -66
hitsound = s121,16
guardsound = S1, 0
ground.type = High
ground.slidetime = 13
ground.hittime = 24
ground.velocity = -16, -8
guard.slidetime = 13
guard.hittime = 31
guard.velocity = -10
air.velocity = -10, -8
air.hittime = 45
;p2stateno = 221
fall.recovertime = 40
air.fall = 1
fall = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
freq = 70
ampl = -20

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 20, -20
time = 1

[State 810, Change State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;------------------------
[Statedef 1330]
type    = A
movetype= H
physics = N
velset = 0,0
poweradd = 50

;[State 816, ChangeAnim]
;type = ChangeAnim
;trigger1 = (Time = [0,10]) && (SelfAnimExist(5060));Not if hit off ground anim
;value = 5060

[State 816, ChangeAnim2]
type = ChangeAnim2
trigger1 = (Time = 0); && (!SelfAnimExist(5060));Not if hit off ground anim
value = 1330

[State 816, SelfState]
type = SelfState
trigger1 = time > 15
value = 5100
ctrl = 0


;---------------------------------------------------------------------------
;Hypers
;---------------------------------------------------------------------------
; Cyrorrak Power Up
[Statedef 3900]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0, 0

;[State 0, Explod]
;type = Explod
;trigger1 = time = 7
;anim = 193
;ID = 193
;pos = 30,-90
;postype = p1  ;p2,front,back,left,right
;bindtime = -1
;removetime = -2
;scale = 1.5,1.5
;sprpriority = 10
;removeongethit = 1
;supermove = 99
;pausemove = 99


[State 0, Explod]
type = Explod
trigger1 = time = 7
anim = 194
ID = 194
pos = 30,-90
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = 60
scale = 1.5,1.5
sprpriority = 13
removeongethit = 1
supermove = 99
pausemove = 99



;---------------------[NEW Version]---------------------
[State 3000, assertspecial]
type = assertspecial
triggerall = PrevStateNo != 9000
trigger1 = Time = 7
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3000, SuperPause]
type = SuperPause
triggerall = PrevStateNo != 9000
trigger1 = Time = 7
Time = 60
pos = 25,-86
sound = S8889,0
poweradd = -1000
unhittable = 1




;--------------------------------------------



[State 1130, 1]
type = VarSet
trigger1 = time = 0
trigger1 = PrevStateNo != 9000
v = 14
value = 1

[State 1130, 1a]
type = VarSet
trigger1 = time = 0
trigger1 = PrevStateNo != 9000
v = 15
value = 0

[State 1130, 1b]
type = VarSet
trigger1 = time = 0
trigger1 = PrevStateNo != 9000
fv = 3
value = 2

[State 1130, 2]
type = ChangeAnim
trigger1 = time = 0
trigger1 = PrevStateNo != 9000
value = 3900

[State 1130, 3]
type = VarSet
trigger1 = time = 0
trigger1 = PrevStateNo != 9000
v = 0
value = 0

[State 1130, 4]
type = VarAdd
trigger1 = 1
v = 0
value = 1

[State 1130, 5]
type = PlaySnd
trigger1 = var(0) = 1
value = 3, 12
channel = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = var(0) != 42
time = 1
freq = 60
ampl = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,5

[State 1130, 6]
type = ChangeState
trigger1 = var(0) = 42
value = 0
ctrl = 1
;---------------------------------------------------------------------------------------------
;Gamma Wave

[Statedef 3000]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
ctrl = 0
sprpriority = 0
facep2 = 1

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 3200

[State 250, PlaySnd]
type = PlaySnd
trigger1 =  time = 6
value = 15,10

;---------------------[NEW Version]---------------------
[State 3000, assertspecial]
type = assertspecial
triggerall = !Var(29)
trigger1 = Time = 7
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3000, SuperPause]
type = SuperPause
triggerall = !Var(29)
trigger1 = Time = 7
Time = 60
pos = -4,-170
sound = S8889,0
poweradd = -1000
unhittable = 1


;--------------------------------------------

[State 3000]
type = ChangeState
trigger1 = PrevStateNo = 9000
value = 0
ctrl = 1

[State 3000]
type = ChangeState
trigger1 = Time = 30
value = 3001
ctrl = 0


;---------------------------------------------------------------------------
;Gamma Wave
[Statedef 3001]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 0
facep2 = 1


[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 3201

;[State 250, PlaySnd]
;type = PlaySnd
;trigger1 = AnimElem = 5
;trigger2 = AnimElem = 11
;trigger3 = AnimElem = 17
;value = 15,15


[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 5
trigger2 = AnimElem = 11
trigger3 = AnimElem = 17
time = 40
freq = 60
ampl = -4

[State 3001]
type = PlayerPush
trigger1 = 1
value = 0


[State 3001]
type = PlaySnd
trigger1 = AnimElem = 7
value = 320,0

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 6
trigger2 = AnimElem = 12
trigger3 = AnimElem = 18
ID = 3203
anim = 3203
pos = 80,10
bindtime = -1
postype = p1  ;p2,front,back,left,right
removetime = -2
sprpriority = -10

[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 6
trigger2 = AnimElem = 12
trigger3 = AnimElem = 18
time = 10
freq = 60
ampl = -4
phase = 90



[State 3002]
type = Helper
trigger1 = AnimElem = 6
trigger2 = AnimElem = 12
trigger3 = AnimElem = 18
stateno = 21300
id = 21300
ownpal = 1
pos = 56,-12


[State 3001]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
;Gamma Wave
[Statedef 3002]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 0
facep2 = 1

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 3002



[State 3002]
type = Helper
trigger1 = Time = 0
stateno = 33120
ownpal = 1

[State 3002]
type = VelSet
trigger1 = AnimElem = 6
x = 2
y = -15


[State 3002]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A
persistent = 0



[State 3002]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.4


[State 3002]
type = HitDef
attr = SA, HA
trigger1 = Time%5 = 0
trigger1 = hitcount < 5
trigger1 = moveguarded < 1
damage = 4*var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = HA
pausetime = 3,1
sparkxy = -10,-70+floor(P2Dist Y)
hitsound   = S1,5+1*(hitcount > 3)
guardsound = S4,0
sparkno = 3
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -1,-10
air.velocity = -1,-10
fall = 1
air.fall = 1
fall.recover = 0

[State 3002]
type = Varset
trigger1 = time = 0
var(0) = 5

[State 3002]
type = VarAdd
trigger1 = MoveGuarded
var(0) = -1

[State 3002]
type = MoveHitReset
trigger1 = var(0) > 0
trigger1 = MoveGuarded


[State 3002]
type = EnvShake
trigger1 = Time = 0
time = 60
freq = 10
ampl = -4
phase = 4

[State 3002]
type = ChangeState
trigger1 = Time = 40 && StateType = A
value = 3003
ctrl = 0

[State 3002]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 0


;---------------------------------------------------------------------------
;Gamma Wave End
[Statedef 3003]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
sprpriority = 0
facep2 = 1

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 3003

[State 3003]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 70
persistent = 0

[State 3003]
type = VelAdd
trigger1 = Time >= 12
y = 0.4

[State 3002]
type = HitDef
attr = A, HA
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = var(30),floor(var(30)/4)
animtype = Medium
priority  = 5, Hit
guardflag = HA
pausetime = 7,7
sparkxy = -10,-70+floor(P2Dist Y)
hitsound   = S1,30
guardsound = S4,0
sparkno = 3
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -1,-10
air.velocity = -17,-10
fall = 1
air.fall = 1
all.recover = 1

[State 3003]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1


;Gamma Wave Helper
[Statedef 21300]
type = A
movetype = A
physics = N
;anim = 21300
ctrl = 0
sprpriority = 3
velset = 0,0
;hitcountpersist = 1

[State 21300]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 3202
value = 3202


[State 21300]
type = AssertSpecial
trigger1 = 1
flag = noshadow



[State 21300]
type = PlaySnd
trigger1 = AnimElem = 1
value = 171,2

[State 21300]
type = VelSet
trigger1 = Time = 0
y = -9


[State 21300]
type = VelAdd
trigger1 = Pos Y < 0
y = 0.4


[State 21300]
type = VelSet
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 21300]
type = HitBy
trigger1 = 1
value = SCA,AP

[State 21300]
type = HitOverride
trigger1 = 1
stateno = 21300
attr = SCA,AP
slot = 0
time = -1


[State 21300]
type = HitDef
attr = A, HP
trigger1 = hitcount < 1
trigger1 = moveguarded < 1
damage = 20,1
animtype = Medium
priority  = 5, Hit
guardflag = MA
pausetime = 3,3
sparkxy = -10,-10
hitsound   = S1,1
guardsound = S4,0
sparkno = 3
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -1,-4
air.velocity = -9,-2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
;p2stateno = 9020
sprpriority = 3

[State 21300]
type = DestroySelf
trigger1 = AnimTime = 0

[State 21300]
type = Helper
trigger1 = Time = 10 && FrontEdgeDist > -10
stateno = 21300
id = 21300
ownpal = 1
pos = 80,floor(-Pos Y)-12
;---------------------------------------------------------------------------------------------
;Hyper2

[Statedef 3100]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = 0
ctrl = 0
sprpriority = 2

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 3000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S15,10

;---------------------[NEW Version]---------------------
[State 3000, assertspecial]
type = assertspecial
triggerall = !Var(29)
trigger1 = AnimElemTime(1) = 0
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3000, SuperPause]
type = SuperPause
triggerall = !Var(29)
trigger1 = AnimElemTime(1) = 0
Time = 60
pos = -45,-120
sound = S8889,0
poweradd = -1000
movetime = 40
unhittable = 1
;--------------------------------------------



[State 3000, End]
type = ChangeState
trigger1 = animtime=0
value = 3101
ctrl = 1

;-------------
[Statedef 3101]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 7,0
poweradd = 0
ctrl = 0
sprpriority = 2

;[State 810, PlaySnd]
;type = PlaySnd
;trigger1 = AnimElem = 4
;trigger2 = AnimElem = 8
;trigger3 = AnimElem = 11
;trigger4 = AnimElem = 18
;trigger5 = AnimElem = 21
;value = S15,1

[State 810, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S15,11

[State 182, 2]
type = NotHitBy
triggerall = prevstateno != 9000
trigger1 = Time = 1
value = SCA
time =16

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 3001

[State 3000, Hyper Explode]
type = Explod
trigger1 = time = 0
anim = 3003
postype = p1
pos = 0,0
bindtime = -1
removetime = 64
sprpriority = 3
removeongethit = 1
scale = .8333,1

[State 220, HitDef]
type = HitDef
trigger1 = time > 1
;trigger1 = hitcount < 7
trigger1 = moveguarded =! 1
trigger1 = timemod = 5,0
attr = S,HA ;S,NA
damage = 25,11
getpower = 0,0
animtype = High
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8,8 ; 5,0
sparkno = 3
sparkxy = -15, -70
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3
air.hittime = 10
air.velocity = -1.5,-3
envshake.time = 5
envshake.ampl = 5

[State 3000, End]
type = ChangeState
trigger1 = animtime=0
trigger1 = hitcount =0
value = 3103
ctrl = 1

[State 3000, End]
type = ChangeState
trigger1 = hitcount >= 6 ;60
trigger2 = time > 59
value = 3104
ctrl = 1

;-------------
[Statedef 3103]   ;state to give time for explode to erase
type    = S
movetype= A
physics = N
juggle  = 1
velset = 7,0
poweradd = 0
ctrl = 0
sprpriority = 2

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 3004

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno =3003
id =  3003

[State 3000, End]
type = ChangeState
trigger1 = animtime=0
value = 3104
ctrl = 1

;-------------
[Statedef 3104]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
sprpriority = 2

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 3100

[State 220, VelMul, corrida]
type = VelMul
trigger1 = Time = 0
trigger1 = PrevStateNo = 100
x = .8

[State 220, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 8400,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S15,19

[State 420, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S,NA
damage = 60,20
animtype = up
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 14,12
sparkno = 3
sparkxy = -20, -103
hitsound = 5,4
ground.type = High
ground.slidetime = 30
ground.hittime  = 40
ground.velocity = 10, -18
air.velocity = 0,-18
airguard.velocity = -6,0
yaccel = 0.39+(enemynear,const(movement.yaccel)/2)
fall = 1

[State 3000, End]
type = ChangeState
trigger1 = animtime=0
trigger1 = BackEdgeBodyDist > -1
value = 0
ctrl = 1



[Statedef 3300]
type    = A
movetype= A
physics = N
juggle  = 4
velset = 0,0
ctrl = 0
sprpriority = 0
facep2 = 1

[State 220, 1]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 3300

[State 40, Dust Helper]
type = Helper
trigger1 = time = 0
helperType = Normal
stateNo = 7100
ID = 7100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 15,10

[State 7001, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 9999,5

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 3
y = -10

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = 3
y = 14

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >=0  && pos y != 0
trigger2 = animelem = 6
y = 0

[State 3002]
type = EnvShake
trigger1 = animelem = 6
time = 40
freq = 60
ampl = -5
;phase = 10

[State 3002]
type = EnvShake
trigger1 = animelem = 8
time = 40
freq = 60
ampl = -5
;phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
trigger2 = animelem = 8
value = 15,15



[State 0, Explod]
type = Explod
trigger1 = animelem = 6
trigger2 = animelem = 8
anim = 3301
ID = 3301
pos = 100,10
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
sprpriority = 10
scale = 1.2,1.2 ;1.5,1.5

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
trigger2 = animelem = 8
anim = 3301
ID = 3301
pos = -100,20
postype = p1  ;p2,front,back,left,right
facing = -1
removetime = -2
sprpriority = 10
scale = 1,1 ;1.5,1.5

[State 420, HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = S,NA
damage = 100,10
getpower = 0,0
animtype = up
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 14,12
sparkno = -1
sparkxy = -10, -53
guard.sparkno = -1
hitsound = 5,4
ground.type = High
ground.slidetime = 30
ground.hittime  = 40
ground.velocity = 3, -5
air.velocity = 3,-5
airguard.velocity = -6,0
guard.velocity = -8
air.hittime = 40



[State 420, HitDef]
type = HitDef
trigger1 = AnimElem = 8
attr = S,NA
damage = 100,10
getpower = 0,0
animtype = up
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 14,12
sparkno = -1
sparkxy = -10, -53
guard.sparkno = -1
hitsound = 5,4
ground.type = High
ground.slidetime = 30
ground.hittime  = 40
ground.velocity = 10, -18
air.velocity = -4,-18
airguard.velocity = -6,0
guard.velocity = -8
yaccel = 0.39+(enemynear,const(movement.yaccel)/2)
fall = 1

[State 3000, End]
type = ChangeState
trigger1 = animtime=0
value = 0
ctrl = 1


;---------------------[NEW Version]---------------------
[State 3000, assertspecial]
type = assertspecial
triggerall = !Var(29)
trigger1 = animelem = 4
flag = noBG
flag2 = noFG
ignorehitpause = 1
;
[State 3000, SuperPause]
type = SuperPause
triggerall = !Var(29)
trigger1 = animelem = 4
Time = 60
pos = 25,-140
sound = S8889,0
poweradd = -1000
movetime = 0
unhittable = 1



;---------------------------------------------------------------------------------------------
;Beginning of the super jump
[Statedef 7000]
type = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, Dust Helper]
type = Helper
trigger1 = time = 0
helperType = Normal
stateNo = 7100
ID = 7100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 7000, VarSet]
type = VarSet
trigger1 = Time = 0
v = 11
value = 0

[State 7000, VarSet]
type = VarSet
trigger1 = command = "holdfwd"
v = 11
value = 1

[State 7000, VarSet]
type = VarSet
trigger1 = command = "holdback"
v = 11
value = -1

[State 7000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 7001
ctrl = 1

;---------------------------------------------------------------------------------------------
[Statedef 4210]
type    = A
movetype= H
physics = N
poweradd= 0
ctrl = 0
velset = 0,-16
sprpriority = 0

[State 4210, VelSet 2]
type = VelSet
trigger1 = (Pos Y >= 10) && (Vel Y > 0)
y = 0

[State 4210, VelSet]
type = VelSet
trigger1 = (Pos Y >= 10) && (Vel Y > 0)
y = 10

[State 4210, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 7000

[State 4210, SelfState]
type = SelfState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 5100
ctrl = 0

[State 4210, ChangeState]
type = ChangeState
trigger1 = Time = 40
value = 4211
ctrl = 0

;---------------------------------------------------------------------------------------------

[Statedef 4211]
type    = A
movetype= H
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 3

[State 4211, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 7000

[State 4211, VelAdd]
type = VelAdd
trigger1 = Time > 49
y = 0.5

[State 4211, SelfState]
type = SelfState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 5100
ctrl = 0

;---------------------------------------------------------------------------------------------

[Statedef 4212]
type    = A
movetype= H
physics = N
poweradd= 0
ctrl = 0
sprpriority = 0

[State 4212, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 7000

;---------------------------------------------------------------------------------------------

[Statedef 4213]
type    = L
movetype= H
physics = N
poweradd= 0
ctrl = 0
sprpriority = 0

[State 4213, SelfState]
type = SelfState
trigger1 = Time = 0
value = 5100
ctrl = 0

;---------------------------------------------------
; Special GetHit
[Statedef 4500]
type = U
movetype = H

[State 4500, PalfX]
type = PalFX
trigger1 = time = 1
add = 164,11,0
mul = 358,256,256
time = 3
ignorehitpause = 1

[State 4500, PalfX]
type = PalFX
trigger1 = time = 5
add = 164,11,0
mul = 358,256,256
time = 3
ignorehitpause = 1

[State 4500, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 9000, 1]
type = VarSet
trigger1 = time = 0
v = 6
value = 30

[State 4500, ChangeState]
type = ChangeState
trigger1 = Life <= 0
value = ifelse(StateType = A, 5020,5000)

[State 4500, ChangeAnim]
type = ChangeAnim
trigger1 = 1
trigger1 = stateno != [200,9000]
value = Anim

[State 4500, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 5
value = 0

[State 4500, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 6
value = 10

[State 4500, End]
type = ChangeState
trigger1 = time = 6
value = anim
ctrl = 1


;---------------------------------------------------------------------------------------------
;Super Jump

[Statedef 7001]
type = A
physics = A
ctrl = 1
anim = 7000
velset = 0,-10 ;0,-12

[State 56, AfterImage]
type = Afterimage
trigger1 = time = 0; && var(8)
time = 23
timegap = 1
framegap = 3
length = 12
palbright = 0, 0, 0
paladd = 0, 0, 0
palmul = 0.9, 0.9, 0.9
palcontrast = 120, 120, 120
palpostbright = 0, 0, 0
trans = add1

[State 7001, VelAdd]
type = VelAdd
triggerall = Vel X >= -2
trigger1 = command = "holdback"
trigger1 = Anim != 43
x = -0.1

[State 7001, VelAdd]
type = VelAdd
triggerall = Vel X <= 2.5
trigger1 = command = "holdfwd"
trigger1 = Anim != 42
x = 0.25

[State 7001, VelSet]
type = VelSet
trigger1 = Anim = 42
trigger1 = Time = [0,5]
x = 4

[State 7001, VelSet]
type = VelSet
trigger1 = Anim = 43
trigger1 = Time = [0,5]
x = -3.5

;[State 7001, ChangeAnim]
;type = ChangeAnim
;trigger1 = Var(11) = 0
;trigger1 = Time = [0,4]
;value = 41

;[State 7001, ChangeAnim]
;type = ChangeAnim
;trigger1 = Var(11) = 1
;trigger1 = Time = [0,4]
;value = 42

;[State 7001, ChangeAnim]
;type = ChangeAnim
;trigger1 = Var(11) = -1
;trigger1 = Time = [0,4]
;value = 43

[State 7001, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 9999,8

;[State 7001, Explod]
;type = Explod
;trigger1 = Time = 0
;ID = 474
;anim = 6669
;postype = p1
;pos = 12, 60
;bindtime = 1
;removetime = -2
;ownpal = 1
;sprpriority = 2
;scale = 1.20 - (time * 0.15), 1.54 - (time * 0.15)
;
;[State 7001, explod]
;type = Explod
;trigger1 = Time = 0
;ID = 474
;anim = 6699
;postype = p1
;pos = 5, 60
;bindtime = 1
;removetime = -2
;ownpal = 1
;sprpriority = 2
;scale = 1.20 - (time * 0.15), 1.54 - (time * 0.15)

;[State 7001, explod]
;type = Explod
;trigger1 = Time = 0
;ID = 474
;anim = 9006
;postype = p1
;pos = 0, 20
;bindtime = 1
;removetime = -2
;ownpal = 1
;sprpriority = 2
;scale = 2, 2
 
[State 7001, Variavelzinha muito til]
type = VarSet
trigger1 = Time = 0
v = 12
value = 1

;---------------------------------------------------------------------------------------------
;Super Jump

[Statedef 7002]
type    = A
physics = A
ctrl = 1

[State 7005, Vel]
type = VelAdd
triggerall = Vel X >= -2
trigger1 = command = "holdback"
trigger1 = Anim != 43
x = -0.1

[State 7005, Vel]
type = VelAdd
triggerall = Vel X <= 2.5
trigger1 = command = "holdfwd"
trigger1 = Anim != 42
x = 0.25


;---------------------------------------------------------------------------------------------
[Statedef 8882]
type = S
physics = S
anim = 0
sprpriority = 1
ctrl = 0

[State 8882, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 8882, ChangeState]
type = Changestate
trigger1 = time = 30
value = 8883

[Statedef 8883]
type = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0

[State 8883, PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 5) || (AnimElem = 9)
value = 8100,0

[State 8883, VelSet]
type = VelSet
trigger1 = 1
x = 8

[State 8883, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 8883, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 8883, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 8883, ChangeState]
type = ChangeState
trigger1 = p2bodydist x <= 190
value = 101
ctrl = 0

;---------------------------------------------------------------------------------------------
[Statedef -3]

[State -3, sidestepshadow]
type=afterimage
triggerall= time=1
trigger1= stateno=718 || stateno=719
time=2
timegap=1
framegap=3
length=12
palbright=0,0,0
paladd=0,0,0
palmul=.9,.9,.9
palcontrast=120,120,120
palpostbright=0,0,0
trans=add1

[State -3, VarAdd]
type = VarAdd
trigger1 = (HitPauseTime = 1) && (P2MoveType = H) && (MoveHit = 1) && (StateNo < 3000)
trigger2 = ProjHitTime(0) = 1
v = 21
value = 1
ignorehitpause = 1

[State -3, VarReset]
type = VarSet
trigger1 = P2MoveType != H
v = 21
value = 0


[State -3, Aterrisagem]
type = PlaySnd
trigger1 = StateNo = 52 && Time = 1 
value = 8100,0

[State -3, Explod]
type = RemoveExplod
trigger1 = StateNo != [3000,4999]
ID = 8900

[State -3, Explod]
type = RemoveExplod
trigger1 = Roundstate = 4
ID = 8901

[State -3, Explod]
type = RemoveExplod
trigger1 = Var(20) > 0
ID = 8900

[State -3, Explod]
type = RemoveExplod
trigger1 = StateNo != [3000,4999]
ID = 8998

[State -3, Explod]
type = RemoveExplod
trigger1 = Roundstate = 4
ID = 8998

[State -3, Explod]
type = RemoveExplod
trigger1 = Var(20) > 0
ID = 8998

[State -3, Explod]
type = RemoveExplod
trigger1 = StateNo != [3000,4999]
ID = 8997

[State -3, Explod]
type = RemoveExplod
trigger1 = Roundstate = 4
ID = 8997

[State -3, Explod]
type = RemoveExplod
trigger1 = Var(20) > 0
ID = 8997

[State -3, Explod]
type = RemoveExplod
trigger1 = StateNo != [3000,4999]
ID = 8999

[State -3, Explod]
type = RemoveExplod
trigger1 = Roundstate = 4
ID = 8999

[State -3, Explod]
type = RemoveExplod
trigger1 = Var(20) > 0
ID = 8999

[State -3, MSSM]
type = VarRandom
trigger1 = 1
v = 23
range = 0,8

[State -3, Super Jump]
type = VarSet
trigger1 = Stateno = 0
v = 12
value = 0

;[State -3, Afterimagetime]
type = Afterimagetime
trigger1 = stateno != [3000,4999] 
time = 0

[State -3, ctrl set]
type = ctrlset
trigger1 = roundstate = 4
value = 0

;---------------------------------------------------------------------------
;Guard Push (Stand)
[Statedef 6300]
type    = S
movetype= I
physics = N
poweradd= 0
velset = 10,0
ctrl = 0
anim = 1111
sprpriority = 2

[State 6300, a1]
type = VelMul
trigger1 = 1
x = 0.75

[State 6300, a2]
type = VelSet
trigger1 = Time = 10
x = 0

[State 6300, a3]
type = Width
trigger1 = 1
value = 10,0

[State 6300, a4]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 6300, a5]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "GuardPush"
postype = P1
pos = -50,0
stateno = 6350
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 6300, a6]
type = Explod
trigger1 = Time = 0
anim = 3333
postype = p1
pos = 53,-50
ownpal = 1
vel = 2,0
ignorehitpause = 1
sprpriority = 7

[State 6300, a7]
type = PlaySnd
trigger1 = Time = 0
value = 54,3
volume = 255
channel = 1

[State 6300, a8]
type = PlaySnd
trigger1 = Time = 0
value = 1,0
channel = 0

[State 6300, a9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 6310];--------------crouch
type    = C
movetype= I
physics = N
poweradd= 0
velset = 10,0
ctrl = 0
anim = 121
sprpriority = 2

[State 6310, a1]
type = VelMul
trigger1 = 1
x = 0.75

[State 6310, a2]
type = VelSet
trigger1 = Time = 10
x = 0

[State 6310, a3]
type = Width
trigger1 = 1
value = 10,0

[State 6310, a4]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 6310, a5]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "GuardPush"
postype = P1
pos = -50,0
stateno = 6350
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 6310, a6]
type = Explod
trigger1 = Time = 0
anim = 3333
postype = p1
pos = 33,-45
ownpal = 1
vel = 2,0
ignorehitpause = 1
sprpriority = 7

[State 6310, a7]
type = PlaySnd
trigger1 = Time = 0
value = 54,3
volume = 255
channel = 1

[State 6310, a8]
type = PlaySnd
trigger1 = Time = 0
value = 50,0
channel = 0

[State 6310, a9]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


[Statedef 6320];------------air
type    = S
movetype= I
physics = N
poweradd= 0
velset = 10,0
ctrl = 0
anim = 122
sprpriority = 2

[State 6320, a1]
type = VelMul
trigger1 = 1
x = 0.75

[State 6320, a2]
type = VelSet
trigger1 = Time = 10
x = 0

[State 6320, a3]
type = Width
trigger1 = 1
value = 10,0

[State 6320, a4]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 6320, a5]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "GuardPush"
postype = P1
pos = -50,0
stateno = 6350
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 6320, a6]
type = Explod
trigger1 = Time = 0
anim = 3333
postype = p1
pos = 33,-55
ownpal = 1
vel = 2,0
ignorehitpause = 1
sprpriority = 7

[State 6320, a7]
type = PlaySnd
trigger1 = Time = 0
value = 54,3
volume = 255
channel = 1

[State 6320, a8]
type = PlaySnd
trigger1 = Time = 0
value = 50,0
channel = 0

[State 6320, a9]
type = ChangeState
trigger1 = AnimTime = 0
value = 51
ctrl = 1

[Statedef 6350];guard push helper
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
anim = 1112
sprpriority = -4

[State 6350, a1]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 6350, a2]
type = VelSet
trigger1 = Time = [0,10]
x = 30

[State 6350, a3]
type = VelSet
trigger1 = Time = [11,13]
x = 20

[State 6350, a4]
type = VelSet
trigger1 = Time >= 14
x = 10

[State 6350, a5]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 6350, a6]
type = DestroySelf
trigger1 = Time >= 18






;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 5030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1


[State 5030, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5040 ;HITA_RECOV

[State 5030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5050 ;HITA_FALL

[State 5030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 5035 ;HITA_UP (transition)

;---------------------------------------------------------------------------

; HITA_UP_T (transition)
[Statedef 5035]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)



[State 5035, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5040 ;HITA_RECOV

[State 5035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5050 ;HITA_FALL

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)



[State 5050, 4] ;Recover near ground
type = null;ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = null;ChangeState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE

 ;===================================================================
;---------------------------------------------------
; Super Armor State
[Statedef 9000]
type = U
movetype = H

[State 4500, PalfX]
type = PalFX
trigger1 = time = 1
add = 164,11,0
mul = 358,256,256
time = 3
ignorehitpause = 1

[State 4500, PalfX]
type = PalFX
trigger1 = time = 5
add = 164,11,0
mul = 358,256,256
time = 3
ignorehitpause = 1

[State 9000, a]
type = VarSet
trigger1 = time = 0
v = 16
value = 1

[State 9000, b]
type = VarSet
trigger1 = time <= 0
v = 13
value = AnimElemNo(0)
ignorehitpause = 1

[State 9000, 1]
type = VarSet
trigger1 = time = 0
v = 12
value = var(4)

[State 9000, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 9000, VarSet]
type = VarSet
trigger1 = Life <= 0
v = 7
value = 1

[State 9000, ChangeState];Dead
type = ChangeState
trigger1 = Life <= 0
value = ifelse(StateType = A, 5020,5000)

[State 9000, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = Anim
elem = var(13)

[State 9000, End]
type = ChangeState
triggerall= Life > 0
trigger1 = time >= floor(gethitvar(hittime) * 0.8)
value = var(5)
ctrl = var(6)

[State 9000, End]
type = ChangeState
triggerall= Life > 0
trigger1 = time > 40
value = 0
ctrl = 1



;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[Statedef -2]

[State 0, PowerSet]
type = PowerSet
triggerall = enemynear, name ="Trainingroom"
trigger1 = power != 3000
value = 3000

[State -2, Set Powered Up Attack]
type = AttackMulSet
trigger1 = var(14) = 1 || var(14) = -1
value = 2

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(1311)>0 && stateno !=1310
id = 1311

[State -2, PalFX]
type = PalFX
triggerall = var(14) = 1 || var(14) = -1
trigger1 = (var(15) % 50) = 0
time = 50
add = 80,0,0
color = 128
sinadd = 80,0,0,50
ignorehitpause = 1

[State -2, Add to Timer]
type = VarAdd
trigger1 = var(14) = 1 || var(14) = -1
v = 15
value = 1

[State -2, Turn off for Whiffed Attacks]
type = VarSet
triggerall = var(14) = 1
trigger1 = MoveType = A
v = 14
value = -1

[State -2, Turn off Power Up]
type = AttackMulSet
trigger1 = var(14) != 0
trigger1 = MoveType = A
trigger1 = MoveContact
trigger2 = var(14) = -1
trigger2 = MoveType != A
trigger2 = (StateNo != 9000) && (StateNo != [5000,5010])
value = 1

[State -2, Turn off Power Up]
type = VarSet
trigger1 = var(14) != 0
trigger1 = MoveType = A
trigger1 = MoveContact
trigger2 = var(14) = -1
trigger2 = MoveType != A
trigger2 = (StateNo != 9000) && (StateNo != [5000,5010])
fv = 3
value = 1

[State -2, Turn off Power Up]
type = VarSet
trigger1 = var(14) != 0
trigger1 = MoveType = A
trigger1 = MoveContact
trigger2 = var(14) = -1
trigger2 = MoveType != A
trigger2 = (StateNo != 9000) && (StateNo != [5000,5010])
v = 14
value = 0

;;;;; fim do cyt

;For debugging purposes
[State -2, Debug Info]
type = DisplayToClipboard
trigger1 = roundstate > 0
text = "Hits: %d, Win or DOS? %d, AI On %d, Super Jump %d, Recovery Roll %d"
;text = "Intro No. %d, Win No. %d, Enemy Proj: %d, Enemy Helpers: %d"
;text = "Score %d"
;text = "P2 Distance X from P1 %f, P2 Distance Y from P1 %f"
params = var(8), var(17), var(59), var(0), var(5)
;params = var(1), var(2), var(7), var(6)
;params = var(11)
;params = P2BodyDist X, P2BodyDist Y

;---------------------------------------------------------------------------
;Is DOS or Win?
[State -2, Detect System]
type = Varadd
trigger1 = (var(17)%2 = 0) && (movecontact) > (movecontact = 1)
v = 17
value = 1

;screenpack mvsc2?
[State -2, Detect Screeenpack]
type = Varadd
trigger1 = var(17) < 10 && roundstate < 2 && numexplod(8522) != 0
v = 17
value = 10

;---------------------------------------------------------------------------



; Super FX Section ==================================================


; Misc SCtrls Section ==================================================
[State -2, Lie Down Snd]
type = PlaySnd
trigger1 = Time = 1
trigger1 = anim = 5300
value = 3,21
channel = 0

; ----------------------------------------------------------------------
[State -2, NoHitBy]
Type = NotHitBy
trigger1 = (NumHelper(9985) = 1) && (NumHelper(9986) = 1)
trigger1 = Time = 0
value = SCA
Time = 30

[State -2, PalFX]
type = PalFX
trigger1 = (NumHelper(9985) = 1) && (NumHelper(9986) = 1)
time = 1
add = 0, 0, 256
mul = 256,256,256
persistent = 0

; ----------------------------------------------------------------------
[State -2, PosAdd]
type = PosAdd
trigger1 = Stateno = [5030, 5040]
trigger1 = (anim = 5040) && (AnimElem = 1, < 2)
y = -20
persistent = 0

; Reset Super Jump var
[State -2, Super Jump Reset]
type = VarSet
trigger1 = stateno = 52
trigger2 = stateno = 0
var(0) = 0

; Remove Explods Section ==============================================
; Remove Special BG if ------------------------------------------------
; State != 3100:
[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 3100
id = 9052




[State -3, 2]
type = PlaySnd
triggerall = Time = 1
triggerall = Life
triggerall = random % 10 > 5
trigger1 = stateno = 5000 || stateno = 5020
trigger1 = anim != 5000 && anim != 5010
trigger2 = stateno = 5010
trigger2 = anim != 5020
value = 11,1
channel = 0
ignorehitpause = 1
volume = 255

[State -3, 2]
type = PlaySnd
triggerall = Time = 1
triggerall = Life
triggerall = random % 10 > 5
trigger1 = stateno = 5000 || stateno = 5020
trigger1 = anim != 5000 && anim != 5010
trigger2 = stateno = 5010
trigger2 = anim != 5020
value = 11,2
channel = 0
ignorehitpause = 1
volume = 255

; Super Armor controllers
[State -3, Increment Counter]
type = VarAdd
trigger1 = Stateno = 9000
v = 4
value = 5

[State -3, Decrement Counter]
type = VarAdd
trigger1 = (StateNo != 9000) && (Var(4) > 0)&& (MoveType != H)
v = 4
value = -1
ignorehitpause = 1

[State -3, Save StateNo]
type = VarSet
trigger1 = (MoveType != H) && (StateNo != 9000)
var(5) = StateNo

[State -3, Save Ctrl]
type = VarSet
trigger1 = (MoveType != H) && (StateNo != 9000)
var(6) = Ctrl

[State -3, Record Turn]
type = VarSet
triggerall = WinKO
trigger1 = Anim = [5,6]
v = 18
value = 1

;cair no cho
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106
value = S15,1

[State -3, Landing Wave]
type = Explod
triggerall = time = 1
trigger1 = stateno = 52
trigger2 = stateno = 106
anim = 6020
postype = p1
pos = -20, 0
bindtime = 1
removetime = -2
sprpriority = -2
ownpal = 1

[State -3, Shake on Land]
type = EnvShake
triggerall = time = 1
trigger1 = StateNo = 52
trigger2 = stateno = 106
time = 15
freq = 150
amp = -3
